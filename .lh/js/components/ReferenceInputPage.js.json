{
    "sourceFile": "js/components/ReferenceInputPage.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 31,
            "patches": [
                {
                    "date": 1729002611707,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1729002625584,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -167,14 +167,19 @@\n                   </div>\r\n                 </div>\r\n   \r\n                 <!-- Error message -->\r\n-                <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n-  \r\n-                <!-- Submit button -->\r\n-                <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n-                  <span>Get Quote</span>\r\n-                </button>\r\n+        <div v-if=\"error\" id=\"error-message\" class=\"text-red-500 mt-4 animate-shake\">{{ error }}</div>\r\n+\r\n+        <!-- Submit button -->\r\n+        <button \r\n+          type=\"submit\" \r\n+          :disabled=\"isLoading\" \r\n+          class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\"\r\n+        >\r\n+          <span v-if=\"!isLoading\">Get Quote</span>\r\n+          <span v-else class=\"animate-pulse\">Loading...</span>\r\n+        </button>\r\n               </form>\r\n             </div>\r\n           </div>\r\n         </div>\r\n"
                },
                {
                    "date": 1729002679796,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,23 @@\n import {\r\n-  fetchBillData,\r\n-  getIsLoading,\r\n-  getError,\r\n-} from \"../store/solarSizingState.js\";\r\n-\r\n-export class ReferenceInputPage {\r\n-  constructor() {\r\n-    this.name = \"\";\r\n-    this.phone = \"\";\r\n-    this.email = \"\";\r\n-    this.referenceNumber = \"\";\r\n-    this.isLoading = false;\r\n-    this.error = null;\r\n-  }\r\n-\r\n-  render() {\r\n-    const app = document.getElementById(\"app\");\r\n-    app.innerHTML = `\r\n+    fetchBillData,\r\n+    getIsLoading,\r\n+    getError,\r\n+  } from \"../store/solarSizingState.js\";\r\n+  \r\n+  export class ReferenceInputPage {\r\n+    constructor() {\r\n+      this.name = \"\";\r\n+      this.phone = \"\";\r\n+      this.email = \"\";\r\n+      this.referenceNumber = \"\";\r\n+      this.isLoading = false;\r\n+      this.error = null;\r\n+    }\r\n+  \r\n+    render() {\r\n+      const app = document.getElementById(\"app\");\r\n+      app.innerHTML = `\r\n         <div class=\"sap_form\">\r\n           <div class=\"container mx-auto px-6 md:px-10\">\r\n             <!-- Mobile Contact Icons -->\r\n             <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n@@ -69,85 +69,42 @@\n               </h2>\r\n             </div>\r\n   \r\n             <!-- Form -->\r\n-    <div class=\"mt-24 animate-fadeIn\">\r\n-      <form @submit.prevent=\"handleSubmit\" id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n-        <!-- Name Field -->\r\n-        <div class=\"relative\">\r\n-          <input \r\n-            type=\"text\" \r\n-            id=\"name\" \r\n-            v-model=\"formData.name\" \r\n-            @input=\"handleInput\" \r\n-            @focus=\"handleFocus\" \r\n-            @blur=\"handleBlur\" \r\n-            placeholder=\" \" \r\n-            required \r\n-            aria-label=\"NAME\" \r\n-            class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\"\r\n-          >\r\n-          <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-            Your name\r\n-          </label>\r\n-        </div>\r\n-\r\n-        <!-- Phone and Email Fields -->\r\n-        <div class=\"grid md:grid-cols-2 gap-6\">\r\n-          <div class=\"relative\">\r\n-            <input \r\n-              type=\"tel\" \r\n-              id=\"phone\" \r\n-              v-model=\"formData.phone\" \r\n-              @input=\"handleInput\" \r\n-              @focus=\"handleFocus\" \r\n-              @blur=\"handleBlur\" \r\n-              placeholder=\" \" \r\n-              required \r\n-              aria-label=\"PHONE\" \r\n-              class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\"\r\n-            >\r\n-            <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-              Phone\r\n-            </label>\r\n-          </div>\r\n-          <div class=\"relative\">\r\n-            <input \r\n-              type=\"email\" \r\n-              id=\"email\" \r\n-              v-model=\"formData.email\" \r\n-              @input=\"handleInput\" \r\n-              @focus=\"handleFocus\" \r\n-              @blur=\"handleBlur\" \r\n-              placeholder=\" \" \r\n-              required \r\n-              aria-label=\"EMAIL\" \r\n-              class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\"\r\n-            >\r\n-            <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-              E-mail\r\n-            </label>\r\n-          </div>\r\n-        </div>\r\n-\r\n-        <!-- Reference Number -->\r\n-        <div class=\"relative\">\r\n-          <input \r\n-            type=\"text\" \r\n-            id=\"referenceNumber\" \r\n-            v-model=\"formData.referenceNumber\" \r\n-            @input=\"handleInput\" \r\n-            @focus=\"handleFocus\" \r\n-            @blur=\"handleBlur\" \r\n-            placeholder=\" \" \r\n-            required \r\n-            aria-label=\"REFERENCE\" \r\n-            class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\"\r\n-          >\r\n-          <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-            MEPCO Bill Reference Number\r\n-          </label>\r\n-        </div>\r\n+            <div class=\"mt-24 animate-fadeIn\">\r\n+              <form id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n+                <!-- Name Field -->\r\n+                <div class=\"relative\">\r\n+                  <input type=\"text\" id=\"name\" name=\"NAME\" placeholder=\" \" required aria-label=\"NAME\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                  <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                    Your name\r\n+                  </label>\r\n+                </div>\r\n+  \r\n+                <!-- Phone and Email Fields -->\r\n+                <div class=\"grid md:grid-cols-2 gap-6\">\r\n+                  <div class=\"relative\">\r\n+                    <input type=\"tel\" id=\"phone\" name=\"PHONE\" placeholder=\" \" required aria-label=\"PHONE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                    <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                      Phone\r\n+                    </label>\r\n+                  </div>\r\n+                  <div class=\"relative\">\r\n+                    <input type=\"email\" id=\"email\" name=\"EMAIL\" placeholder=\" \" required aria-label=\"EMAIL\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                    <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                      E-mail\r\n+                    </label>\r\n+                  </div>\r\n+                </div>\r\n+  \r\n+                <!-- Reference Number -->\r\n+                <div class=\"relative\">\r\n+                  <input type=\"text\" id=\"referenceNumber\" name=\"REFERENCE\" placeholder=\" \" required aria-label=\"REFERENCE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                  <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                    MEPCO Bill Reference Number\r\n+                  </label>\r\n+                </div>\r\n+  \r\n                 <!-- File Upload -->\r\n                 <div class=\"mt-8 animate-slideInRight\">\r\n                   <div class=\"flex flex-wrap items-start max-w-full\">\r\n                     <ul class=\"list_dwn flex flex-wrap mt-4 w-full\"></ul>\r\n@@ -167,112 +124,107 @@\n                   </div>\r\n                 </div>\r\n   \r\n                 <!-- Error message -->\r\n-        <div v-if=\"error\" id=\"error-message\" class=\"text-red-500 mt-4 animate-shake\">{{ error }}</div>\r\n-\r\n-        <!-- Submit button -->\r\n-        <button \r\n-          type=\"submit\" \r\n-          :disabled=\"isLoading\" \r\n-          class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\"\r\n-        >\r\n-          <span v-if=\"!isLoading\">Get Quote</span>\r\n-          <span v-else class=\"animate-pulse\">Loading...</span>\r\n-        </button>\r\n+                <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n+  \r\n+                <!-- Submit button -->\r\n+                <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n+                  <span>Get Quote</span>\r\n+                </button>\r\n               </form>\r\n             </div>\r\n           </div>\r\n         </div>\r\n       `;\r\n-\r\n-    this.attachEventListeners();\r\n-    this.attachStyles();\r\n-  }\r\n-\r\n-  attachEventListeners() {\r\n-    const form = document.getElementById(\"solar-sizing-form\");\r\n-    form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n-\r\n-    const inputs = form.querySelectorAll(\"input\");\r\n-    inputs.forEach((input) => {\r\n-      input.addEventListener(\"input\", this.handleInput.bind(this));\r\n-      input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n-      input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n-    });\r\n-  }\r\n-\r\n-  handleInput(event) {\r\n-    this[event.target.id] = event.target.value;\r\n-  }\r\n-\r\n-  handleFocus(event) {\r\n-    event.target.parentElement.classList.add(\"focused\");\r\n-  }\r\n-\r\n-  handleBlur(event) {\r\n-    if (!event.target.value) {\r\n-      event.target.parentElement.classList.remove(\"focused\");\r\n+  \r\n+      this.attachEventListeners();\r\n+      this.attachStyles();\r\n     }\r\n-  }\r\n-\r\n-  async handleSubmit(event) {\r\n-    event.preventDefault();\r\n-\r\n-    if (this.isFormValid()) {\r\n-      this.isLoading = true;\r\n-      this.renderLoadingState();\r\n-\r\n-      try {\r\n-        await fetchBillData(this.referenceNumber);\r\n-        console.log(\"Navigating to /quote\");\r\n-        window.router.push(\"/quote\");\r\n-      } catch (err) {\r\n-        console.error(\"Error generating quote:\", err);\r\n-        this.error = \"Error generating quote. Please try again.\";\r\n+  \r\n+    attachEventListeners() {\r\n+      const form = document.getElementById(\"solar-sizing-form\");\r\n+      form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n+  \r\n+      const inputs = form.querySelectorAll(\"input\");\r\n+      inputs.forEach((input) => {\r\n+        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n+        input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n+        input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n+      });\r\n+    }\r\n+  \r\n+    handleInput(event) {\r\n+      this[event.target.id] = event.target.value;\r\n+    }\r\n+  \r\n+    handleFocus(event) {\r\n+      event.target.parentElement.classList.add(\"focused\");\r\n+    }\r\n+  \r\n+    handleBlur(event) {\r\n+      if (!event.target.value) {\r\n+        event.target.parentElement.classList.remove(\"focused\");\r\n+      }\r\n+    }\r\n+  \r\n+    async handleSubmit(event) {\r\n+      event.preventDefault();\r\n+  \r\n+      if (this.isFormValid()) {\r\n+        this.isLoading = true;\r\n+        this.renderLoadingState();\r\n+  \r\n+        try {\r\n+          await fetchBillData(this.referenceNumber);\r\n+          console.log(\"Navigating to /quote\");\r\n+          window.router.push(\"/quote\");\r\n+        } catch (err) {\r\n+          console.error(\"Error generating quote:\", err);\r\n+          this.error = \"Error generating quote. Please try again.\";\r\n+          this.renderError();\r\n+        } finally {\r\n+          this.isLoading = false;\r\n+          this.renderLoadingState();\r\n+        }\r\n+      } else {\r\n+        this.error = \"Please fill in all required fields.\";\r\n         this.renderError();\r\n-      } finally {\r\n-        this.isLoading = false;\r\n-        this.renderLoadingState();\r\n       }\r\n-    } else {\r\n-      this.error = \"Please fill in all required fields.\";\r\n-      this.renderError();\r\n     }\r\n-  }\r\n-\r\n-  isFormValid() {\r\n-    return this.name && this.phone && this.email && this.referenceNumber;\r\n-  }\r\n-\r\n-  renderLoadingState() {\r\n-    const button = document.querySelector(\".get_go\");\r\n-    if (this.isLoading) {\r\n-      button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n-      button.disabled = true;\r\n-    } else {\r\n-      button.innerHTML = \"<span>Get Quote</span>\";\r\n-      button.disabled = false;\r\n+  \r\n+    isFormValid() {\r\n+      return this.name && this.phone && this.email && this.referenceNumber;\r\n     }\r\n-  }\r\n-\r\n-  renderError() {\r\n-    const errorMessage = document.getElementById(\"error-message\");\r\n-    if (this.error) {\r\n-      errorMessage.textContent = this.error;\r\n-      errorMessage.classList.remove(\"hidden\");\r\n-      errorMessage.classList.add(\"animate-shake\");\r\n-      setTimeout(() => {\r\n-        errorMessage.classList.remove(\"animate-shake\");\r\n-      }, 500);\r\n-    } else {\r\n-      errorMessage.classList.add(\"hidden\");\r\n+  \r\n+    renderLoadingState() {\r\n+      const button = document.querySelector(\".get_go\");\r\n+      if (this.isLoading) {\r\n+        button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n+        button.disabled = true;\r\n+      } else {\r\n+        button.innerHTML = \"<span>Get Quote</span>\";\r\n+        button.disabled = false;\r\n+      }\r\n     }\r\n-  }\r\n-\r\n-  attachStyles() {\r\n-    const style = document.createElement(\"style\");\r\n-    style.textContent = `\r\n+  \r\n+    renderError() {\r\n+      const errorMessage = document.getElementById(\"error-message\");\r\n+      if (this.error) {\r\n+        errorMessage.textContent = this.error;\r\n+        errorMessage.classList.remove(\"hidden\");\r\n+        errorMessage.classList.add(\"animate-shake\");\r\n+        setTimeout(() => {\r\n+          errorMessage.classList.remove(\"animate-shake\");\r\n+        }, 500);\r\n+      } else {\r\n+        errorMessage.classList.add(\"hidden\");\r\n+      }\r\n+    }\r\n+  \r\n+    attachStyles() {\r\n+      const style = document.createElement(\"style\");\r\n+      style.textContent = `\r\n         @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n         @keyframes slideInLeft { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n         @keyframes slideInRight { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n         @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n@@ -285,7 +237,7 @@\n         .animate-bounce { animation: bounce 2s infinite; }\r\n         .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }\r\n         .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\r\n       `;\r\n-    document.head.appendChild(style);\r\n-  }\r\n-}\r\n+      document.head.appendChild(style);\r\n+    }\r\n+  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1729003202099,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,243 +1,243 @@\n-import {\r\n-    fetchBillData,\r\n-    getIsLoading,\r\n-    getError,\r\n-  } from \"../store/solarSizingState.js\";\r\n+// import {\r\n+//     fetchBillData,\r\n+//     getIsLoading,\r\n+//     getError,\r\n+//   } from \"../store/solarSizingState.js\";\r\n   \r\n-  export class ReferenceInputPage {\r\n-    constructor() {\r\n-      this.name = \"\";\r\n-      this.phone = \"\";\r\n-      this.email = \"\";\r\n-      this.referenceNumber = \"\";\r\n-      this.isLoading = false;\r\n-      this.error = null;\r\n-    }\r\n+//   export class ReferenceInputPage {\r\n+//     constructor() {\r\n+//       this.name = \"\";\r\n+//       this.phone = \"\";\r\n+//       this.email = \"\";\r\n+//       this.referenceNumber = \"\";\r\n+//       this.isLoading = false;\r\n+//       this.error = null;\r\n+//     }\r\n   \r\n-    render() {\r\n-      const app = document.getElementById(\"app\");\r\n-      app.innerHTML = `\r\n-        <div class=\"sap_form\">\r\n-          <div class=\"container mx-auto px-6 md:px-10\">\r\n-            <!-- Mobile Contact Icons -->\r\n-            <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n-              <p>\r\n-                <a href=\"tel:+14155551234\" class=\"contact-icon phn_mb animate-bounce\" aria-label=\"Solar System Sizing Phone\"></a>\r\n-              </p>\r\n-              <p>\r\n-                <a href=\"mailto:info@solarsizing.com\" class=\"contact-icon eml_mb animate-bounce\" aria-label=\"Solar System Sizing Email\"></a>\r\n-              </p>\r\n-              <p>\r\n-                <a href=\"https://t.me/solarsizing\" class=\"contact-icon tg_mb animate-bounce\" aria-label=\"Solar System Sizing Telegram\"></a>\r\n-              </p>\r\n-            </div>\r\n+//     render() {\r\n+//       const app = document.getElementById(\"app\");\r\n+//       app.innerHTML = `\r\n+//         <div class=\"sap_form\">\r\n+//           <div class=\"container mx-auto px-6 md:px-10\">\r\n+//             <!-- Mobile Contact Icons -->\r\n+//             <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n+//               <p>\r\n+//                 <a href=\"tel:+14155551234\" class=\"contact-icon phn_mb animate-bounce\" aria-label=\"Solar System Sizing Phone\"></a>\r\n+//               </p>\r\n+//               <p>\r\n+//                 <a href=\"mailto:info@solarsizing.com\" class=\"contact-icon eml_mb animate-bounce\" aria-label=\"Solar System Sizing Email\"></a>\r\n+//               </p>\r\n+//               <p>\r\n+//                 <a href=\"https://t.me/solarsizing\" class=\"contact-icon tg_mb animate-bounce\" aria-label=\"Solar System Sizing Telegram\"></a>\r\n+//               </p>\r\n+//             </div>\r\n   \r\n-            <!-- Desktop Contact Label -->\r\n-            <div class=\"hidden md:flex pt-4 animate-fadeIn\">\r\n-              <div class=\"w-full\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">Contact us</p>\r\n-              </div>\r\n-            </div>\r\n+//             <!-- Desktop Contact Label -->\r\n+//             <div class=\"hidden md:flex pt-4 animate-fadeIn\">\r\n+//               <div class=\"w-full\">\r\n+//                 <p class=\"text-black opacity-20 text-xl tracking-tight\">Contact us</p>\r\n+//               </div>\r\n+//             </div>\r\n   \r\n-            <!-- Desktop Contact Details -->\r\n-            <div class=\"mt-6 hidden md:flex justify-between animate-fadeIn\">\r\n-              <div class=\"flex items-center\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n-                  <a href=\"https://t.me/solarsizing\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Telegram\">\r\n-                    Telegram\r\n-                  </a>\r\n-                </p>\r\n-              </div>\r\n-              <div class=\"flex items-center\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n-                  <a href=\"mailto:info@solarsizing.com\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Email\">\r\n-                    info@solarsizing.com\r\n-                  </a>\r\n-                </p>\r\n-              </div>\r\n-            </div>\r\n+//             <!-- Desktop Contact Details -->\r\n+//             <div class=\"mt-6 hidden md:flex justify-between animate-fadeIn\">\r\n+//               <div class=\"flex items-center\">\r\n+//                 <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n+//                   <a href=\"https://t.me/solarsizing\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Telegram\">\r\n+//                     Telegram\r\n+//                   </a>\r\n+//                 </p>\r\n+//               </div>\r\n+//               <div class=\"flex items-center\">\r\n+//                 <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n+//                   <a href=\"mailto:info@solarsizing.com\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Email\">\r\n+//                     info@solarsizing.com\r\n+//                   </a>\r\n+//                 </p>\r\n+//               </div>\r\n+//             </div>\r\n   \r\n-            <!-- Form Title -->\r\n-            <div class=\"mt-20 animate-slideInLeft\">\r\n-              <h2 class=\"hidden md:block text-5xl font-normal tracking-tight\">\r\n-                Solar System Sizing Tool -\r\n-                <span class=\"block\">Enter Your Details</span>\r\n-              </h2>\r\n-              <h2 class=\"block md:hidden text-3xl font-normal tracking-tight\">\r\n-                Solar System Sizing Tool -\r\n-                <span class=\"block\">Enter Your Details</span>\r\n-              </h2>\r\n-            </div>\r\n+//             <!-- Form Title -->\r\n+//             <div class=\"mt-20 animate-slideInLeft\">\r\n+//               <h2 class=\"hidden md:block text-5xl font-normal tracking-tight\">\r\n+//                 Solar System Sizing Tool -\r\n+//                 <span class=\"block\">Enter Your Details</span>\r\n+//               </h2>\r\n+//               <h2 class=\"block md:hidden text-3xl font-normal tracking-tight\">\r\n+//                 Solar System Sizing Tool -\r\n+//                 <span class=\"block\">Enter Your Details</span>\r\n+//               </h2>\r\n+//             </div>\r\n   \r\n-            <!-- Form -->\r\n-            <div class=\"mt-24 animate-fadeIn\">\r\n-              <form id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n-                <!-- Name Field -->\r\n-                <div class=\"relative\">\r\n-                  <input type=\"text\" id=\"name\" name=\"NAME\" placeholder=\" \" required aria-label=\"NAME\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                  <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                    Your name\r\n-                  </label>\r\n-                </div>\r\n+//             <!-- Form -->\r\n+//             <div class=\"mt-24 animate-fadeIn\">\r\n+//               <form id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n+//                 <!-- Name Field -->\r\n+//                 <div class=\"relative\">\r\n+//                   <input type=\"text\" id=\"name\" name=\"NAME\" placeholder=\" \" required aria-label=\"NAME\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+//                   <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+//                     Your name\r\n+//                   </label>\r\n+//                 </div>\r\n   \r\n-                <!-- Phone and Email Fields -->\r\n-                <div class=\"grid md:grid-cols-2 gap-6\">\r\n-                  <div class=\"relative\">\r\n-                    <input type=\"tel\" id=\"phone\" name=\"PHONE\" placeholder=\" \" required aria-label=\"PHONE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                    <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                      Phone\r\n-                    </label>\r\n-                  </div>\r\n-                  <div class=\"relative\">\r\n-                    <input type=\"email\" id=\"email\" name=\"EMAIL\" placeholder=\" \" required aria-label=\"EMAIL\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                    <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                      E-mail\r\n-                    </label>\r\n-                  </div>\r\n-                </div>\r\n+//                 <!-- Phone and Email Fields -->\r\n+//                 <div class=\"grid md:grid-cols-2 gap-6\">\r\n+//                   <div class=\"relative\">\r\n+//                     <input type=\"tel\" id=\"phone\" name=\"PHONE\" placeholder=\" \" required aria-label=\"PHONE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+//                     <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+//                       Phone\r\n+//                     </label>\r\n+//                   </div>\r\n+//                   <div class=\"relative\">\r\n+//                     <input type=\"email\" id=\"email\" name=\"EMAIL\" placeholder=\" \" required aria-label=\"EMAIL\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+//                     <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+//                       E-mail\r\n+//                     </label>\r\n+//                   </div>\r\n+//                 </div>\r\n   \r\n-                <!-- Reference Number -->\r\n-                <div class=\"relative\">\r\n-                  <input type=\"text\" id=\"referenceNumber\" name=\"REFERENCE\" placeholder=\" \" required aria-label=\"REFERENCE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                  <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                    MEPCO Bill Reference Number\r\n-                  </label>\r\n-                </div>\r\n+//                 <!-- Reference Number -->\r\n+//                 <div class=\"relative\">\r\n+//                   <input type=\"text\" id=\"referenceNumber\" name=\"REFERENCE\" placeholder=\" \" required aria-label=\"REFERENCE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+//                   <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+//                     MEPCO Bill Reference Number\r\n+//                   </label>\r\n+//                 </div>\r\n   \r\n-                <!-- File Upload -->\r\n-                <div class=\"mt-8 animate-slideInRight\">\r\n-                  <div class=\"flex flex-wrap items-start max-w-full\">\r\n-                    <ul class=\"list_dwn flex flex-wrap mt-4 w-full\"></ul>\r\n-                    <div class=\"relative\">\r\n-                      <div class=\"dwn text-lg text-black cursor-pointer px-4 py-2 hover:text-gray-400 transition-colors duration-300\">\r\n-                        Add attachment\r\n-                      </div>\r\n-                      <input type=\"file\" name=\"files[]\" data-url=\"/user_files/\" class=\"hidden\">\r\n-                      <div class=\"progress bg-gray-400 mt-2 relative h-0.5 w-full max-w-full\" role=\"progressbar\" aria-label=\"File Upload Progress\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\">\r\n-                        <div class=\"progress-bar-success bg-green-500 absolute top-0 left-0 h-full\" style=\"width: 0%\"></div>\r\n-                      </div>\r\n-                      <div class=\"progress_txt mt-4 text-sm text-black\">\r\n-                        <div>Supported formats: jpg, png, pdf, doc(x), xls(x), ppt(x)</div>\r\n-                        <div>Maximum file size 20 MB</div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </div>\r\n+//                 <!-- File Upload -->\r\n+//                 <div class=\"mt-8 animate-slideInRight\">\r\n+//                   <div class=\"flex flex-wrap items-start max-w-full\">\r\n+//                     <ul class=\"list_dwn flex flex-wrap mt-4 w-full\"></ul>\r\n+//                     <div class=\"relative\">\r\n+//                       <div class=\"dwn text-lg text-black cursor-pointer px-4 py-2 hover:text-gray-400 transition-colors duration-300\">\r\n+//                         Add attachment\r\n+//                       </div>\r\n+//                       <input type=\"file\" name=\"files[]\" data-url=\"/user_files/\" class=\"hidden\">\r\n+//                       <div class=\"progress bg-gray-400 mt-2 relative h-0.5 w-full max-w-full\" role=\"progressbar\" aria-label=\"File Upload Progress\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\">\r\n+//                         <div class=\"progress-bar-success bg-green-500 absolute top-0 left-0 h-full\" style=\"width: 0%\"></div>\r\n+//                       </div>\r\n+//                       <div class=\"progress_txt mt-4 text-sm text-black\">\r\n+//                         <div>Supported formats: jpg, png, pdf, doc(x), xls(x), ppt(x)</div>\r\n+//                         <div>Maximum file size 20 MB</div>\r\n+//                       </div>\r\n+//                     </div>\r\n+//                   </div>\r\n+//                 </div>\r\n   \r\n-                <!-- Error message -->\r\n\\ No newline at end of file\n-                <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n+//                 <!-- Error message -->\r\n+//                 <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n   \r\n-                <!-- Submit button -->\r\n-                <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n-                  <span>Get Quote</span>\r\n-                </button>\r\n-              </form>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      `;\r\n+//                 <!-- Submit button -->\r\n+//                 <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n+//                   <span>Get Quote</span>\r\n+//                 </button>\r\n+//               </form>\r\n+//             </div>\r\n+//           </div>\r\n+//         </div>\r\n+//       `;\r\n   \r\n-      this.attachEventListeners();\r\n-      this.attachStyles();\r\n-    }\r\n+//       this.attachEventListeners();\r\n+//       this.attachStyles();\r\n+//     }\r\n   \r\n-    attachEventListeners() {\r\n-      const form = document.getElementById(\"solar-sizing-form\");\r\n-      form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n+//     attachEventListeners() {\r\n+//       const form = document.getElementById(\"solar-sizing-form\");\r\n+//       form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n   \r\n-      const inputs = form.querySelectorAll(\"input\");\r\n-      inputs.forEach((input) => {\r\n-        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n-        input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n-        input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n-      });\r\n-    }\r\n+//       const inputs = form.querySelectorAll(\"input\");\r\n+//       inputs.forEach((input) => {\r\n+//         input.addEventListener(\"input\", this.handleInput.bind(this));\r\n+//         input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n+//         input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n+//       });\r\n+//     }\r\n   \r\n-    handleInput(event) {\r\n-      this[event.target.id] = event.target.value;\r\n-    }\r\n+//     handleInput(event) {\r\n+//       this[event.target.id] = event.target.value;\r\n+//     }\r\n   \r\n-    handleFocus(event) {\r\n-      event.target.parentElement.classList.add(\"focused\");\r\n-    }\r\n+//     handleFocus(event) {\r\n+//       event.target.parentElement.classList.add(\"focused\");\r\n+//     }\r\n   \r\n-    handleBlur(event) {\r\n-      if (!event.target.value) {\r\n-        event.target.parentElement.classList.remove(\"focused\");\r\n-      }\r\n-    }\r\n+//     handleBlur(event) {\r\n+//       if (!event.target.value) {\r\n+//         event.target.parentElement.classList.remove(\"focused\");\r\n+//       }\r\n+//     }\r\n   \r\n-    async handleSubmit(event) {\r\n-      event.preventDefault();\r\n+//     async handleSubmit(event) {\r\n+//       event.preventDefault();\r\n   \r\n-      if (this.isFormValid()) {\r\n-        this.isLoading = true;\r\n-        this.renderLoadingState();\r\n+//       if (this.isFormValid()) {\r\n+//         this.isLoading = true;\r\n+//         this.renderLoadingState();\r\n   \r\n-        try {\r\n-          await fetchBillData(this.referenceNumber);\r\n-          console.log(\"Navigating to /quote\");\r\n-          window.router.push(\"/quote\");\r\n-        } catch (err) {\r\n-          console.error(\"Error generating quote:\", err);\r\n-          this.error = \"Error generating quote. Please try again.\";\r\n-          this.renderError();\r\n-        } finally {\r\n-          this.isLoading = false;\r\n-          this.renderLoadingState();\r\n-        }\r\n-      } else {\r\n-        this.error = \"Please fill in all required fields.\";\r\n-        this.renderError();\r\n-      }\r\n-    }\r\n+//         try {\r\n+//           await fetchBillData(this.referenceNumber);\r\n+//           console.log(\"Navigating to /quote\");\r\n+//           window.router.push(\"/quote\");\r\n+//         } catch (err) {\r\n+//           console.error(\"Error generating quote:\", err);\r\n+//           this.error = \"Error generating quote. Please try again.\";\r\n+//           this.renderError();\r\n+//         } finally {\r\n+//           this.isLoading = false;\r\n+//           this.renderLoadingState();\r\n+//         }\r\n+//       } else {\r\n+//         this.error = \"Please fill in all required fields.\";\r\n+//         this.renderError();\r\n+//       }\r\n+//     }\r\n   \r\n-    isFormValid() {\r\n-      return this.name && this.phone && this.email && this.referenceNumber;\r\n-    }\r\n+//     isFormValid() {\r\n+//       return this.name && this.phone && this.email && this.referenceNumber;\r\n+//     }\r\n   \r\n-    renderLoadingState() {\r\n-      const button = document.querySelector(\".get_go\");\r\n-      if (this.isLoading) {\r\n-        button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n-        button.disabled = true;\r\n-      } else {\r\n-        button.innerHTML = \"<span>Get Quote</span>\";\r\n-        button.disabled = false;\r\n-      }\r\n-    }\r\n+//     renderLoadingState() {\r\n+//       const button = document.querySelector(\".get_go\");\r\n+//       if (this.isLoading) {\r\n+//         button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n+//         button.disabled = true;\r\n+//       } else {\r\n+//         button.innerHTML = \"<span>Get Quote</span>\";\r\n+//         button.disabled = false;\r\n+//       }\r\n+//     }\r\n   \r\n-    renderError() {\r\n-      const errorMessage = document.getElementById(\"error-message\");\r\n-      if (this.error) {\r\n-        errorMessage.textContent = this.error;\r\n-        errorMessage.classList.remove(\"hidden\");\r\n-        errorMessage.classList.add(\"animate-shake\");\r\n-        setTimeout(() => {\r\n-          errorMessage.classList.remove(\"animate-shake\");\r\n-        }, 500);\r\n-      } else {\r\n-        errorMessage.classList.add(\"hidden\");\r\n-      }\r\n-    }\r\n+//     renderError() {\r\n+//       const errorMessage = document.getElementById(\"error-message\");\r\n+//       if (this.error) {\r\n+//         errorMessage.textContent = this.error;\r\n+//         errorMessage.classList.remove(\"hidden\");\r\n+//         errorMessage.classList.add(\"animate-shake\");\r\n+//         setTimeout(() => {\r\n+//           errorMessage.classList.remove(\"animate-shake\");\r\n+//         }, 500);\r\n+//       } else {\r\n+//         errorMessage.classList.add(\"hidden\");\r\n+//       }\r\n+//     }\r\n   \r\n-    attachStyles() {\r\n-      const style = document.createElement(\"style\");\r\n-      style.textContent = `\r\n-        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n-        @keyframes slideInLeft { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n-        @keyframes slideInRight { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n-        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n-        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); } 20%, 40%, 60%, 80% { transform: translateX(10px); } }\r\n-        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }\r\n+//     attachStyles() {\r\n+//       const style = document.createElement(\"style\");\r\n+//       style.textContent = `\r\n+//         @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n+//         @keyframes slideInLeft { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n+//         @keyframes slideInRight { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n+//         @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n+//         @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); } 20%, 40%, 60%, 80% { transform: translateX(10px); } }\r\n+//         @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }\r\n   \r\n-        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\r\n-        .animate-slideInLeft { animation: slideInLeft 0.5s ease-out; }\r\n-        .animate-slideInRight { animation: slideInRight 0.5s ease-out; }\r\n-        .animate-bounce { animation: bounce 2s infinite; }\r\n-        .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }\r\n-        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\r\n-      `;\r\n-      document.head.appendChild(style);\r\n-    }\r\n-  }\n+//         .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\r\n+//         .animate-slideInLeft { animation: slideInLeft 0.5s ease-out; }\r\n+//         .animate-slideInRight { animation: slideInRight 0.5s ease-out; }\r\n+//         .animate-bounce { animation: bounce 2s infinite; }\r\n+//         .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }\r\n+//         .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\r\n+//       `;\r\n+//       document.head.appendChild(style);\r\n+//     }\r\n+//   }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1729003315323,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,243 +1,243 @@\n-// import {\r\n-//     fetchBillData,\r\n-//     getIsLoading,\r\n-//     getError,\r\n-//   } from \"../store/solarSizingState.js\";\r\n+import {\r\n+    fetchBillData,\r\n+    getIsLoading,\r\n+    getError,\r\n+  } from \"../store/solarSizingState.js\";\r\n   \r\n-//   export class ReferenceInputPage {\r\n-//     constructor() {\r\n-//       this.name = \"\";\r\n-//       this.phone = \"\";\r\n-//       this.email = \"\";\r\n-//       this.referenceNumber = \"\";\r\n-//       this.isLoading = false;\r\n-//       this.error = null;\r\n-//     }\r\n+  export class ReferenceInputPage {\r\n+    constructor() {\r\n+      this.name = \"\";\r\n+      this.phone = \"\";\r\n+      this.email = \"\";\r\n+      this.referenceNumber = \"\";\r\n+      this.isLoading = false;\r\n+      this.error = null;\r\n+    }\r\n   \r\n-//     render() {\r\n-//       const app = document.getElementById(\"app\");\r\n-//       app.innerHTML = `\r\n-//         <div class=\"sap_form\">\r\n-//           <div class=\"container mx-auto px-6 md:px-10\">\r\n-//             <!-- Mobile Contact Icons -->\r\n-//             <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n-//               <p>\r\n-//                 <a href=\"tel:+14155551234\" class=\"contact-icon phn_mb animate-bounce\" aria-label=\"Solar System Sizing Phone\"></a>\r\n-//               </p>\r\n-//               <p>\r\n-//                 <a href=\"mailto:info@solarsizing.com\" class=\"contact-icon eml_mb animate-bounce\" aria-label=\"Solar System Sizing Email\"></a>\r\n-//               </p>\r\n-//               <p>\r\n-//                 <a href=\"https://t.me/solarsizing\" class=\"contact-icon tg_mb animate-bounce\" aria-label=\"Solar System Sizing Telegram\"></a>\r\n-//               </p>\r\n-//             </div>\r\n+    render() {\r\n+      const app = document.getElementById(\"app\");\r\n+      app.innerHTML = `\r\n+        <div class=\"sap_form\">\r\n+          <div class=\"container mx-auto px-6 md:px-10\">\r\n+            <!-- Mobile Contact Icons -->\r\n+            <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n+              <p>\r\n+                <a href=\"tel:+14155551234\" class=\"contact-icon phn_mb animate-bounce\" aria-label=\"Solar System Sizing Phone\"></a>\r\n+              </p>\r\n+              <p>\r\n+                <a href=\"mailto:info@solarsizing.com\" class=\"contact-icon eml_mb animate-bounce\" aria-label=\"Solar System Sizing Email\"></a>\r\n+              </p>\r\n+              <p>\r\n+                <a href=\"https://t.me/solarsizing\" class=\"contact-icon tg_mb animate-bounce\" aria-label=\"Solar System Sizing Telegram\"></a>\r\n+              </p>\r\n+            </div>\r\n   \r\n-//             <!-- Desktop Contact Label -->\r\n-//             <div class=\"hidden md:flex pt-4 animate-fadeIn\">\r\n-//               <div class=\"w-full\">\r\n-//                 <p class=\"text-black opacity-20 text-xl tracking-tight\">Contact us</p>\r\n-//               </div>\r\n-//             </div>\r\n+            <!-- Desktop Contact Label -->\r\n+            <div class=\"hidden md:flex pt-4 animate-fadeIn\">\r\n+              <div class=\"w-full\">\r\n+                <p class=\"text-black opacity-20 text-xl tracking-tight\">Contact us</p>\r\n+              </div>\r\n+            </div>\r\n   \r\n-//             <!-- Desktop Contact Details -->\r\n-//             <div class=\"mt-6 hidden md:flex justify-between animate-fadeIn\">\r\n-//               <div class=\"flex items-center\">\r\n-//                 <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n-//                   <a href=\"https://t.me/solarsizing\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Telegram\">\r\n-//                     Telegram\r\n-//                   </a>\r\n-//                 </p>\r\n-//               </div>\r\n-//               <div class=\"flex items-center\">\r\n-//                 <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n-//                   <a href=\"mailto:info@solarsizing.com\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Email\">\r\n-//                     info@solarsizing.com\r\n-//                   </a>\r\n-//                 </p>\r\n-//               </div>\r\n-//             </div>\r\n+            <!-- Desktop Contact Details -->\r\n+            <div class=\"mt-6 hidden md:flex justify-between animate-fadeIn\">\r\n+              <div class=\"flex items-center\">\r\n+                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n+                  <a href=\"https://t.me/solarsizing\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Telegram\">\r\n+                    Telegram\r\n+                  </a>\r\n+                </p>\r\n+              </div>\r\n+              <div class=\"flex items-center\">\r\n+                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n+                  <a href=\"mailto:info@solarsizing.com\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Email\">\r\n+                    info@solarsizing.com\r\n+                  </a>\r\n+                </p>\r\n+              </div>\r\n+            </div>\r\n   \r\n-//             <!-- Form Title -->\r\n-//             <div class=\"mt-20 animate-slideInLeft\">\r\n-//               <h2 class=\"hidden md:block text-5xl font-normal tracking-tight\">\r\n-//                 Solar System Sizing Tool -\r\n-//                 <span class=\"block\">Enter Your Details</span>\r\n-//               </h2>\r\n-//               <h2 class=\"block md:hidden text-3xl font-normal tracking-tight\">\r\n-//                 Solar System Sizing Tool -\r\n-//                 <span class=\"block\">Enter Your Details</span>\r\n-//               </h2>\r\n-//             </div>\r\n+            <!-- Form Title -->\r\n+            <div class=\"mt-20 animate-slideInLeft\">\r\n+              <h2 class=\"hidden md:block text-5xl font-normal tracking-tight\">\r\n+                Solar System Sizing Tool -\r\n+                <span class=\"block\">Enter Your Details</span>\r\n+              </h2>\r\n+              <h2 class=\"block md:hidden text-3xl font-normal tracking-tight\">\r\n+                Solar System Sizing Tool -\r\n+                <span class=\"block\">Enter Your Details</span>\r\n+              </h2>\r\n+            </div>\r\n   \r\n-//             <!-- Form -->\r\n-//             <div class=\"mt-24 animate-fadeIn\">\r\n-//               <form id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n-//                 <!-- Name Field -->\r\n-//                 <div class=\"relative\">\r\n-//                   <input type=\"text\" id=\"name\" name=\"NAME\" placeholder=\" \" required aria-label=\"NAME\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-//                   <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-//                     Your name\r\n-//                   </label>\r\n-//                 </div>\r\n+            <!-- Form -->\r\n+            <div class=\"mt-24 animate-fadeIn\">\r\n+              <form id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n+                <!-- Name Field -->\r\n+                <div class=\"relative\">\r\n+                  <input type=\"text\" id=\"name\" name=\"NAME\" placeholder=\" \" required aria-label=\"NAME\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                  <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                    Your name\r\n+                  </label>\r\n+                </div>\r\n   \r\n-//                 <!-- Phone and Email Fields -->\r\n-//                 <div class=\"grid md:grid-cols-2 gap-6\">\r\n-//                   <div class=\"relative\">\r\n-//                     <input type=\"tel\" id=\"phone\" name=\"PHONE\" placeholder=\" \" required aria-label=\"PHONE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-//                     <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-//                       Phone\r\n-//                     </label>\r\n-//                   </div>\r\n-//                   <div class=\"relative\">\r\n-//                     <input type=\"email\" id=\"email\" name=\"EMAIL\" placeholder=\" \" required aria-label=\"EMAIL\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-//                     <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-//                       E-mail\r\n-//                     </label>\r\n-//                   </div>\r\n-//                 </div>\r\n+                <!-- Phone and Email Fields -->\r\n+                <div class=\"grid md:grid-cols-2 gap-6\">\r\n+                  <div class=\"relative\">\r\n+                    <input type=\"tel\" id=\"phone\" name=\"PHONE\" placeholder=\" \" required aria-label=\"PHONE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                    <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                      Phone\r\n+                    </label>\r\n+                  </div>\r\n+                  <div class=\"relative\">\r\n+                    <input type=\"email\" id=\"email\" name=\"EMAIL\" placeholder=\" \" required aria-label=\"EMAIL\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                    <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                      E-mail\r\n+                    </label>\r\n+                  </div>\r\n+                </div>\r\n   \r\n-//                 <!-- Reference Number -->\r\n-//                 <div class=\"relative\">\r\n-//                   <input type=\"text\" id=\"referenceNumber\" name=\"REFERENCE\" placeholder=\" \" required aria-label=\"REFERENCE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-//                   <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-//                     MEPCO Bill Reference Number\r\n-//                   </label>\r\n-//                 </div>\r\n+                <!-- Reference Number -->\r\n+                <div class=\"relative\">\r\n+                  <input type=\"text\" id=\"referenceNumber\" name=\"REFERENCE\" placeholder=\" \" required aria-label=\"REFERENCE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                  <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                    MEPCO Bill Reference Number\r\n+                  </label>\r\n+                </div>\r\n   \r\n-//                 <!-- File Upload -->\r\n-//                 <div class=\"mt-8 animate-slideInRight\">\r\n-//                   <div class=\"flex flex-wrap items-start max-w-full\">\r\n-//                     <ul class=\"list_dwn flex flex-wrap mt-4 w-full\"></ul>\r\n-//                     <div class=\"relative\">\r\n-//                       <div class=\"dwn text-lg text-black cursor-pointer px-4 py-2 hover:text-gray-400 transition-colors duration-300\">\r\n-//                         Add attachment\r\n-//                       </div>\r\n-//                       <input type=\"file\" name=\"files[]\" data-url=\"/user_files/\" class=\"hidden\">\r\n-//                       <div class=\"progress bg-gray-400 mt-2 relative h-0.5 w-full max-w-full\" role=\"progressbar\" aria-label=\"File Upload Progress\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\">\r\n-//                         <div class=\"progress-bar-success bg-green-500 absolute top-0 left-0 h-full\" style=\"width: 0%\"></div>\r\n-//                       </div>\r\n-//                       <div class=\"progress_txt mt-4 text-sm text-black\">\r\n-//                         <div>Supported formats: jpg, png, pdf, doc(x), xls(x), ppt(x)</div>\r\n-//                         <div>Maximum file size 20 MB</div>\r\n-//                       </div>\r\n-//                     </div>\r\n-//                   </div>\r\n-//                 </div>\r\n+                <!-- File Upload -->\r\n+                <div class=\"mt-8 animate-slideInRight\">\r\n+                  <div class=\"flex flex-wrap items-start max-w-full\">\r\n+                    <ul class=\"list_dwn flex flex-wrap mt-4 w-full\"></ul>\r\n+                    <div class=\"relative\">\r\n+                      <div class=\"dwn text-lg text-black cursor-pointer px-4 py-2 hover:text-gray-400 transition-colors duration-300\">\r\n+                        Add attachment\r\n+                      </div>\r\n+                      <input type=\"file\" name=\"files[]\" data-url=\"/user_files/\" class=\"hidden\">\r\n+                      <div class=\"progress bg-gray-400 mt-2 relative h-0.5 w-full max-w-full\" role=\"progressbar\" aria-label=\"File Upload Progress\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\">\r\n+                        <div class=\"progress-bar-success bg-green-500 absolute top-0 left-0 h-full\" style=\"width: 0%\"></div>\r\n+                      </div>\r\n+                      <div class=\"progress_txt mt-4 text-sm text-black\">\r\n+                        <div>Supported formats: jpg, png, pdf, doc(x), xls(x), ppt(x)</div>\r\n+                        <div>Maximum file size 20 MB</div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </div>\r\n   \r\n-//                 <!-- Error message -->\r\n\\ No newline at end of file\n-//                 <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n+                <!-- Error message -->\r\n+                <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n   \r\n-//                 <!-- Submit button -->\r\n-//                 <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n-//                   <span>Get Quote</span>\r\n-//                 </button>\r\n-//               </form>\r\n-//             </div>\r\n-//           </div>\r\n-//         </div>\r\n-//       `;\r\n+                <!-- Submit button -->\r\n+                <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n+                  <span>Get Quote</span>\r\n+                </button>\r\n+              </form>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      `;\r\n   \r\n-//       this.attachEventListeners();\r\n-//       this.attachStyles();\r\n-//     }\r\n+      this.attachEventListeners();\r\n+      this.attachStyles();\r\n+    }\r\n   \r\n-//     attachEventListeners() {\r\n-//       const form = document.getElementById(\"solar-sizing-form\");\r\n-//       form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n+    attachEventListeners() {\r\n+      const form = document.getElementById(\"solar-sizing-form\");\r\n+      form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n   \r\n-//       const inputs = form.querySelectorAll(\"input\");\r\n-//       inputs.forEach((input) => {\r\n-//         input.addEventListener(\"input\", this.handleInput.bind(this));\r\n-//         input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n-//         input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n-//       });\r\n-//     }\r\n+      const inputs = form.querySelectorAll(\"input\");\r\n+      inputs.forEach((input) => {\r\n+        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n+        input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n+        input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n+      });\r\n+    }\r\n   \r\n-//     handleInput(event) {\r\n-//       this[event.target.id] = event.target.value;\r\n-//     }\r\n+    handleInput(event) {\r\n+      this[event.target.id] = event.target.value;\r\n+    }\r\n   \r\n-//     handleFocus(event) {\r\n-//       event.target.parentElement.classList.add(\"focused\");\r\n-//     }\r\n+    handleFocus(event) {\r\n+      event.target.parentElement.classList.add(\"focused\");\r\n+    }\r\n   \r\n-//     handleBlur(event) {\r\n-//       if (!event.target.value) {\r\n-//         event.target.parentElement.classList.remove(\"focused\");\r\n-//       }\r\n-//     }\r\n+    handleBlur(event) {\r\n+      if (!event.target.value) {\r\n+        event.target.parentElement.classList.remove(\"focused\");\r\n+      }\r\n+    }\r\n   \r\n-//     async handleSubmit(event) {\r\n-//       event.preventDefault();\r\n+    async handleSubmit(event) {\r\n+      event.preventDefault();\r\n   \r\n-//       if (this.isFormValid()) {\r\n-//         this.isLoading = true;\r\n-//         this.renderLoadingState();\r\n+      if (this.isFormValid()) {\r\n+        this.isLoading = true;\r\n+        this.renderLoadingState();\r\n   \r\n-//         try {\r\n-//           await fetchBillData(this.referenceNumber);\r\n-//           console.log(\"Navigating to /quote\");\r\n-//           window.router.push(\"/quote\");\r\n-//         } catch (err) {\r\n-//           console.error(\"Error generating quote:\", err);\r\n-//           this.error = \"Error generating quote. Please try again.\";\r\n-//           this.renderError();\r\n-//         } finally {\r\n-//           this.isLoading = false;\r\n-//           this.renderLoadingState();\r\n-//         }\r\n-//       } else {\r\n-//         this.error = \"Please fill in all required fields.\";\r\n-//         this.renderError();\r\n-//       }\r\n-//     }\r\n+        try {\r\n+          await fetchBillData(this.referenceNumber);\r\n+          console.log(\"Navigating to /quote\");\r\n+          window.router.push(\"/quote\");\r\n+        } catch (err) {\r\n+          console.error(\"Error generating quote:\", err);\r\n+          this.error = \"Error generating quote. Please try again.\";\r\n+          this.renderError();\r\n+        } finally {\r\n+          this.isLoading = false;\r\n+          this.renderLoadingState();\r\n+        }\r\n+      } else {\r\n+        this.error = \"Please fill in all required fields.\";\r\n+        this.renderError();\r\n+      }\r\n+    }\r\n   \r\n-//     isFormValid() {\r\n-//       return this.name && this.phone && this.email && this.referenceNumber;\r\n-//     }\r\n+    isFormValid() {\r\n+      return this.name && this.phone && this.email && this.referenceNumber;\r\n+    }\r\n   \r\n-//     renderLoadingState() {\r\n-//       const button = document.querySelector(\".get_go\");\r\n-//       if (this.isLoading) {\r\n-//         button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n-//         button.disabled = true;\r\n-//       } else {\r\n-//         button.innerHTML = \"<span>Get Quote</span>\";\r\n-//         button.disabled = false;\r\n-//       }\r\n-//     }\r\n+    renderLoadingState() {\r\n+      const button = document.querySelector(\".get_go\");\r\n+      if (this.isLoading) {\r\n+        button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n+        button.disabled = true;\r\n+      } else {\r\n+        button.innerHTML = \"<span>Get Quote</span>\";\r\n+        button.disabled = false;\r\n+      }\r\n+    }\r\n   \r\n-//     renderError() {\r\n-//       const errorMessage = document.getElementById(\"error-message\");\r\n-//       if (this.error) {\r\n-//         errorMessage.textContent = this.error;\r\n-//         errorMessage.classList.remove(\"hidden\");\r\n-//         errorMessage.classList.add(\"animate-shake\");\r\n-//         setTimeout(() => {\r\n-//           errorMessage.classList.remove(\"animate-shake\");\r\n-//         }, 500);\r\n-//       } else {\r\n-//         errorMessage.classList.add(\"hidden\");\r\n-//       }\r\n-//     }\r\n+    renderError() {\r\n+      const errorMessage = document.getElementById(\"error-message\");\r\n+      if (this.error) {\r\n+        errorMessage.textContent = this.error;\r\n+        errorMessage.classList.remove(\"hidden\");\r\n+        errorMessage.classList.add(\"animate-shake\");\r\n+        setTimeout(() => {\r\n+          errorMessage.classList.remove(\"animate-shake\");\r\n+        }, 500);\r\n+      } else {\r\n+        errorMessage.classList.add(\"hidden\");\r\n+      }\r\n+    }\r\n   \r\n-//     attachStyles() {\r\n-//       const style = document.createElement(\"style\");\r\n-//       style.textContent = `\r\n-//         @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n-//         @keyframes slideInLeft { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n-//         @keyframes slideInRight { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n-//         @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n-//         @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); } 20%, 40%, 60%, 80% { transform: translateX(10px); } }\r\n-//         @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }\r\n+    attachStyles() {\r\n+      const style = document.createElement(\"style\");\r\n+      style.textContent = `\r\n+        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n+        @keyframes slideInLeft { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n+        @keyframes slideInRight { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n+        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n+        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); } 20%, 40%, 60%, 80% { transform: translateX(10px); } }\r\n+        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }\r\n   \r\n-//         .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\r\n-//         .animate-slideInLeft { animation: slideInLeft 0.5s ease-out; }\r\n-//         .animate-slideInRight { animation: slideInRight 0.5s ease-out; }\r\n-//         .animate-bounce { animation: bounce 2s infinite; }\r\n-//         .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }\r\n-//         .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\r\n-//       `;\r\n-//       document.head.appendChild(style);\r\n-//     }\r\n-//   }\n+        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\r\n+        .animate-slideInLeft { animation: slideInLeft 0.5s ease-out; }\r\n+        .animate-slideInRight { animation: slideInRight 0.5s ease-out; }\r\n+        .animate-bounce { animation: bounce 2s infinite; }\r\n+        .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }\r\n+        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\r\n+      `;\r\n+      document.head.appendChild(style);\r\n+    }\r\n+  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1729090858964,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,243 @@\n+import {\r\n+    fetchBillData,\r\n+    getIsLoading,\r\n+    getError,\r\n+  } from \"../store/solarSizingState.js\";\r\n+  \r\n+  export class ReferenceInputPage {\r\n+    constructor() {\r\n+      this.name = \"\";\r\n+      this.phone = \"\";\r\n+      this.email = \"\";\r\n+      this.referenceNumber = \"\";\r\n+      this.isLoading = false;\r\n+      this.error = null;\r\n+    }\r\n+  \r\n+    render() {\r\n+      const app = document.getElementById(\"app\");\r\n+      app.innerHTML = `\r\n+        <div class=\"sap_form\">\r\n+          <div class=\"container mx-auto px-6 md:px-10\">\r\n+            <!-- Mobile Contact Icons -->\r\n+            <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n+              <p>\r\n+                <a href=\"tel:+14155551234\" class=\"contact-icon phn_mb animate-bounce\" aria-label=\"Solar System Sizing Phone\"></a>\r\n+              </p>\r\n+              <p>\r\n+                <a href=\"mailto:info@solarsizing.com\" class=\"contact-icon eml_mb animate-bounce\" aria-label=\"Solar System Sizing Email\"></a>\r\n+              </p>\r\n+              <p>\r\n+                <a href=\"https://t.me/solarsizing\" class=\"contact-icon tg_mb animate-bounce\" aria-label=\"Solar System Sizing Telegram\"></a>\r\n+              </p>\r\n+            </div>\r\n+  \r\n+            <!-- Desktop Contact Label -->\r\n+            <div class=\"hidden md:flex pt-4 animate-fadeIn\">\r\n+              <div class=\"w-full\">\r\n+                <p class=\"text-black opacity-20 text-xl tracking-tight\">Contact us</p>\r\n+              </div>\r\n+            </div>\r\n+  \r\n+            <!-- Desktop Contact Details -->\r\n+            <div class=\"mt-6 hidden md:flex justify-between animate-fadeIn\">\r\n+              <div class=\"flex items-center\">\r\n+                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n+                  <a href=\"https://t.me/solarsizing\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Telegram\">\r\n+                    Telegram\r\n+                  </a>\r\n+                </p>\r\n+              </div>\r\n+              <div class=\"flex items-center\">\r\n+                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n+                  <a href=\"mailto:info@solarsizing.com\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Email\">\r\n+                    info@solarsizing.com\r\n+                  </a>\r\n+                </p>\r\n+              </div>\r\n+            </div>\r\n+  \r\n+            <!-- Form Title -->\r\n+            <div class=\"mt-20 animate-slideInLeft\">\r\n+              <h2 class=\"hidden md:block text-5xl font-normal tracking-tight\">\r\n+                Solar System Sizing Tool -\r\n+                <span class=\"block\">Enter Your Details</span>\r\n+              </h2>\r\n+              <h2 class=\"block md:hidden text-3xl font-normal tracking-tight\">\r\n+                Solar System Sizing Tool -\r\n+                <span class=\"block\">Enter Your Details</span>\r\n+              </h2>\r\n+            </div>\r\n+  \r\n+            <!-- Form -->\r\n+            <div class=\"mt-24 animate-fadeIn\">\r\n+              <form id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n+                <!-- Name Field -->\r\n+                <div class=\"relative\">\r\n+                  <input type=\"text\" id=\"name\" name=\"NAME\" placeholder=\" \" required aria-label=\"NAME\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                  <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                    Your name\r\n+                  </label>\r\n+                </div>\r\n+  \r\n+                <!-- Phone and Email Fields -->\r\n+                <div class=\"grid md:grid-cols-2 gap-6\">\r\n+                  <div class=\"relative\">\r\n+                    <input type=\"tel\" id=\"phone\" name=\"PHONE\" placeholder=\" \" required aria-label=\"PHONE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                    <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                      Phone\r\n+                    </label>\r\n+                  </div>\r\n+                  <div class=\"relative\">\r\n+                    <input type=\"email\" id=\"email\" name=\"EMAIL\" placeholder=\" \" required aria-label=\"EMAIL\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                    <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                      E-mail\r\n+                    </label>\r\n+                  </div>\r\n+                </div>\r\n+  \r\n+                <!-- Reference Number -->\r\n+                <div class=\"relative\">\r\n+                  <input type=\"text\" id=\"referenceNumber\" name=\"REFERENCE\" placeholder=\" \" required aria-label=\"REFERENCE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                  <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                    MEPCO Bill Reference Number\r\n+                  </label>\r\n+                </div>\r\n+  \r\n+                <!-- File Upload -->\r\n+                <div class=\"mt-8 animate-slideInRight\">\r\n+                  <div class=\"flex flex-wrap items-start max-w-full\">\r\n+                    <ul class=\"list_dwn flex flex-wrap mt-4 w-full\"></ul>\r\n+                    <div class=\"relative\">\r\n+                      <div class=\"dwn text-lg text-black cursor-pointer px-4 py-2 hover:text-gray-400 transition-colors duration-300\">\r\n+                        Add attachment\r\n+                      </div>\r\n+                      <input type=\"file\" name=\"files[]\" data-url=\"/user_files/\" class=\"hidden\">\r\n+                      <div class=\"progress bg-gray-400 mt-2 relative h-0.5 w-full max-w-full\" role=\"progressbar\" aria-label=\"File Upload Progress\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\">\r\n+                        <div class=\"progress-bar-success bg-green-500 absolute top-0 left-0 h-full\" style=\"width: 0%\"></div>\r\n+                      </div>\r\n+                      <div class=\"progress_txt mt-4 text-sm text-black\">\r\n+                        <div>Supported formats: jpg, png, pdf, doc(x), xls(x), ppt(x)</div>\r\n+                        <div>Maximum file size 20 MB</div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </div>\r\n+  \r\n+                <!-- Error message -->\r\n+                <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n+  \r\n+                <!-- Submit button -->\r\n+                <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n+                  <span>Get Quote</span>\r\n+                </button>\r\n+              </form>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      `;\r\n+  \r\n+      this.attachEventListeners();\r\n+      this.attachStyles();\r\n+    }\r\n+  \r\n+    attachEventListeners() {\r\n+      const form = document.getElementById(\"solar-sizing-form\");\r\n+      form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n+  \r\n+      const inputs = form.querySelectorAll(\"input\");\r\n+      inputs.forEach((input) => {\r\n+        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n+        input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n+        input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n+      });\r\n+    }\r\n+  \r\n+    handleInput(event) {\r\n+      this[event.target.id] = event.target.value;\r\n+    }\r\n+  \r\n+    handleFocus(event) {\r\n+      event.target.parentElement.classList.add(\"focused\");\r\n+    }\r\n+  \r\n+    handleBlur(event) {\r\n+      if (!event.target.value) {\r\n+        event.target.parentElement.classList.remove(\"focused\");\r\n+      }\r\n+    }\r\n+  \r\n+    async handleSubmit(event) {\r\n+      event.preventDefault();\r\n+  \r\n+      if (this.isFormValid()) {\r\n+        this.isLoading = true;\r\n+        this.renderLoadingState();\r\n+  \r\n+        try {\r\n+          await fetchBillData(this.referenceNumber);\r\n+          console.log(\"Navigating to /quote\");\r\n+          window.router.push(\"/quote\");\r\n+        } catch (err) {\r\n+          console.error(\"Error generating quote:\", err);\r\n+          this.error = \"Error generating quote. Please try again.\";\r\n+          this.renderError();\r\n+        } finally {\r\n+          this.isLoading = false;\r\n+          this.renderLoadingState();\r\n+        }\r\n+      } else {\r\n+        this.error = \"Please fill in all required fields.\";\r\n+        this.renderError();\r\n+      }\r\n+    }\r\n+  \r\n+    isFormValid() {\r\n+      return this.name && this.phone && this.email && this.referenceNumber;\r\n+    }\r\n+  \r\n+    renderLoadingState() {\r\n+      const button = document.querySelector(\".get_go\");\r\n+      if (this.isLoading) {\r\n+        button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n+        button.disabled = true;\r\n+      } else {\r\n+        button.innerHTML = \"<span>Get Quote</span>\";\r\n+        button.disabled = false;\r\n+      }\r\n+    }\r\n+  \r\n+    renderError() {\r\n+      const errorMessage = document.getElementById(\"error-message\");\r\n+      if (this.error) {\r\n+        errorMessage.textContent = this.error;\r\n+        errorMessage.classList.remove(\"hidden\");\r\n+        errorMessage.classList.add(\"animate-shake\");\r\n+        setTimeout(() => {\r\n+          errorMessage.classList.remove(\"animate-shake\");\r\n+        }, 500);\r\n+      } else {\r\n+        errorMessage.classList.add(\"hidden\");\r\n+      }\r\n+    }\r\n+  \r\n+    attachStyles() {\r\n+      const style = document.createElement(\"style\");\r\n+      style.textContent = `\r\n+        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n+        @keyframes slideInLeft { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n+        @keyframes slideInRight { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n+        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n+        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); } 20%, 40%, 60%, 80% { transform: translateX(10px); } }\r\n+        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }\r\n+  \r\n+        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\r\n+        .animate-slideInLeft { animation: slideInLeft 0.5s ease-out; }\r\n+        .animate-slideInRight { animation: slideInRight 0.5s ease-out; }\r\n+        .animate-bounce { animation: bounce 2s infinite; }\r\n+        .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }\r\n+        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\r\n+      `;\r\n+      document.head.appendChild(style);\r\n+    }\r\n+  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1729091102173,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,243 @@\n+import {\r\n+    fetchBillData,\r\n+    getIsLoading,\r\n+    getError,\r\n+  } from \"../store/solarSizingState.js\";\r\n+  \r\n+  export class ReferenceInputPage {\r\n+    constructor() {\r\n+      this.name = \"\";\r\n+      this.phone = \"\";\r\n+      this.email = \"\";\r\n+      this.referenceNumber = \"\";\r\n+      this.isLoading = false;\r\n+      this.error = null;\r\n+    }\r\n+  \r\n+    render() {\r\n+      const app = document.getElementById(\"app\");\r\n+      app.innerHTML = `\r\n+        <div class=\"sap_form\">\r\n+          <div class=\"container mx-auto px-6 md:px-10\">\r\n+            <!-- Mobile Contact Icons -->\r\n+            <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n+              <p>\r\n+                <a href=\"tel:+14155551234\" class=\"contact-icon phn_mb animate-bounce\" aria-label=\"Solar System Sizing Phone\"></a>\r\n+              </p>\r\n+              <p>\r\n+                <a href=\"mailto:info@solarsizing.com\" class=\"contact-icon eml_mb animate-bounce\" aria-label=\"Solar System Sizing Email\"></a>\r\n+              </p>\r\n+              <p>\r\n+                <a href=\"https://t.me/solarsizing\" class=\"contact-icon tg_mb animate-bounce\" aria-label=\"Solar System Sizing Telegram\"></a>\r\n+              </p>\r\n+            </div>\r\n+  \r\n+            <!-- Desktop Contact Label -->\r\n+            <div class=\"hidden md:flex pt-4 animate-fadeIn\">\r\n+              <div class=\"w-full\">\r\n+                <p class=\"text-black opacity-20 text-xl tracking-tight\">Contact us</p>\r\n+              </div>\r\n+            </div>\r\n+  \r\n+            <!-- Desktop Contact Details -->\r\n+            <div class=\"mt-6 hidden md:flex justify-between animate-fadeIn\">\r\n+              <div class=\"flex items-center\">\r\n+                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n+                  <a href=\"https://t.me/solarsizing\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Telegram\">\r\n+                    Telegram\r\n+                  </a>\r\n+                </p>\r\n+              </div>\r\n+              <div class=\"flex items-center\">\r\n+                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n+                  <a href=\"mailto:info@solarsizing.com\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Email\">\r\n+                    info@solarsizing.com\r\n+                  </a>\r\n+                </p>\r\n+              </div>\r\n+            </div>\r\n+  \r\n+            <!-- Form Title -->\r\n+            <div class=\"mt-20 animate-slideInLeft\">\r\n+              <h2 class=\"hidden md:block text-5xl font-normal tracking-tight\">\r\n+                Solar System Sizing Tool -\r\n+                <span class=\"block\">Enter Your Details</span>\r\n+              </h2>\r\n+              <h2 class=\"block md:hidden text-3xl font-normal tracking-tight\">\r\n+                Solar System Sizing Tool -\r\n+                <span class=\"block\">Enter Your Details</span>\r\n+              </h2>\r\n+            </div>\r\n+  \r\n+            <!-- Form -->\r\n+            <div class=\"mt-24 animate-fadeIn\">\r\n+              <form id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n+                <!-- Name Field -->\r\n+                <div class=\"relative\">\r\n+                  <input type=\"text\" id=\"name\" name=\"NAME\" placeholder=\" \" required aria-label=\"NAME\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                  <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                    Your name\r\n+                  </label>\r\n+                </div>\r\n+  \r\n+                <!-- Phone and Email Fields -->\r\n+                <div class=\"grid md:grid-cols-2 gap-6\">\r\n+                  <div class=\"relative\">\r\n+                    <input type=\"tel\" id=\"phone\" name=\"PHONE\" placeholder=\" \" required aria-label=\"PHONE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                    <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                      Phone\r\n+                    </label>\r\n+                  </div>\r\n+                  <div class=\"relative\">\r\n+                    <input type=\"email\" id=\"email\" name=\"EMAIL\" placeholder=\" \" required aria-label=\"EMAIL\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                    <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                      E-mail\r\n+                    </label>\r\n+                  </div>\r\n+                </div>\r\n+  \r\n+                <!-- Reference Number -->\r\n+                <div class=\"relative\">\r\n+                  <input type=\"text\" id=\"referenceNumber\" name=\"REFERENCE\" placeholder=\" \" required aria-label=\"REFERENCE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                  <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                    MEPCO Bill Reference Number\r\n+                  </label>\r\n+                </div>\r\n+  \r\n+                <!-- File Upload -->\r\n+                <div class=\"mt-8 animate-slideInRight\">\r\n+                  <div class=\"flex flex-wrap items-start max-w-full\">\r\n+                    <ul class=\"list_dwn flex flex-wrap mt-4 w-full\"></ul>\r\n+                    <div class=\"relative\">\r\n+                      <div class=\"dwn text-lg text-black cursor-pointer px-4 py-2 hover:text-gray-400 transition-colors duration-300\">\r\n+                        Add attachment\r\n+                      </div>\r\n+                      <input type=\"file\" name=\"files[]\" data-url=\"/user_files/\" class=\"hidden\">\r\n+                      <div class=\"progress bg-gray-400 mt-2 relative h-0.5 w-full max-w-full\" role=\"progressbar\" aria-label=\"File Upload Progress\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\">\r\n+                        <div class=\"progress-bar-success bg-green-500 absolute top-0 left-0 h-full\" style=\"width: 0%\"></div>\r\n+                      </div>\r\n+                      <div class=\"progress_txt mt-4 text-sm text-black\">\r\n+                        <div>Supported formats: jpg, png, pdf, doc(x), xls(x), ppt(x)</div>\r\n+                        <div>Maximum file size 20 MB</div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </div>\r\n+  \r\n+                <!-- Error message -->\r\n+                <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n+  \r\n+                <!-- Submit button -->\r\n+                <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n+                  <span>Get Quote</span>\r\n+                </button>\r\n+              </form>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      `;\r\n+  \r\n+      this.attachEventListeners();\r\n+      this.attachStyles();\r\n+    }\r\n+  \r\n+    attachEventListeners() {\r\n+      const form = document.getElementById(\"solar-sizing-form\");\r\n+      form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n+  \r\n+      const inputs = form.querySelectorAll(\"input\");\r\n+      inputs.forEach((input) => {\r\n+        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n+        input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n+        input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n+      });\r\n+    }\r\n+  \r\n+    handleInput(event) {\r\n+      this[event.target.id] = event.target.value;\r\n+    }\r\n+  \r\n+    handleFocus(event) {\r\n+      event.target.parentElement.classList.add(\"focused\");\r\n+    }\r\n+  \r\n+    handleBlur(event) {\r\n+      if (!event.target.value) {\r\n+        event.target.parentElement.classList.remove(\"focused\");\r\n+      }\r\n+    }\r\n+  \r\n+    async handleSubmit(event) {\r\n+      event.preventDefault();\r\n+  \r\n+      if (this.isFormValid()) {\r\n+        this.isLoading = true;\r\n+        this.renderLoadingState();\r\n+  \r\n+        try {\r\n+          await fetchBillData(this.referenceNumber);\r\n+          console.log(\"Navigating to /quote\");\r\n+          window.router.push(\"/quote\");\r\n+        } catch (err) {\r\n+          console.error(\"Error generating quote:\", err);\r\n+          this.error = \"Error generating quote. Please try again.\";\r\n+          this.renderError();\r\n+        } finally {\r\n+          this.isLoading = false;\r\n+          this.renderLoadingState();\r\n+        }\r\n+      } else {\r\n+        this.error = \"Please fill in all required fields.\";\r\n+        this.renderError();\r\n+      }\r\n+    }\r\n+  \r\n+    isFormValid() {\r\n+      return this.name && this.phone && this.email && this.referenceNumber;\r\n+    }\r\n+  \r\n+    renderLoadingState() {\r\n+      const button = document.querySelector(\".get_go\");\r\n+      if (this.isLoading) {\r\n+        button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n+        button.disabled = true;\r\n+      } else {\r\n+        button.innerHTML = \"<span>Get Quote</span>\";\r\n+        button.disabled = false;\r\n+      }\r\n+    }\r\n+  \r\n+    renderError() {\r\n+      const errorMessage = document.getElementById(\"error-message\");\r\n+      if (this.error) {\r\n+        errorMessage.textContent = this.error;\r\n+        errorMessage.classList.remove(\"hidden\");\r\n+        errorMessage.classList.add(\"animate-shake\");\r\n+        setTimeout(() => {\r\n+          errorMessage.classList.remove(\"animate-shake\");\r\n+        }, 500);\r\n+      } else {\r\n+        errorMessage.classList.add(\"hidden\");\r\n+      }\r\n+    }\r\n+  \r\n+    attachStyles() {\r\n+      const style = document.createElement(\"style\");\r\n+      style.textContent = `\r\n+        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n+        @keyframes slideInLeft { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n+        @keyframes slideInRight { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n+        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n+        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); } 20%, 40%, 60%, 80% { transform: translateX(10px); } }\r\n+        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }\r\n+  \r\n+        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\r\n+        .animate-slideInLeft { animation: slideInLeft 0.5s ease-out; }\r\n+        .animate-slideInRight { animation: slideInRight 0.5s ease-out; }\r\n+        .animate-bounce { animation: bounce 2s infinite; }\r\n+        .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }\r\n+        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\r\n+      `;\r\n+      document.head.appendChild(style);\r\n+    }\r\n+  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1730999735255,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,23 @@\n import {\r\n-    fetchBillData,\r\n-    getIsLoading,\r\n-    getError,\r\n-  } from \"../store/solarSizingState.js\";\r\n-  \r\n-  export class ReferenceInputPage {\r\n-    constructor() {\r\n-      this.name = \"\";\r\n-      this.phone = \"\";\r\n-      this.email = \"\";\r\n-      this.referenceNumber = \"\";\r\n-      this.isLoading = false;\r\n-      this.error = null;\r\n-    }\r\n-  \r\n-    render() {\r\n-      const app = document.getElementById(\"app\");\r\n-      app.innerHTML = `\r\n+  fetchBillData,\r\n+  getIsLoading,\r\n+  getError,\r\n+} from \"../store/solarSizingState.js\";\r\n+\r\n+export class ReferenceInputPage {\r\n+  constructor() {\r\n+    this.name = \"\";\r\n+    this.phone = \"\";\r\n+    this.email = \"\";\r\n+    this.referenceNumber = \"\";\r\n+    this.isLoading = false;\r\n+    this.error = null;\r\n+  }\r\n+\r\n+  render() {\r\n+    const app = document.getElementById(\"app\");\r\n+    app.innerHTML = `\r\n         <div class=\"sap_form\">\r\n           <div class=\"container mx-auto px-6 md:px-10\">\r\n             <!-- Mobile Contact Icons -->\r\n             <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n@@ -135,595 +135,302 @@\n             </div>\r\n           </div>\r\n         </div>\r\n       `;\r\n-  \r\n-      this.attachEventListeners();\r\n-      this.attachStyles();\r\n+\r\n+    this.attachEventListeners();\r\n+    this.attachStyles();\r\n+  }\r\n+\r\n+  attachEventListeners() {\r\n+    const form = document.getElementById(\"solar-sizing-form\");\r\n+    form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n+\r\n+    const inputs = form.querySelectorAll(\"input\");\r\n+    inputs.forEach((input) => {\r\n+      input.addEventListener(\"input\", this.handleInput.bind(this));\r\n+      input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n+      input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n+    });\r\n+  }\r\n+\r\n+  handleInput(event) {\r\n+    this[event.target.id] = event.target.value;\r\n+  }\r\n+\r\n+  handleFocus(event) {\r\n+    event.target.parentElement.classList.add(\"focused\");\r\n+  }\r\n+\r\n+  handleBlur(event) {\r\n+    if (!event.target.value) {\r\n+      event.target.parentElement.classList.remove(\"focused\");\r\n     }\r\n-  \r\n-    attachEventListeners() {\r\n-      const form = document.getElementById(\"solar-sizing-form\");\r\n-      form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n-  \r\n-      const inputs = form.querySelectorAll(\"input\");\r\n-      inputs.forEach((input) => {\r\n-        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n-        input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n-        input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n-      });\r\n-    }\r\n-  \r\n-    handleInput(event) {\r\n-      this[event.target.id] = event.target.value;\r\n-    }\r\n-  \r\n-    handleFocus(event) {\r\n-      event.target.parentElement.classList.add(\"focused\");\r\n-    }\r\n-  \r\n-    handleBlur(event) {\r\n-      if (!event.target.value) {\r\n-        event.target.parentElement.classList.remove(\"focused\");\r\n-      }\r\n-    }\r\n-  \r\n-    async handleSubmit(event) {\r\n-      event.preventDefault();\r\n-  \r\n-      if (this.isFormValid()) {\r\n-        this.isLoading = true;\r\n-        this.renderLoadingState();\r\n-  \r\n-        try {\r\n-          await fetchBillData(this.referenceNumber);\r\n-          console.log(\"Navigating to /quote\");\r\n-          window.router.push(\"/quote\");\r\n-        } catch (err) {\r\n-          console.error(\"Error generating quote:\", err);\r\n-          this.error = \"Error generating quote. Please try again.\";\r\n-          this.renderError();\r\n-        } finally {\r\n-          this.isLoading = false;\r\n-          this.renderLoadingState();\r\n-        }\r\n-      } else {\r\n-        this.error = \"Please fill in all required fields.\";\r\n+  }\r\n+\r\n+  async handleSubmit(event) {\r\n+    event.preventDefault();\r\n+\r\n+    if (this.isFormValid()) {\r\n+      this.isLoading = true;\r\n+      this.renderLoadingState();\r\n+\r\n+      try {\r\n+        await fetchBillData(this.referenceNumber);\r\n+        console.log(\"Navigating to /quote\");\r\n+        window.router.push(\"/quote\");\r\n+      } catch (err) {\r\n+        console.error(\"Error generating quote:\", err);\r\n+        this.error = \"Error generating quote. Please try again.\";\r\n         this.renderError();\r\n-      }\r\n-    }\r\n-  \r\n-    isFormValid() {\r\n-      return this.name && this.phone && this.email && this.referenceNumber;\r\n-    }\r\n-  \r\n-    renderLoadingState() {\r\n-      const button = document.querySelector(\".get_go\");\r\n-      if (this.isLoading) {\r\n-        button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n-        button.disabled = true;\r\n-      } else {\r\n-        button.innerHTML = \"<span>Get Quote</span>\";\r\n-        button.disabled = false;\r\n-      }\r\n-    }\r\n-  \r\n-    renderError() {\r\n-      const errorMessage = document.getElementById(\"error-message\");\r\n-      if (this.error) {\r\n-        errorMessage.textContent = this.error;\r\n-        errorMessage.classList.remove(\"hidden\");\r\n-        errorMessage.classList.add(\"animate-shake\");\r\n-        setTimeout(() => {\r\n-          errorMessage.classList.remove(\"animate-shake\");\r\n-        }, 500);\r\n-      } else {\r\n-        errorMessage.classList.add(\"hidden\");\r\n-      }\r\n-    }\r\n-  \r\n-    attachStyles() {\r\n-      const style = document.createElement(\"style\");\r\n-      style.textContent = `\r\n-        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n-        @keyframes slideInLeft { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n-        @keyframes slideInRight { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n-        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n-        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); } 20%, 40%, 60%, 80% { transform: translateX(10px); } }\r\n-        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }\r\n-  \r\n-        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\r\n-        .animate-slideInLeft { animation: slideInLeft 0.5s ease-out; }\r\n-        .animate-slideInRight { animation: slideInRight 0.5s ease-out; }\r\n-        .animate-bounce { animation: bounce 2s infinite; }\r\n-        .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }\r\n-        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\r\n-      `;\r\n-      document.head.appendChild(style);\r\n-    }\r\n-  }\n-import {\r\n-    fetchBillData,\r\n-    getIsLoading,\r\n-    getError,\r\n-  } from \"../store/solarSizingState.js\";\r\n-  \r\n-  export class ReferenceInputPage {\r\n-    constructor() {\r\n-      this.name = \"\";\r\n-      this.phone = \"\";\r\n-      this.email = \"\";\r\n-      this.referenceNumber = \"\";\r\n-      this.isLoading = false;\r\n-      this.error = null;\r\n-    }\r\n-  \r\n-    render() {\r\n-      const app = document.getElementById(\"app\");\r\n-      app.innerHTML = `\r\n-        <div class=\"sap_form\">\r\n-          <div class=\"container mx-auto px-6 md:px-10\">\r\n-            <!-- Mobile Contact Icons -->\r\n-            <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n-              <p>\r\n-                <a href=\"tel:+14155551234\" class=\"contact-icon phn_mb animate-bounce\" aria-label=\"Solar System Sizing Phone\"></a>\r\n-              </p>\r\n-              <p>\r\n-                <a href=\"mailto:info@solarsizing.com\" class=\"contact-icon eml_mb animate-bounce\" aria-label=\"Solar System Sizing Email\"></a>\r\n-              </p>\r\n-              <p>\r\n-                <a href=\"https://t.me/solarsizing\" class=\"contact-icon tg_mb animate-bounce\" aria-label=\"Solar System Sizing Telegram\"></a>\r\n-              </p>\r\n-            </div>\r\n-  \r\n-            <!-- Desktop Contact Label -->\r\n-            <div class=\"hidden md:flex pt-4 animate-fadeIn\">\r\n-              <div class=\"w-full\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">Contact us</p>\r\n-              </div>\r\n-            </div>\r\n-  \r\n-            <!-- Desktop Contact Details -->\r\n-            <div class=\"mt-6 hidden md:flex justify-between animate-fadeIn\">\r\n-              <div class=\"flex items-center\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n-                  <a href=\"https://t.me/solarsizing\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Telegram\">\r\n-                    Telegram\r\n-                  </a>\r\n-                </p>\r\n-              </div>\r\n-              <div class=\"flex items-center\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n-                  <a href=\"mailto:info@solarsizing.com\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Email\">\r\n-                    info@solarsizing.com\r\n-                  </a>\r\n-                </p>\r\n-              </div>\r\n-            </div>\r\n-  \r\n-            <!-- Form Title -->\r\n-            <div class=\"mt-20 animate-slideInLeft\">\r\n-              <h2 class=\"hidden md:block text-5xl font-normal tracking-tight\">\r\n-                Solar System Sizing Tool -\r\n-                <span class=\"block\">Enter Your Details</span>\r\n-              </h2>\r\n-              <h2 class=\"block md:hidden text-3xl font-normal tracking-tight\">\r\n-                Solar System Sizing Tool -\r\n-                <span class=\"block\">Enter Your Details</span>\r\n-              </h2>\r\n-            </div>\r\n-  \r\n-            <!-- Form -->\r\n-            <div class=\"mt-24 animate-fadeIn\">\r\n-              <form id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n-                <!-- Name Field -->\r\n-                <div class=\"relative\">\r\n-                  <input type=\"text\" id=\"name\" name=\"NAME\" placeholder=\" \" required aria-label=\"NAME\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                  <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                    Your name\r\n-                  </label>\r\n-                </div>\r\n-  \r\n-                <!-- Phone and Email Fields -->\r\n-                <div class=\"grid md:grid-cols-2 gap-6\">\r\n-                  <div class=\"relative\">\r\n-                    <input type=\"tel\" id=\"phone\" name=\"PHONE\" placeholder=\" \" required aria-label=\"PHONE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                    <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                      Phone\r\n-                    </label>\r\n-                  </div>\r\n-                  <div class=\"relative\">\r\n-                    <input type=\"email\" id=\"email\" name=\"EMAIL\" placeholder=\" \" required aria-label=\"EMAIL\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                    <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                      E-mail\r\n-                    </label>\r\n-                  </div>\r\n-                </div>\r\n-  \r\n-                <!-- Reference Number -->\r\n-                <div class=\"relative\">\r\n-                  <input type=\"text\" id=\"referenceNumber\" name=\"REFERENCE\" placeholder=\" \" required aria-label=\"REFERENCE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                  <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                    MEPCO Bill Reference Number\r\n-                  </label>\r\n-                </div>\r\n-  \r\n-                <!-- File Upload -->\r\n-                <div class=\"mt-8 animate-slideInRight\">\r\n-                  <div class=\"flex flex-wrap items-start max-w-full\">\r\n-                    <ul class=\"list_dwn flex flex-wrap mt-4 w-full\"></ul>\r\n-                    <div class=\"relative\">\r\n-                      <div class=\"dwn text-lg text-black cursor-pointer px-4 py-2 hover:text-gray-400 transition-colors duration-300\">\r\n-                        Add attachment\r\n-                      </div>\r\n-                      <input type=\"file\" name=\"files[]\" data-url=\"/user_files/\" class=\"hidden\">\r\n-                      <div class=\"progress bg-gray-400 mt-2 relative h-0.5 w-full max-w-full\" role=\"progressbar\" aria-label=\"File Upload Progress\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\">\r\n-                        <div class=\"progress-bar-success bg-green-500 absolute top-0 left-0 h-full\" style=\"width: 0%\"></div>\r\n-                      </div>\r\n-                      <div class=\"progress_txt mt-4 text-sm text-black\">\r\n-                        <div>Supported formats: jpg, png, pdf, doc(x), xls(x), ppt(x)</div>\r\n-                        <div>Maximum file size 20 MB</div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </div>\r\n-  \r\n-                <!-- Error message -->\r\n-                <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n-  \r\n-                <!-- Submit button -->\r\n-                <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n-                  <span>Get Quote</span>\r\n-                </button>\r\n-              </form>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      `;\r\n-  \r\n-      this.attachEventListeners();\r\n-      this.attachStyles();\r\n-    }\r\n-  \r\n-    attachEventListeners() {\r\n-      const form = document.getElementById(\"solar-sizing-form\");\r\n-      form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n-  \r\n-      const inputs = form.querySelectorAll(\"input\");\r\n-      inputs.forEach((input) => {\r\n-        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n-        input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n-        input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n-      });\r\n-    }\r\n-  \r\n-    handleInput(event) {\r\n-      this[event.target.id] = event.target.value;\r\n-    }\r\n-  \r\n-    handleFocus(event) {\r\n-      event.target.parentElement.classList.add(\"focused\");\r\n-    }\r\n-  \r\n-    handleBlur(event) {\r\n-      if (!event.target.value) {\r\n-        event.target.parentElement.classList.remove(\"focused\");\r\n-      }\r\n-    }\r\n-  \r\n-    async handleSubmit(event) {\r\n-      event.preventDefault();\r\n-  \r\n-      if (this.isFormValid()) {\r\n-        this.isLoading = true;\r\n+      } finally {\r\n+        this.isLoading = false;\r\n         this.renderLoadingState();\r\n-  \r\n-        try {\r\n-          await fetchBillData(this.referenceNumber);\r\n-          console.log(\"Navigating to /quote\");\r\n-          window.router.push(\"/quote\");\r\n-        } catch (err) {\r\n-          console.error(\"Error generating quote:\", err);\r\n-          this.error = \"Error generating quote. Please try again.\";\r\n-          this.renderError();\r\n-        } finally {\r\n-          this.isLoading = false;\r\n-          this.renderLoadingState();\r\n-        }\r\n-      } else {\r\n-        this.error = \"Please fill in all required fields.\";\r\n-        this.renderError();\r\n       }\r\n+    } else {\r\n+      this.error = \"Please fill in all required fields.\";\r\n+      this.renderError();\r\n     }\r\n-  \r\n-    isFormValid() {\r\n-      return this.name && this.phone && this.email && this.referenceNumber;\r\n+  }\r\n+\r\n+  isFormValid() {\r\n+    return this.name && this.phone && this.email && this.referenceNumber;\r\n+  }\r\n+\r\n+  renderLoadingState() {\r\n+    const button = document.querySelector(\".get_go\");\r\n+    if (this.isLoading) {\r\n+      button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n+      button.disabled = true;\r\n+    } else {\r\n+      button.innerHTML = \"<span>Get Quote</span>\";\r\n+      button.disabled = false;\r\n     }\r\n-  \r\n-    renderLoadingState() {\r\n-      const button = document.querySelector(\".get_go\");\r\n-      if (this.isLoading) {\r\n-        button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n-        button.disabled = true;\r\n-      } else {\r\n-        button.innerHTML = \"<span>Get Quote</span>\";\r\n-        button.disabled = false;\r\n-      }\r\n+  }\r\n+\r\n+  renderError() {\r\n+    const errorMessage = document.getElementById(\"error-message\");\r\n+    if (this.error) {\r\n+      errorMessage.textContent = this.error;\r\n+      errorMessage.classList.remove(\"hidden\");\r\n+      errorMessage.classList.add(\"animate-shake\");\r\n+      setTimeout(() => {\r\n+        errorMessage.classList.remove(\"animate-shake\");\r\n+      }, 500);\r\n+    } else {\r\n+      errorMessage.classList.add(\"hidden\");\r\n     }\r\n-  \r\n-    renderError() {\r\n-      const errorMessage = document.getElementById(\"error-message\");\r\n-      if (this.error) {\r\n-        errorMessage.textContent = this.error;\r\n-        errorMessage.classList.remove(\"hidden\");\r\n-        errorMessage.classList.add(\"animate-shake\");\r\n-        setTimeout(() => {\r\n-          errorMessage.classList.remove(\"animate-shake\");\r\n-        }, 500);\r\n-      } else {\r\n-        errorMessage.classList.add(\"hidden\");\r\n-      }\r\n-    }\r\n-  \r\n-    attachStyles() {\r\n-      const style = document.createElement(\"style\");\r\n-      style.textContent = `\r\n-        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n-        @keyframes slideInLeft { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n-        @keyframes slideInRight { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n-        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n-        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); } 20%, 40%, 60%, 80% { transform: translateX(10px); } }\r\n-        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }\r\n-  \r\n-        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\r\n-        .animate-slideInLeft { animation: slideInLeft 0.5s ease-out; }\r\n-        .animate-slideInRight { animation: slideInRight 0.5s ease-out; }\r\n-        .animate-bounce { animation: bounce 2s infinite; }\r\n-        .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }\r\n-        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\r\n+  }\r\n+\r\n+  attachStyles() {\r\n+    const style = document.createElement(\"style\");\r\n+    style.textContent = `\r\n+        /* Base styles */\r\n+:root {\r\n+  --color-primary: #00a651;\r\n+  --color-primary-light: rgba(0, 166, 81, 0.1);\r\n+  --color-yellow: #ffde17;\r\n+  --color-text: #2c3e50;\r\n+  --color-text-light: #7f8c8d;\r\n+}\r\n+\r\n+.sap_form {\r\n+  min-height: 100vh;\r\n+  background-color: #ffffff;\r\n+  position: relative;\r\n+  overflow: hidden;\r\n+}\r\n+\r\n+/* Container */\r\n+.container {\r\n+  max-width: 1200px;\r\n+  margin: 0 auto;\r\n+  display: grid;\r\n+  grid-template-columns: 2fr 1fr;\r\n+  gap: 2rem;\r\n+  position: relative;\r\n+}\r\n+\r\n+/* Logo Section */\r\n+.logo-section {\r\n+  display: flex;\r\n+  align-items: center;\r\n+  gap: 1rem;\r\n+  padding: 2rem 0;\r\n+}\r\n+\r\n+.logo-icon {\r\n+  width: 60px;\r\n+  height: 60px;\r\n+}\r\n+\r\n+.logo-text h1 {\r\n+  font-size: 1.5rem;\r\n+  font-weight: bold;\r\n+  color: var(--color-text);\r\n+}\r\n+\r\n+.logo-text p {\r\n+  font-size: 0.875rem;\r\n+  color: var(--color-text-light);\r\n+  font-style: italic;\r\n+}\r\n+\r\n+/* Form Section */\r\n+.form-container {\r\n+  padding: 2rem;\r\n+  max-width: 600px;\r\n+}\r\n+\r\n+.form-title {\r\n+  color: var(--color-primary);\r\n+  font-size: 2.25rem;\r\n+  font-weight: bold;\r\n+  margin-bottom: 2rem;\r\n+}\r\n+\r\n+.input-group {\r\n+  margin-bottom: 1.5rem;\r\n+}\r\n+\r\n+.input-group label {\r\n+  display: block;\r\n+  font-size: 0.875rem;\r\n+  color: var(--color-text);\r\n+  margin-bottom: 0.5rem;\r\n+}\r\n+\r\n+.input-group input {\r\n+  width: 100%;\r\n+  padding: 0.75rem;\r\n+  border: 1px solid #e2e8f0;\r\n+  border-radius: 0.375rem;\r\n+  font-size: 1rem;\r\n+  transition: all 0.3s ease;\r\n+}\r\n+\r\n+.input-group input:focus {\r\n+  outline: none;\r\n+  border-color: var(--color-primary);\r\n+  box-shadow: 0 0 0 3px var(--color-primary-light);\r\n+}\r\n+\r\n+/* Right Side Content */\r\n+.right-content {\r\n+  background-color: var(--color-primary);\r\n+  padding: 4rem 2rem;\r\n+  color: white;\r\n+  position: absolute;\r\n+  right: 0;\r\n+  top: 0;\r\n+  bottom: 0;\r\n+  width: 33.333%;\r\n+}\r\n+\r\n+.right-content h3 {\r\n+  font-size: 1.5rem;\r\n+  line-height: 1.4;\r\n+  margin-bottom: 2rem;\r\n+}\r\n+\r\n+.powered-by {\r\n+  position: absolute;\r\n+  bottom: 4rem;\r\n+  font-weight: bold;\r\n+  font-size: 1.5rem;\r\n+}\r\n+\r\n+/* Submit Button */\r\n+.submit-button {\r\n+  width: 100%;\r\n+  padding: 1rem;\r\n+  background-color: var(--color-primary);\r\n+  color: white;\r\n+  border: none;\r\n+  border-radius: 9999px;\r\n+  font-size: 1.125rem;\r\n+  font-weight: 500;\r\n+  cursor: pointer;\r\n+  transition: all 0.3s ease;\r\n+}\r\n+\r\n+.submit-button:hover {\r\n+  transform: scale(1.02);\r\n+  background-color: #008c44;\r\n+}\r\n+\r\n+/* Decorative Waves */\r\n+.wave-decoration {\r\n+  position: absolute;\r\n+  bottom: 0;\r\n+  left: 0;\r\n+  right: 0;\r\n+  height: 120px;\r\n+  overflow: hidden;\r\n+}\r\n+\r\n+.wave {\r\n+  position: absolute;\r\n+  bottom: 0;\r\n+  left: 0;\r\n+  right: 0;\r\n+  height: 100%;\r\n+}\r\n+\r\n+.wave-1 {\r\n+  background: var(--color-primary);\r\n+  opacity: 0.3;\r\n+  clip-path: path('M0,64 C200,44 400,84 600,64 S800,44 1200,64 L1200,100 L0,100 Z');\r\n+}\r\n+\r\n+.wave-2 {\r\n+  background: var(--color-yellow);\r\n+  opacity: 0.5;\r\n+  clip-path: path('M0,74 C200,54 400,94 600,74 S800,54 1200,74 L1200,100 L0,100 Z');\r\n+}\r\n+\r\n+/* Responsive Design */\r\n+@media (max-width: 768px) {\r\n\\ No newline at end of file\n+  .container {\r\n+    grid-template-columns: 1fr;\r\n+    padding: 1rem;\r\n+  }\r\n+\r\n+  .right-content {\r\n+    position: relative;\r\n+    width: 100%;\r\n+    padding: 2rem 1rem;\r\n+  }\r\n+\r\n+  .form-title {\r\n+    font-size: 1.875rem;\r\n+  }\r\n+\r\n+  .powered-by {\r\n+    position: relative;\r\n+    bottom: auto;\r\n+    margin-top: 2rem;\r\n+  }\r\n+}\r\n+\r\n+/* Animations */\r\n+@keyframes fadeIn {\r\n+  from { opacity: 0; }\r\n+  to { opacity: 1; }\r\n+}\r\n+\r\n+@keyframes slideUp {\r\n+  from { transform: translateY(20px); opacity: 0; }\r\n+  to { transform: translateY(0); opacity: 1; }\r\n+}\r\n+\r\n+.animate-fade-in {\r\n+  animation: fadeIn 0.5s ease-out;\r\n+}\r\n+\r\n+.animate-slide-up {\r\n+  animation: slideUp 0.5s ease-out;\r\n+}\r\n       `;\r\n-      document.head.appendChild(style);\r\n-    }\r\n-  }\n-import {\r\n-    fetchBillData,\r\n-    getIsLoading,\r\n-    getError,\r\n-  } from \"../store/solarSizingState.js\";\r\n-  \r\n-  export class ReferenceInputPage {\r\n-    constructor() {\r\n-      this.name = \"\";\r\n-      this.phone = \"\";\r\n-      this.email = \"\";\r\n-      this.referenceNumber = \"\";\r\n-      this.isLoading = false;\r\n-      this.error = null;\r\n-    }\r\n-  \r\n-    render() {\r\n-      const app = document.getElementById(\"app\");\r\n-      app.innerHTML = `\r\n-        <div class=\"sap_form\">\r\n-          <div class=\"container mx-auto px-6 md:px-10\">\r\n-            <!-- Mobile Contact Icons -->\r\n-            <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n-              <p>\r\n-                <a href=\"tel:+14155551234\" class=\"contact-icon phn_mb animate-bounce\" aria-label=\"Solar System Sizing Phone\"></a>\r\n-              </p>\r\n-              <p>\r\n-                <a href=\"mailto:info@solarsizing.com\" class=\"contact-icon eml_mb animate-bounce\" aria-label=\"Solar System Sizing Email\"></a>\r\n-              </p>\r\n-              <p>\r\n-                <a href=\"https://t.me/solarsizing\" class=\"contact-icon tg_mb animate-bounce\" aria-label=\"Solar System Sizing Telegram\"></a>\r\n-              </p>\r\n-            </div>\r\n-  \r\n-            <!-- Desktop Contact Label -->\r\n-            <div class=\"hidden md:flex pt-4 animate-fadeIn\">\r\n-              <div class=\"w-full\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">Contact us</p>\r\n-              </div>\r\n-            </div>\r\n-  \r\n-            <!-- Desktop Contact Details -->\r\n-            <div class=\"mt-6 hidden md:flex justify-between animate-fadeIn\">\r\n-              <div class=\"flex items-center\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n-                  <a href=\"https://t.me/solarsizing\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Telegram\">\r\n-                    Telegram\r\n-                  </a>\r\n-                </p>\r\n-              </div>\r\n-              <div class=\"flex items-center\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n-                  <a href=\"mailto:info@solarsizing.com\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Email\">\r\n-                    info@solarsizing.com\r\n-                  </a>\r\n-                </p>\r\n-              </div>\r\n-            </div>\r\n-  \r\n-            <!-- Form Title -->\r\n-            <div class=\"mt-20 animate-slideInLeft\">\r\n-              <h2 class=\"hidden md:block text-5xl font-normal tracking-tight\">\r\n-                Solar System Sizing Tool -\r\n-                <span class=\"block\">Enter Your Details</span>\r\n-              </h2>\r\n-              <h2 class=\"block md:hidden text-3xl font-normal tracking-tight\">\r\n-                Solar System Sizing Tool -\r\n-                <span class=\"block\">Enter Your Details</span>\r\n-              </h2>\r\n-            </div>\r\n-  \r\n-            <!-- Form -->\r\n-            <div class=\"mt-24 animate-fadeIn\">\r\n-              <form id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n-                <!-- Name Field -->\r\n-                <div class=\"relative\">\r\n-                  <input type=\"text\" id=\"name\" name=\"NAME\" placeholder=\" \" required aria-label=\"NAME\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                  <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                    Your name\r\n-                  </label>\r\n-                </div>\r\n-  \r\n-                <!-- Phone and Email Fields -->\r\n-                <div class=\"grid md:grid-cols-2 gap-6\">\r\n-                  <div class=\"relative\">\r\n-                    <input type=\"tel\" id=\"phone\" name=\"PHONE\" placeholder=\" \" required aria-label=\"PHONE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                    <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                      Phone\r\n-                    </label>\r\n-                  </div>\r\n-                  <div class=\"relative\">\r\n-                    <input type=\"email\" id=\"email\" name=\"EMAIL\" placeholder=\" \" required aria-label=\"EMAIL\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                    <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                      E-mail\r\n-                    </label>\r\n-                  </div>\r\n-                </div>\r\n-  \r\n-                <!-- Reference Number -->\r\n-                <div class=\"relative\">\r\n-                  <input type=\"text\" id=\"referenceNumber\" name=\"REFERENCE\" placeholder=\" \" required aria-label=\"REFERENCE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                  <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                    MEPCO Bill Reference Number\r\n-                  </label>\r\n-                </div>\r\n-  \r\n-                <!-- File Upload -->\r\n-                <div class=\"mt-8 animate-slideInRight\">\r\n-                  <div class=\"flex flex-wrap items-start max-w-full\">\r\n-                    <ul class=\"list_dwn flex flex-wrap mt-4 w-full\"></ul>\r\n-                    <div class=\"relative\">\r\n-                      <div class=\"dwn text-lg text-black cursor-pointer px-4 py-2 hover:text-gray-400 transition-colors duration-300\">\r\n-                        Add attachment\r\n-                      </div>\r\n-                      <input type=\"file\" name=\"files[]\" data-url=\"/user_files/\" class=\"hidden\">\r\n-                      <div class=\"progress bg-gray-400 mt-2 relative h-0.5 w-full max-w-full\" role=\"progressbar\" aria-label=\"File Upload Progress\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\">\r\n-                        <div class=\"progress-bar-success bg-green-500 absolute top-0 left-0 h-full\" style=\"width: 0%\"></div>\r\n-                      </div>\r\n-                      <div class=\"progress_txt mt-4 text-sm text-black\">\r\n-                        <div>Supported formats: jpg, png, pdf, doc(x), xls(x), ppt(x)</div>\r\n-                        <div>Maximum file size 20 MB</div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </div>\r\n-                </div>\r\n-  \r\n-                <!-- Error message -->\r\n-                <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n-  \r\n-                <!-- Submit button -->\r\n-                <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n-                  <span>Get Quote</span>\r\n-                </button>\r\n-              </form>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      `;\r\n-  \r\n-      this.attachEventListeners();\r\n-      this.attachStyles();\r\n-    }\r\n-  \r\n-    attachEventListeners() {\r\n-      const form = document.getElementById(\"solar-sizing-form\");\r\n-      form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n-  \r\n-      const inputs = form.querySelectorAll(\"input\");\r\n-      inputs.forEach((input) => {\r\n-        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n-        input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n-        input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n-      });\r\n-    }\r\n-  \r\n-    handleInput(event) {\r\n-      this[event.target.id] = event.target.value;\r\n-    }\r\n-  \r\n-    handleFocus(event) {\r\n-      event.target.parentElement.classList.add(\"focused\");\r\n-    }\r\n-  \r\n-    handleBlur(event) {\r\n-      if (!event.target.value) {\r\n-        event.target.parentElement.classList.remove(\"focused\");\r\n-      }\r\n-    }\r\n-  \r\n-    async handleSubmit(event) {\r\n-      event.preventDefault();\r\n-  \r\n-      if (this.isFormValid()) {\r\n-        this.isLoading = true;\r\n-        this.renderLoadingState();\r\n-  \r\n-        try {\r\n-          await fetchBillData(this.referenceNumber);\r\n-          console.log(\"Navigating to /quote\");\r\n-          window.router.push(\"/quote\");\r\n-        } catch (err) {\r\n-          console.error(\"Error generating quote:\", err);\r\n-          this.error = \"Error generating quote. Please try again.\";\r\n-          this.renderError();\r\n-        } finally {\r\n-          this.isLoading = false;\r\n-          this.renderLoadingState();\r\n-        }\r\n-      } else {\r\n-        this.error = \"Please fill in all required fields.\";\r\n-        this.renderError();\r\n-      }\r\n-    }\r\n-  \r\n-    isFormValid() {\r\n-      return this.name && this.phone && this.email && this.referenceNumber;\r\n-    }\r\n-  \r\n-    renderLoadingState() {\r\n-      const button = document.querySelector(\".get_go\");\r\n-      if (this.isLoading) {\r\n-        button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n-        button.disabled = true;\r\n-      } else {\r\n-        button.innerHTML = \"<span>Get Quote</span>\";\r\n-        button.disabled = false;\r\n-      }\r\n-    }\r\n-  \r\n-    renderError() {\r\n-      const errorMessage = document.getElementById(\"error-message\");\r\n-      if (this.error) {\r\n-        errorMessage.textContent = this.error;\r\n-        errorMessage.classList.remove(\"hidden\");\r\n-        errorMessage.classList.add(\"animate-shake\");\r\n-        setTimeout(() => {\r\n-          errorMessage.classList.remove(\"animate-shake\");\r\n-        }, 500);\r\n-      } else {\r\n-        errorMessage.classList.add(\"hidden\");\r\n-      }\r\n-    }\r\n-  \r\n-    attachStyles() {\r\n-      const style = document.createElement(\"style\");\r\n-      style.textContent = `\r\n-        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n-        @keyframes slideInLeft { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n-        @keyframes slideInRight { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n-        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n-        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); } 20%, 40%, 60%, 80% { transform: translateX(10px); } }\r\n-        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }\r\n-  \r\n-        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\r\n-        .animate-slideInLeft { animation: slideInLeft 0.5s ease-out; }\r\n-        .animate-slideInRight { animation: slideInRight 0.5s ease-out; }\r\n-        .animate-bounce { animation: bounce 2s infinite; }\r\n-        .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }\r\n-        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\r\n-      `;\r\n-      document.head.appendChild(style);\r\n-    }\r\n-  }\n+    document.head.appendChild(style);\r\n+  }\r\n+}\r\n"
                },
                {
                    "date": 1731000524173,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,436 +1,888 @@\n+// ReferenceInputPage.js\r\n+\r\n import {\r\n   fetchBillData,\r\n   getIsLoading,\r\n   getError,\r\n } from \"../store/solarSizingState.js\";\r\n+import { gsap } from \"gsap\";\r\n \r\n export class ReferenceInputPage {\r\n   constructor() {\r\n-    this.name = \"\";\r\n-    this.phone = \"\";\r\n-    this.email = \"\";\r\n-    this.referenceNumber = \"\";\r\n-    this.isLoading = false;\r\n-    this.error = null;\r\n+    // Form data\r\n+    this.state = {\r\n+      provider: \"\",\r\n+      referenceNumber: \"\",\r\n+      phone: \"\",\r\n+      isLoading: false,\r\n+      error: null,\r\n+      validationErrors: {\r\n+        provider: \"\",\r\n+        referenceNumber: \"\",\r\n+        phone: \"\",\r\n+      },\r\n+    };\r\n+\r\n+    // Constants for validation\r\n+    this.VALIDATION_RULES = {\r\n+      provider: {\r\n+        required: true,\r\n+        minLength: 2,\r\n+        message: \"Please select a valid electricity provider\",\r\n+      },\r\n+      referenceNumber: {\r\n+        required: true,\r\n+        pattern: /^[0-9]{10,14}$/,\r\n+        message: \"Please enter a valid reference number (10-14 digits)\",\r\n+      },\r\n+      phone: {\r\n+        required: true,\r\n+        pattern: /^\\+?[0-9]{10,14}$/,\r\n+        message: \"Please enter a valid phone number\",\r\n+      },\r\n+    };\r\n+\r\n+    // Available electricity providers\r\n+    this.PROVIDERS = [\r\n+      \"MEPCO\",\r\n+      \"LESCO\",\r\n+      \"IESCO\",\r\n+      \"GEPCO\",\r\n+      \"FESCO\",\r\n+      \"PESCO\",\r\n+      \"QESCO\",\r\n+      \"SEPCO\",\r\n+      \"K-Electric\",\r\n+    ];\r\n+\r\n+    // Bind methods\r\n+    this.handleInput = this.handleInput.bind(this);\r\n+    this.handleSubmit = this.handleSubmit.bind(this);\r\n+    this.validateField = this.validateField.bind(this);\r\n+    this.showToast = this.showToast.bind(this);\r\n   }\r\n \r\n-  render() {\r\n+  /**\r\n+   * Initialize the page\r\n+   */\r\n+  async init() {\r\n+    await this.render();\r\n+    this.attachEventListeners();\r\n+    this.initializeAnimations();\r\n+  }\r\n+\r\n+  /**\r\n+   * Shows a toast message\r\n+   * @param {string} message - Message to display\r\n+   * @param {string} type - Type of toast (success, error, info)\r\n+   */\r\n+  showToast(message, type = \"info\") {\r\n+    const toast = document.createElement(\"div\");\r\n+    toast.className = `toast toast-${type}`;\r\n+    toast.textContent = message;\r\n+\r\n+    const container =\r\n+      document.querySelector(\".toast-container\") || this.createToastContainer();\r\n+    container.appendChild(toast);\r\n+\r\n+    // Animate toast\r\n+    gsap.fromTo(\r\n+      toast,\r\n+      { opacity: 0, y: 20 },\r\n+      { opacity: 1, y: 0, duration: 0.3 }\r\n+    );\r\n+\r\n+    // Remove toast after delay\r\n+    setTimeout(() => {\r\n+      gsap.to(toast, {\r\n+        opacity: 0,\r\n+        y: -20,\r\n+        duration: 0.3,\r\n+        onComplete: () => toast.remove(),\r\n+      });\r\n+    }, 3000);\r\n+  }\r\n+\r\n+  /**\r\n+   * Creates a container for toast messages\r\n+   * @returns {HTMLElement} Toast container element\r\n+   */\r\n+  createToastContainer() {\r\n+    const container = document.createElement(\"div\");\r\n+    container.className = \"toast-container\";\r\n+    document.body.appendChild(container);\r\n+    return container;\r\n+  }\r\n+\r\n+  /**\r\n+   * Updates the loading state of the form\r\n+   * @param {boolean} isLoading - Whether the form is loading\r\n+   */\r\n+  setLoading(isLoading) {\r\n+    this.state.isLoading = isLoading;\r\n+    const submitButton = document.querySelector(\".submit-button\");\r\n+    const loadingSpinner = document.querySelector(\".loading-spinner\");\r\n+\r\n+    if (submitButton && loadingSpinner) {\r\n+      if (isLoading) {\r\n+        submitButton.disabled = true;\r\n+        submitButton.querySelector(\"span\").textContent = \"Processing...\";\r\n+        loadingSpinner.style.display = \"inline-block\";\r\n+      } else {\r\n+        submitButton.disabled = false;\r\n+        submitButton.querySelector(\"span\").textContent = \"Generate\";\r\n+        loadingSpinner.style.display = \"none\";\r\n+      }\r\n+    }\r\n+  }\r\n+\r\n+  /**\r\n+   * Creates a loading spinner element\r\n+   * @returns {HTMLElement} Spinner element\r\n+   */\r\n+  createLoadingSpinner() {\r\n+    const spinner = document.createElement(\"div\");\r\n+    spinner.className = \"loading-spinner\";\r\n+    spinner.innerHTML = `\r\n+            <svg viewBox=\"0 0 50 50\" class=\"spinner-svg\">\r\n+                <circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke-width=\"5\"></circle>\r\n+            </svg>\r\n+        `;\r\n+    return spinner;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the page content\r\n+   */\r\n+  async render() {\r\n     const app = document.getElementById(\"app\");\r\n     app.innerHTML = `\r\n-        <div class=\"sap_form\">\r\n-          <div class=\"container mx-auto px-6 md:px-10\">\r\n-            <!-- Mobile Contact Icons -->\r\n-            <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n-              <p>\r\n-                <a href=\"tel:+14155551234\" class=\"contact-icon phn_mb animate-bounce\" aria-label=\"Solar System Sizing Phone\"></a>\r\n-              </p>\r\n-              <p>\r\n-                <a href=\"mailto:info@solarsizing.com\" class=\"contact-icon eml_mb animate-bounce\" aria-label=\"Solar System Sizing Email\"></a>\r\n-              </p>\r\n-              <p>\r\n-                <a href=\"https://t.me/solarsizing\" class=\"contact-icon tg_mb animate-bounce\" aria-label=\"Solar System Sizing Telegram\"></a>\r\n-              </p>\r\n-            </div>\r\n-  \r\n-            <!-- Desktop Contact Label -->\r\n-            <div class=\"hidden md:flex pt-4 animate-fadeIn\">\r\n-              <div class=\"w-full\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">Contact us</p>\r\n+      <div class=\"sap_form\">\r\n+          ${this.renderHeader()}\r\n+          ${this.renderMainContent()}\r\n+          ${this.renderWaveDecoration()}\r\n+      </div>\r\n+      ${this.renderStyles()}\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the header section with logo\r\n+   */\r\n+  renderHeader() {\r\n+    return `\r\n+      <header class=\"header\">\r\n+          <div class=\"container\">\r\n+              <div class=\"logo-section\">\r\n+                  ${this.renderLogo()}\r\n+                  <div class=\"logo-text\">\r\n+                      <h1>ENERGY COVE</h1>\r\n+                      <p>Energy for Life</p>\r\n+                  </div>\r\n               </div>\r\n-            </div>\r\n-  \r\n-            <!-- Desktop Contact Details -->\r\n-            <div class=\"mt-6 hidden md:flex justify-between animate-fadeIn\">\r\n-              <div class=\"flex items-center\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n-                  <a href=\"https://t.me/solarsizing\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Telegram\">\r\n-                    Telegram\r\n-                  </a>\r\n-                </p>\r\n+              ${this.renderHeaderContacts()}\r\n+          </div>\r\n+      </header>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the logo SVG\r\n+   */\r\n+  renderLogo() {\r\n+    return `\r\n+      <svg class=\"logo-icon\" viewBox=\"0 0 60 50\" width=\"60\" height=\"50\">\r\n+          <path \r\n+              d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n+              fill=\"#00a651\"\r\n+          />\r\n+      </svg>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the header contact information\r\n+   */\r\n+  renderHeaderContacts() {\r\n+    return `\r\n+      <div class=\"header-contacts\">\r\n+          <!-- Mobile Contacts -->\r\n+          <div class=\"mobile-contacts md:hidden\">\r\n+              <a href=\"tel:+923001234567\" class=\"contact-icon\" aria-label=\"Call us\">\r\n+                  ${this.renderPhoneIcon()}\r\n+              </a>\r\n+              <a href=\"mailto:info@energycove.pk\" class=\"contact-icon\" aria-label=\"Email us\">\r\n+                  ${this.renderEmailIcon()}\r\n+              </a>\r\n+              <a href=\"https://wa.me/923001234567\" class=\"contact-icon\" aria-label=\"WhatsApp\">\r\n+                  ${this.renderWhatsAppIcon()}\r\n+              </a>\r\n+          </div>\r\n+          \r\n+          <!-- Desktop Contacts -->\r\n+          <div class=\"desktop-contacts hidden md:block\">\r\n+              <div class=\"contact-label\">Contact us</div>\r\n+              <div class=\"contact-info\">\r\n+                  <a href=\"https://wa.me/923001234567\">WhatsApp</a>\r\n+                  <a href=\"mailto:info@energycove.pk\">info@energycove.pk</a>\r\n               </div>\r\n-              <div class=\"flex items-center\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n-                  <a href=\"mailto:info@solarsizing.com\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Email\">\r\n-                    info@solarsizing.com\r\n-                  </a>\r\n-                </p>\r\n-              </div>\r\n-            </div>\r\n-  \r\n-            <!-- Form Title -->\r\n-            <div class=\"mt-20 animate-slideInLeft\">\r\n-              <h2 class=\"hidden md:block text-5xl font-normal tracking-tight\">\r\n-                Solar System Sizing Tool -\r\n-                <span class=\"block\">Enter Your Details</span>\r\n-              </h2>\r\n-              <h2 class=\"block md:hidden text-3xl font-normal tracking-tight\">\r\n-                Solar System Sizing Tool -\r\n-                <span class=\"block\">Enter Your Details</span>\r\n-              </h2>\r\n-            </div>\r\n-  \r\n-            <!-- Form -->\r\n-            <div class=\"mt-24 animate-fadeIn\">\r\n-              <form id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n-                <!-- Name Field -->\r\n-                <div class=\"relative\">\r\n-                  <input type=\"text\" id=\"name\" name=\"NAME\" placeholder=\" \" required aria-label=\"NAME\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                  <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                    Your name\r\n-                  </label>\r\n-                </div>\r\n-  \r\n-                <!-- Phone and Email Fields -->\r\n-                <div class=\"grid md:grid-cols-2 gap-6\">\r\n-                  <div class=\"relative\">\r\n-                    <input type=\"tel\" id=\"phone\" name=\"PHONE\" placeholder=\" \" required aria-label=\"PHONE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                    <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                      Phone\r\n-                    </label>\r\n+          </div>\r\n+      </div>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the main content section\r\n+   */\r\n+  renderMainContent() {\r\n+    return `\r\n+      <main class=\"main-content\">\r\n+          <div class=\"container\">\r\n+              <div class=\"content-grid\">\r\n+                  <!-- Left Section: Form -->\r\n+                  <div class=\"form-section\">\r\n+                      <h2 class=\"form-title animate-slide-up\">\r\n+                          Get your solar quote\r\n+                      </h2>\r\n+                      ${this.renderForm()}\r\n                   </div>\r\n-                  <div class=\"relative\">\r\n-                    <input type=\"email\" id=\"email\" name=\"EMAIL\" placeholder=\" \" required aria-label=\"EMAIL\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                    <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                      E-mail\r\n-                    </label>\r\n-                  </div>\r\n-                </div>\r\n-  \r\n-                <!-- Reference Number -->\r\n-                <div class=\"relative\">\r\n-                  <input type=\"text\" id=\"referenceNumber\" name=\"REFERENCE\" placeholder=\" \" required aria-label=\"REFERENCE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                  <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                    MEPCO Bill Reference Number\r\n-                  </label>\r\n-                </div>\r\n-  \r\n-                <!-- File Upload -->\r\n-                <div class=\"mt-8 animate-slideInRight\">\r\n-                  <div class=\"flex flex-wrap items-start max-w-full\">\r\n-                    <ul class=\"list_dwn flex flex-wrap mt-4 w-full\"></ul>\r\n-                    <div class=\"relative\">\r\n-                      <div class=\"dwn text-lg text-black cursor-pointer px-4 py-2 hover:text-gray-400 transition-colors duration-300\">\r\n-                        Add attachment\r\n+\r\n+                  <!-- Right Section: Info -->\r\n+                  <div class=\"info-section\">\r\n+                      <div class=\"info-content animate-fade-in\">\r\n+                          <h3>\r\n+                              Our AI tool quickly provides\r\n+                              the ideal system size and\r\n+                              savings estimateno\r\n+                              in-person consultation\r\n+                              needed. Get the fastest\r\n+                              solar quote in Pakistan!\r\n+                          </h3>\r\n+                          <div class=\"powered-by\">POWERED BY AI</div>\r\n                       </div>\r\n-                      <input type=\"file\" name=\"files[]\" data-url=\"/user_files/\" class=\"hidden\">\r\n-                      <div class=\"progress bg-gray-400 mt-2 relative h-0.5 w-full max-w-full\" role=\"progressbar\" aria-label=\"File Upload Progress\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\">\r\n-                        <div class=\"progress-bar-success bg-green-500 absolute top-0 left-0 h-full\" style=\"width: 0%\"></div>\r\n-                      </div>\r\n-                      <div class=\"progress_txt mt-4 text-sm text-black\">\r\n-                        <div>Supported formats: jpg, png, pdf, doc(x), xls(x), ppt(x)</div>\r\n-                        <div>Maximum file size 20 MB</div>\r\n-                      </div>\r\n-                    </div>\r\n                   </div>\r\n-                </div>\r\n-  \r\n-                <!-- Error message -->\r\n-                <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n-  \r\n-                <!-- Submit button -->\r\n-                <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n-                  <span>Get Quote</span>\r\n-                </button>\r\n-              </form>\r\n-            </div>\r\n+              </div>\r\n           </div>\r\n-        </div>\r\n-      `;\r\n+      </main>\r\n+  `;\r\n+  }\r\n \r\n-    this.attachEventListeners();\r\n-    this.attachStyles();\r\n+  /**\r\n+   * Renders the form element\r\n+   */\r\n+  renderForm() {\r\n+    return `\r\n+      <form id=\"quote-form\" class=\"quote-form animate-fade-in\" novalidate>\r\n+          ${this.renderProviderField()}\r\n+          ${this.renderReferenceNumberField()}\r\n+          ${this.renderPhoneField()}\r\n+          ${this.renderSubmitButton()}\r\n+      </form>\r\n+  `;\r\n   }\r\n \r\n+  /**\r\n+   * Renders the provider selection field\r\n+   */\r\n+  renderProviderField() {\r\n+    const { provider } = this.state;\r\n+    const error = this.state.validationErrors.provider;\r\n+\r\n+    return `\r\n+      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n+          <label for=\"provider\" class=\"form-label\">\r\n+              Choose your electricity Provider\r\n+          </label>\r\n+          <select \r\n+              id=\"provider\" \r\n+              name=\"provider\"\r\n+              class=\"form-select\"\r\n+              required\r\n+              value=\"${provider}\"\r\n+          >\r\n+              <option value=\"\">Select Provider</option>\r\n+              ${this.PROVIDERS.map(\r\n+                (p) => `\r\n+                  <option value=\"${p}\" ${provider === p ? \"selected\" : \"\"}>\r\n+                      ${p}\r\n+                  </option>\r\n+              `\r\n+              ).join(\"\")}\r\n+          </select>\r\n+          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n+      </div>\r\n+  `;\r\n\\ No newline at end of file\n+  }\r\n+\r\n+  /**\r\n+   * Renders the reference number input field\r\n+   */\r\n+  renderReferenceNumberField() {\r\n+    const { referenceNumber } = this.state;\r\n+    const error = this.state.validationErrors.referenceNumber;\r\n+\r\n+    return `\r\n+      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n+          <label for=\"referenceNumber\" class=\"form-label\">\r\n+              Enter your bill reference number\r\n+          </label>\r\n+          <input \r\n+              type=\"text\" \r\n+              id=\"referenceNumber\"\r\n+              name=\"referenceNumber\"\r\n+              class=\"form-input\"\r\n+              required\r\n+              pattern=\"[0-9]{10,14}\"\r\n+              value=\"${referenceNumber}\"\r\n+              placeholder=\"e.g., 1234567890\"\r\n+          />\r\n+          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n+      </div>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the phone number input field\r\n+   */\r\n+  renderPhoneField() {\r\n+    const { phone } = this.state;\r\n+    const error = this.state.validationErrors.phone;\r\n+\r\n+    return `\r\n+      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n+          <label for=\"phone\" class=\"form-label\">\r\n+              Enter your WhatsApp phone number\r\n+          </label>\r\n+          <input \r\n+              type=\"tel\" \r\n+              id=\"phone\"\r\n+              name=\"phone\"\r\n+              class=\"form-input\"\r\n+              required\r\n+              pattern=\"[+]?[0-9]{10,14}\"\r\n+              value=\"${phone}\"\r\n+              placeholder=\"+92 300 1234567\"\r\n+          />\r\n+          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n+      </div>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the submit button\r\n+   */\r\n+  renderSubmitButton() {\r\n+    return `\r\n+      <div class=\"form-group\">\r\n+          <button type=\"submit\" class=\"submit-button\" ${\r\n+            this.state.isLoading ? \"disabled\" : \"\"\r\n+          }>\r\n+              <span>${\r\n+                this.state.isLoading ? \"Processing...\" : \"Generate\"\r\n+              }</span>\r\n+              ${\r\n+                this.state.isLoading\r\n+                  ? this.createLoadingSpinner().outerHTML\r\n+                  : \"\"\r\n+              }\r\n+          </button>\r\n+      </div>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the wave decoration at the bottom\r\n+   */\r\n+  renderWaveDecoration() {\r\n+    return `\r\n+      <div class=\"wave-decoration\">\r\n+          <div class=\"wave wave-1\"></div>\r\n+          <div class=\"wave wave-2\"></div>\r\n+      </div>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the SVG icons\r\n+   */\r\n+  renderPhoneIcon() {\r\n+    return `\r\n+      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+          <path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"/>\r\n+      </svg>\r\n+  `;\r\n+  }\r\n+\r\n+  renderEmailIcon() {\r\n+    return `\r\n+      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+          <path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"/>\r\n+          <polyline points=\"22,6 12,13 2,6\"/>\r\n+      </svg>\r\n+  `;\r\n+  }\r\n+\r\n+  renderWhatsAppIcon() {\r\n+    return `\r\n+      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+          <path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"/>\r\n+      </svg>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Attaches event listeners to form elements\r\n+   */\r\n   attachEventListeners() {\r\n-    const form = document.getElementById(\"solar-sizing-form\");\r\n-    form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n+    const form = document.getElementById(\"quote-form\");\r\n+    const inputs = form.querySelectorAll(\"input, select\");\r\n \r\n-    const inputs = form.querySelectorAll(\"input\");\r\n+    // Form submission\r\n+    form.addEventListener(\"submit\", this.handleSubmit);\r\n+\r\n+    // Input events\r\n     inputs.forEach((input) => {\r\n-      input.addEventListener(\"input\", this.handleInput.bind(this));\r\n+      input.addEventListener(\"input\", this.handleInput);\r\n+      input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n       input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n-      input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n     });\r\n+\r\n+    // Add resize listener for responsive adjustments\r\n+    window.addEventListener(\"resize\", this.handleResize.bind(this));\r\n   }\r\n \r\n+  /**\r\n+   * Handles form input changes\r\n+   * @param {Event} event - Input event\r\n+   */\r\n   handleInput(event) {\r\n-    this[event.target.id] = event.target.value;\r\n+    const { name, value } = event.target;\r\n+    this.state[name] = value;\r\n+\r\n+    // Clear validation error when user starts typing\r\n+    this.state.validationErrors[name] = \"\";\r\n+\r\n+    // Remove error styling\r\n+    event.target.closest(\".form-group\").classList.remove(\"has-error\");\r\n   }\r\n \r\n+  /**\r\n+   * Handles input blur events\r\n+   * @param {Event} event - Blur event\r\n+   */\r\n+  handleBlur(event) {\r\n+    const { name, value } = event.target;\r\n+\r\n+    // Validate field on blur\r\n+    const error = this.validateField(name, value);\r\n+    if (error) {\r\n+      this.state.validationErrors[name] = error;\r\n+      event.target.closest(\".form-group\").classList.add(\"has-error\");\r\n+    }\r\n+  }\r\n+\r\n+  /**\r\n+   * Handles input focus events\r\n+   * @param {Event} event - Focus event\r\n+   */\r\n   handleFocus(event) {\r\n-    event.target.parentElement.classList.add(\"focused\");\r\n+    const formGroup = event.target.closest(\".form-group\");\r\n+    formGroup.classList.add(\"is-focused\");\r\n+\r\n+    // Add floating label animation\r\n+    const label = formGroup.querySelector(\".form-label\");\r\n+    if (label) {\r\n+      gsap.to(label, {\r\n+        y: -20,\r\n+        scale: 0.85,\r\n+        duration: 0.3,\r\n+        ease: \"power2.out\",\r\n+      });\r\n+    }\r\n   }\r\n \r\n-  handleBlur(event) {\r\n-    if (!event.target.value) {\r\n-      event.target.parentElement.classList.remove(\"focused\");\r\n+  /**\r\n+   * Validates a single form field\r\n+   * @param {string} fieldName - Name of the field to validate\r\n+   * @param {string} value - Value to validate\r\n+   * @returns {string|null} Error message or null if valid\r\n+   */\r\n+  validateField(fieldName, value) {\r\n+    const rules = this.VALIDATION_RULES[fieldName];\r\n+    if (!rules) return null;\r\n+\r\n+    if (rules.required && !value) {\r\n+      return `${\r\n+        fieldName.charAt(0).toUpperCase() + fieldName.slice(1)\r\n+      } is required`;\r\n     }\r\n+\r\n+    if (rules.pattern && !rules.pattern.test(value)) {\r\n+      return rules.message;\r\n+    }\r\n+\r\n+    if (rules.minLength && value.length < rules.minLength) {\r\n+      return `${\r\n+        fieldName.charAt(0).toUpperCase() + fieldName.slice(1)\r\n+      } must be at least ${rules.minLength} characters`;\r\n+    }\r\n+\r\n+    return null;\r\n   }\r\n \r\n+  /**\r\n+   * Validates the entire form\r\n+   * @returns {boolean} Whether the form is valid\r\n+   */\r\n+  validateForm() {\r\n+    let isValid = true;\r\n+    const formData = {\r\n+      provider: this.state.provider,\r\n+      referenceNumber: this.state.referenceNumber,\r\n+      phone: this.state.phone,\r\n+    };\r\n+\r\n+    // Validate each field\r\n+    Object.keys(formData).forEach((fieldName) => {\r\n+      const error = this.validateField(fieldName, formData[fieldName]);\r\n+      if (error) {\r\n+        this.state.validationErrors[fieldName] = error;\r\n+        isValid = false;\r\n+\r\n+        // Add error styling\r\n+        const formGroup = document\r\n+          .querySelector(`[name=\"${fieldName}\"]`)\r\n+          .closest(\".form-group\");\r\n+        formGroup.classList.add(\"has-error\");\r\n+      }\r\n+    });\r\n+\r\n+    return isValid;\r\n+  }\r\n+\r\n+  /**\r\n+   * Handles form submission\r\n+   * @param {Event} event - Submit event\r\n+   */\r\n   async handleSubmit(event) {\r\n     event.preventDefault();\r\n \r\n-    if (this.isFormValid()) {\r\n-      this.isLoading = true;\r\n-      this.renderLoadingState();\r\n+    if (this.state.isLoading) return;\r\n \r\n-      try {\r\n-        await fetchBillData(this.referenceNumber);\r\n-        console.log(\"Navigating to /quote\");\r\n-        window.router.push(\"/quote\");\r\n-      } catch (err) {\r\n-        console.error(\"Error generating quote:\", err);\r\n-        this.error = \"Error generating quote. Please try again.\";\r\n-        this.renderError();\r\n-      } finally {\r\n-        this.isLoading = false;\r\n-        this.renderLoadingState();\r\n-      }\r\n-    } else {\r\n-      this.error = \"Please fill in all required fields.\";\r\n-      this.renderError();\r\n+    if (!this.validateForm()) {\r\n+      this.showToast(\"Please fix the errors in the form\", \"error\");\r\n+      return;\r\n     }\r\n-  }\r\n \r\n-  isFormValid() {\r\n-    return this.name && this.phone && this.email && this.referenceNumber;\r\n-  }\r\n+    try {\r\n+      this.setLoading(true);\r\n+      this.showToast(\"Generating your quote...\", \"info\");\r\n \r\n-  renderLoadingState() {\r\n-    const button = document.querySelector(\".get_go\");\r\n-    if (this.isLoading) {\r\n-      button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n-      button.disabled = true;\r\n-    } else {\r\n-      button.innerHTML = \"<span>Get Quote</span>\";\r\n-      button.disabled = false;\r\n+      // Submit the form data\r\n+      await fetchBillData(this.state.referenceNumber);\r\n+\r\n+      // Show success message\r\n+      this.showToast(\"Quote generated successfully!\", \"success\");\r\n+\r\n+      // Navigate to quote page\r\n+      window.router.push(\"/quote\");\r\n+    } catch (error) {\r\n+      console.error(\"Error submitting form:\", error);\r\n+      this.showToast(\"Failed to generate quote. Please try again.\", \"error\");\r\n+    } finally {\r\n+      this.setLoading(false);\r\n     }\r\n   }\r\n \r\n-  renderError() {\r\n-    const errorMessage = document.getElementById(\"error-message\");\r\n-    if (this.error) {\r\n-      errorMessage.textContent = this.error;\r\n-      errorMessage.classList.remove(\"hidden\");\r\n-      errorMessage.classList.add(\"animate-shake\");\r\n-      setTimeout(() => {\r\n-        errorMessage.classList.remove(\"animate-shake\");\r\n-      }, 500);\r\n+  /**\r\n+   * Handles window resize events\r\n+   */\r\n+  handleResize() {\r\n+    // Update layout classes based on window size\r\n+    const container = document.querySelector(\".container\");\r\n+    if (window.innerWidth < 768) {\r\n+      container.classList.remove(\"desktop-layout\");\r\n+      container.classList.add(\"mobile-layout\");\r\n     } else {\r\n-      errorMessage.classList.add(\"hidden\");\r\n+      container.classList.remove(\"mobile-layout\");\r\n+      container.classList.add(\"desktop-layout\");\r\n     }\r\n   }\r\n \r\n-  attachStyles() {\r\n-    const style = document.createElement(\"style\");\r\n-    style.textContent = `\r\n-        /* Base styles */\r\n-:root {\r\n-  --color-primary: #00a651;\r\n-  --color-primary-light: rgba(0, 166, 81, 0.1);\r\n-  --color-yellow: #ffde17;\r\n-  --color-text: #2c3e50;\r\n-  --color-text-light: #7f8c8d;\r\n-}\r\n+  /**\r\n+   * Initializes page animations\r\n+   */\r\n+  initializeAnimations() {\r\n+    // Animate form elements\r\n+    gsap.from(\".form-title\", {\r\n+      y: 30,\r\n+      opacity: 0,\r\n+      duration: 0.8,\r\n+      ease: \"power3.out\",\r\n+    });\r\n \r\n-.sap_form {\r\n-  min-height: 100vh;\r\n-  background-color: #ffffff;\r\n-  position: relative;\r\n-  overflow: hidden;\r\n-}\r\n+    gsap.from(\".form-group\", {\r\n+      y: 20,\r\n+      opacity: 0,\r\n+      duration: 0.5,\r\n+      stagger: 0.1,\r\n+      ease: \"power2.out\",\r\n+    });\r\n \r\n-/* Container */\r\n-.container {\r\n-  max-width: 1200px;\r\n-  margin: 0 auto;\r\n-  display: grid;\r\n-  grid-template-columns: 2fr 1fr;\r\n-  gap: 2rem;\r\n-  position: relative;\r\n-}\r\n+    // Animate info section\r\n+    gsap.from(\".info-section\", {\r\n+      x: 50,\r\n+      opacity: 0,\r\n+      duration: 0.8,\r\n+      ease: \"power3.out\",\r\n+    });\r\n \r\n-/* Logo Section */\r\n-.logo-section {\r\n-  display: flex;\r\n-  align-items: center;\r\n-  gap: 1rem;\r\n-  padding: 2rem 0;\r\n-}\r\n+    // Animate wave decoration\r\n+    gsap.from(\".wave\", {\r\n+      scaleY: 0,\r\n+      transformOrigin: \"bottom\",\r\n+      duration: 1,\r\n+      ease: \"power2.out\",\r\n+      stagger: 0.2,\r\n+    });\r\n+  }\r\n \r\n-.logo-icon {\r\n-  width: 60px;\r\n-  height: 60px;\r\n-}\r\n+  /**\r\n+   * Cleans up event listeners and animations\r\n+   */\r\n+  cleanup() {\r\n+    // Remove event listeners\r\n+    window.removeEventListener(\"resize\", this.handleResize);\r\n \r\n-.logo-text h1 {\r\n-  font-size: 1.5rem;\r\n-  font-weight: bold;\r\n-  color: var(--color-text);\r\n-}\r\n+    // Kill all GSAP animations\r\n+    gsap.killTweensOf(\".form-title\");\r\n+    gsap.killTweensOf(\".form-group\");\r\n+    gsap.killTweensOf(\".info-section\");\r\n+    gsap.killTweensOf(\".wave\");\r\n+  }\r\n \r\n-.logo-text p {\r\n-  font-size: 0.875rem;\r\n-  color: var(--color-text-light);\r\n-  font-style: italic;\r\n-}\r\n+  /**\r\n+   * Renders the core styles for the page\r\n+   */\r\n+  renderStyles() {\r\n+    return `\r\n+      <style>\r\n+          /* CSS Reset and Variables */\r\n+          :root {\r\n+              --color-primary: #00a651;\r\n+              --color-primary-dark: #008c44;\r\n+              --color-primary-light: rgba(0, 166, 81, 0.1);\r\n+              --color-yellow: #ffde17;\r\n+              --color-error: #ef4444;\r\n+              --color-success: #10b981;\r\n+              --color-text: #2c3e50;\r\n+              --color-text-light: #7f8c8d;\r\n+              --color-background: #ffffff;\r\n+              --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\r\n+              --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n+              --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\r\n+              --border-radius: 0.5rem;\r\n+              --transition: all 0.3s ease;\r\n+          }\r\n \r\n-/* Form Section */\r\n-.form-container {\r\n-  padding: 2rem;\r\n-  max-width: 600px;\r\n-}\r\n+          /* Base Styles */\r\n+          * {\r\n+              margin: 0;\r\n+              padding: 0;\r\n+              box-sizing: border-box;\r\n+          }\r\n \r\n-.form-title {\r\n-  color: var(--color-primary);\r\n-  font-size: 2.25rem;\r\n-  font-weight: bold;\r\n-  margin-bottom: 2rem;\r\n-}\r\n+          body {\r\n+              font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\r\n+              color: var(--color-text);\r\n+              line-height: 1.5;\r\n+              -webkit-font-smoothing: antialiased;\r\n+          }\r\n \r\n-.input-group {\r\n-  margin-bottom: 1.5rem;\r\n-}\r\n+          /* Layout */\r\n+          .sap_form {\r\n+              min-height: 100vh;\r\n+              background-color: var(--color-background);\r\n+              position: relative;\r\n+              overflow: hidden;\r\n+          }\r\n \r\n-.input-group label {\r\n-  display: block;\r\n-  font-size: 0.875rem;\r\n-  color: var(--color-text);\r\n-  margin-bottom: 0.5rem;\r\n-}\r\n+          .container {\r\n+              max-width: 1200px;\r\n+              margin: 0 auto;\r\n+              padding: 0 1rem;\r\n+          }\r\n \r\n-.input-group input {\r\n-  width: 100%;\r\n-  padding: 0.75rem;\r\n-  border: 1px solid #e2e8f0;\r\n-  border-radius: 0.375rem;\r\n-  font-size: 1rem;\r\n-  transition: all 0.3s ease;\r\n-}\r\n+          .content-grid {\r\n+              display: grid;\r\n+              grid-template-columns: 2fr 1fr;\r\n+              gap: 2rem;\r\n+              position: relative;\r\n+              padding: 2rem 0;\r\n+          }\r\n \r\n-.input-group input:focus {\r\n-  outline: none;\r\n-  border-color: var(--color-primary);\r\n-  box-shadow: 0 0 0 3px var(--color-primary-light);\r\n-}\r\n+          /* Header Styles */\r\n+          .header {\r\n+              padding: 1.5rem 0;\r\n+              border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n+          }\r\n \r\n-/* Right Side Content */\r\n-.right-content {\r\n-  background-color: var(--color-primary);\r\n-  padding: 4rem 2rem;\r\n-  color: white;\r\n-  position: absolute;\r\n-  right: 0;\r\n-  top: 0;\r\n-  bottom: 0;\r\n-  width: 33.333%;\r\n-}\r\n+          .logo-section {\r\n+              display: flex;\r\n+              align-items: center;\r\n+              gap: 1rem;\r\n+          }\r\n \r\n-.right-content h3 {\r\n-  font-size: 1.5rem;\r\n-  line-height: 1.4;\r\n-  margin-bottom: 2rem;\r\n-}\r\n+          .logo-icon {\r\n+              width: 60px;\r\n+              height: 50px;\r\n+              flex-shrink: 0;\r\n+          }\r\n \r\n-.powered-by {\r\n-  position: absolute;\r\n-  bottom: 4rem;\r\n-  font-weight: bold;\r\n-  font-size: 1.5rem;\r\n-}\r\n+          .logo-text h1 {\r\n+              font-size: 1.5rem;\r\n+              font-weight: bold;\r\n+              color: var(--color-text);\r\n+              line-height: 1.2;\r\n+          }\r\n \r\n-/* Submit Button */\r\n-.submit-button {\r\n-  width: 100%;\r\n-  padding: 1rem;\r\n-  background-color: var(--color-primary);\r\n-  color: white;\r\n-  border: none;\r\n-  border-radius: 9999px;\r\n-  font-size: 1.125rem;\r\n-  font-weight: 500;\r\n-  cursor: pointer;\r\n-  transition: all 0.3s ease;\r\n-}\r\n+          .logo-text p {\r\n+              font-size: 0.875rem;\r\n+              color: var(--color-text-light);\r\n+              font-style: italic;\r\n+          }\r\n \r\n-.submit-button:hover {\r\n-  transform: scale(1.02);\r\n-  background-color: #008c44;\r\n-}\r\n+          /* Contact Section Styles */\r\n+          .header-contacts {\r\n+              margin-top: 1rem;\r\n+          }\r\n \r\n-/* Decorative Waves */\r\n-.wave-decoration {\r\n-  position: absolute;\r\n-  bottom: 0;\r\n-  left: 0;\r\n-  right: 0;\r\n-  height: 120px;\r\n-  overflow: hidden;\r\n-}\r\n+          .contact-label {\r\n+              font-size: 1.125rem;\r\n+              color: var(--color-text-light);\r\n+              margin-bottom: 0.5rem;\r\n+          }\r\n \r\n-.wave {\r\n-  position: absolute;\r\n-  bottom: 0;\r\n-  left: 0;\r\n-  right: 0;\r\n-  height: 100%;\r\n-}\r\n+          .contact-info {\r\n+              display: flex;\r\n+              justify-content: space-between;\r\n+              gap: 2rem;\r\n+          }\r\n \r\n-.wave-1 {\r\n-  background: var(--color-primary);\r\n-  opacity: 0.3;\r\n-  clip-path: path('M0,64 C200,44 400,84 600,64 S800,44 1200,64 L1200,100 L0,100 Z');\r\n-}\r\n+          .contact-info a {\r\n+              color: var(--color-text-light);\r\n+              text-decoration: none;\r\n+              transition: var(--transition);\r\n+          }\r\n \r\n-.wave-2 {\r\n-  background: var(--color-yellow);\r\n-  opacity: 0.5;\r\n-  clip-path: path('M0,74 C200,54 400,94 600,74 S800,54 1200,74 L1200,100 L0,100 Z');\r\n-}\r\n+          .contact-info a:hover {\r\n+              color: var(--color-primary);\r\n+          }\r\n \r\n-/* Responsive Design */\r\n-@media (max-width: 768px) {\r\n-  .container {\r\n-    grid-template-columns: 1fr;\r\n-    padding: 1rem;\r\n-  }\r\n+          .mobile-contacts {\r\n+              display: flex;\r\n+              gap: 1rem;\r\n+              justify-content: flex-end;\r\n+          }\r\n \r\n-  .right-content {\r\n-    position: relative;\r\n-    width: 100%;\r\n-    padding: 2rem 1rem;\r\n-  }\r\n+          .contact-icon {\r\n+              width: 40px;\r\n+              height: 40px;\r\n+              display: flex;\r\n+              align-items: center;\r\n+              justify-content: center;\r\n+              background-color: var(--color-primary-light);\r\n+              border-radius: 50%;\r\n+              color: var(--color-primary);\r\n+              transition: var(--transition);\r\n+          }\r\n \r\n-  .form-title {\r\n-    font-size: 1.875rem;\r\n-  }\r\n+          .contact-icon:hover {\r\n+              background-color: var(--color-primary);\r\n+              color: white;\r\n+              transform: translateY(-2px);\r\n+          }\r\n \r\n-  .powered-by {\r\n-    position: relative;\r\n-    bottom: auto;\r\n-    margin-top: 2rem;\r\n-  }\r\n-}\r\n+          .contact-icon svg {\r\n+              width: 20px;\r\n+              height: 20px;\r\n+          }\r\n \r\n-/* Animations */\r\n-@keyframes fadeIn {\r\n-  from { opacity: 0; }\r\n-  to { opacity: 1; }\r\n-}\r\n+          /* Form Section Styles */\r\n+          .form-section {\r\n+              padding: 2rem;\r\n+              background-color: var(--color-background);\r\n+              border-radius: var(--border-radius);\r\n+              box-shadow: var(--shadow-md);\r\n+          }\r\n \r\n-@keyframes slideUp {\r\n-  from { transform: translateY(20px); opacity: 0; }\r\n-  to { transform: translateY(0); opacity: 1; }\r\n-}\r\n+          .form-title {\r\n+              font-size: 2.25rem;\r\n+              font-weight: bold;\r\n+              color: var(--color-primary);\r\n+              margin-bottom: 2rem;\r\n+              line-height: 1.2;\r\n+          }\r\n \r\n-.animate-fade-in {\r\n-  animation: fadeIn 0.5s ease-out;\r\n-}\r\n+          .quote-form {\r\n+              display: flex;\r\n+              flex-direction: column;\r\n+              gap: 1.5rem;\r\n+          }\r\n \r\n-.animate-slide-up {\r\n-  animation: slideUp 0.5s ease-out;\r\n+          /* Right Info Section */\r\n+          .info-section {\r\n+              background-color: var(--color-primary);\r\n+              color: white;\r\n+              padding: 2rem;\r\n+              border-radius: var(--border-radius);\r\n+              position: relative;\r\n+          }\r\n+\r\n+          .info-content h3 {\r\n+              font-size: 1.5rem;\r\n+              line-height: 1.4;\r\n+              font-weight: normal;\r\n+              margin-bottom: 2rem;\r\n+          }\r\n+\r\n+          .powered-by {\r\n+              position: absolute;\r\n+              bottom: 2rem;\r\n+              font-size: 1.5rem;\r\n+              font-weight: bold;\r\n+          }\r\n+\r\n+          /* Wave Decoration */\r\n+          .wave-decoration {\r\n+              position: absolute;\r\n+              bottom: 0;\r\n+              left: 0;\r\n+              right: 0;\r\n+              height: 120px;\r\n+              overflow: hidden;\r\n+          }\r\n+\r\n+          .wave {\r\n+              position: absolute;\r\n+              bottom: 0;\r\n+              left: 0;\r\n+              right: 0;\r\n+              height: 100%;\r\n+          }\r\n+\r\n+          .wave-1 {\r\n+              background: var(--color-primary);\r\n+              opacity: 0.3;\r\n+              clip-path: path('M0,64 C200,44 400,84 600,64 S800,44 1200,64 L1200,100 L0,100 Z');\r\n+          }\r\n+\r\n+          .wave-2 {\r\n+              background: var(--color-yellow);\r\n+              opacity: 0.5;\r\n+              clip-path: path('M0,74 C200,54 400,94 600,74 S800,54 1200,74 L1200,100 L0,100 Z');\r\n+          }\r\n+      </style>\r\n+  `;\r\n+  }\r\n }\r\n-      `;\r\n-    document.head.appendChild(style);\r\n-  }\r\n-}\n"
                },
                {
                    "date": 1731000536387,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -884,5 +884,248 @@\n           }\r\n       </style>\r\n   `;\r\n   }\r\n-}\n\\ No newline at end of file\n+\r\n+  /**\r\n+   * Renders the form-specific styles and animations\r\n+   */\r\n+  renderFormStyles() {\r\n+    return `\r\n+      <style>\r\n+          /* Form Group Styles */\r\n+          .form-group {\r\n+              position: relative;\r\n+              margin-bottom: 1.5rem;\r\n+          }\r\n+\r\n+          .form-label {\r\n+              display: block;\r\n+              font-size: 0.875rem;\r\n+              color: var(--color-text-light);\r\n+              margin-bottom: 0.5rem;\r\n+              transition: var(--transition);\r\n+              transform-origin: left;\r\n+          }\r\n+\r\n+          .form-input,\r\n+          .form-select {\r\n+              width: 100%;\r\n+              padding: 0.75rem 1rem;\r\n+              font-size: 1rem;\r\n+              border: 1px solid #e2e8f0;\r\n+              border-radius: var(--border-radius);\r\n+              background-color: white;\r\n+              transition: var(--transition);\r\n+              color: var(--color-text);\r\n+          }\r\n+\r\n+          .form-input:focus,\r\n+          .form-select:focus {\r\n+              outline: none;\r\n+              border-color: var(--color-primary);\r\n+              box-shadow: 0 0 0 3px var(--color-primary-light);\r\n+          }\r\n+\r\n+          .form-select {\r\n+              appearance: none;\r\n+              background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236B7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\");\r\n+              background-position: right 0.5rem center;\r\n+              background-repeat: no-repeat;\r\n+              background-size: 1.5em 1.5em;\r\n+              padding-right: 2.5rem;\r\n+          }\r\n+\r\n+          /* Form States */\r\n+          .form-group.has-error .form-input,\r\n+          .form-group.has-error .form-select {\r\n+              border-color: var(--color-error);\r\n+          }\r\n+\r\n+          .form-group.has-error .form-label {\r\n+              color: var(--color-error);\r\n+          }\r\n+\r\n+          .form-group.is-focused .form-label {\r\n+              color: var(--color-primary);\r\n+          }\r\n+\r\n+          .error-message {\r\n+              font-size: 0.75rem;\r\n+              color: var(--color-error);\r\n+              margin-top: 0.25rem;\r\n+              opacity: 0;\r\n+              transform: translateY(-10px);\r\n+              animation: slideDown 0.3s ease forwards;\r\n+          }\r\n+\r\n+          /* Submit Button */\r\n+          .submit-button {\r\n+              width: 100%;\r\n+              padding: 1rem;\r\n+              background-color: var(--color-primary);\r\n+              color: white;\r\n+              border: none;\r\n+              border-radius: 9999px;\r\n+              font-size: 1.125rem;\r\n+              font-weight: 500;\r\n+              cursor: pointer;\r\n+              transition: var(--transition);\r\n+              display: flex;\r\n+              align-items: center;\r\n+              justify-content: center;\r\n+              gap: 0.5rem;\r\n+          }\r\n+\r\n+          .submit-button:not(:disabled):hover {\r\n+              background-color: var(--color-primary-dark);\r\n+              transform: translateY(-2px);\r\n+          }\r\n+\r\n+          .submit-button:disabled {\r\n+              opacity: 0.7;\r\n+              cursor: not-allowed;\r\n+          }\r\n+\r\n+          /* Loading Spinner */\r\n+          .loading-spinner {\r\n+              display: inline-block;\r\n+              width: 24px;\r\n+              height: 24px;\r\n+          }\r\n+\r\n+          .spinner-svg {\r\n+              animation: rotate 1s linear infinite;\r\n+          }\r\n+\r\n+          .spinner-svg circle {\r\n+              stroke: currentColor;\r\n+              stroke-dasharray: 80px, 200px;\r\n+              stroke-dashoffset: 0;\r\n+              animation: dash 1.5s ease-in-out infinite;\r\n+          }\r\n+\r\n+          /* Toast Notifications */\r\n+          .toast-container {\r\n+              position: fixed;\r\n+              top: 1rem;\r\n+              right: 1rem;\r\n+              z-index: 1000;\r\n+              display: flex;\r\n+              flex-direction: column;\r\n+              gap: 0.5rem;\r\n+          }\r\n+\r\n+          .toast {\r\n+              padding: 1rem 1.5rem;\r\n+              border-radius: var(--border-radius);\r\n+              background-color: white;\r\n+              color: var(--color-text);\r\n+              box-shadow: var(--shadow-lg);\r\n+              min-width: 200px;\r\n+              max-width: 400px;\r\n+          }\r\n+\r\n+          .toast-success {\r\n+              border-left: 4px solid var(--color-success);\r\n+          }\r\n+\r\n+          .toast-error {\r\n+              border-left: 4px solid var(--color-error);\r\n+          }\r\n+\r\n+          .toast-info {\r\n+              border-left: 4px solid var(--color-primary);\r\n+          }\r\n+\r\n+          /* Animations */\r\n+          @keyframes slideDown {\r\n+              from {\r\n+                  opacity: 0;\r\n+                  transform: translateY(-10px);\r\n+              }\r\n+              to {\r\n+                  opacity: 1;\r\n+                  transform: translateY(0);\r\n+              }\r\n+          }\r\n+\r\n+          @keyframes rotate {\r\n+              100% {\r\n+                  transform: rotate(360deg);\r\n+              }\r\n+          }\r\n+\r\n+          @keyframes dash {\r\n+              0% {\r\n+                  stroke-dasharray: 1, 200;\r\n+                  stroke-dashoffset: 0;\r\n+              }\r\n+              50% {\r\n+                  stroke-dasharray: 89, 200;\r\n+                  stroke-dashoffset: -35px;\r\n+              }\r\n+              100% {\r\n+                  stroke-dasharray: 89, 200;\r\n+                  stroke-dashoffset: -124px;\r\n+              }\r\n+          }\r\n+\r\n+          /* Responsive Design */\r\n+          @media (max-width: 768px) {\r\n+              .content-grid {\r\n+                  grid-template-columns: 1fr;\r\n+              }\r\n+\r\n+              .form-title {\r\n+                  font-size: 1.875rem;\r\n+              }\r\n+\r\n+              .info-section {\r\n+                  margin-top: 2rem;\r\n+              }\r\n+\r\n+              .desktop-contacts {\r\n+                  display: none;\r\n+              }\r\n+\r\n+              .mobile-contacts {\r\n+                  display: flex;\r\n+              }\r\n+\r\n+              .wave-decoration {\r\n+                  height: 80px;\r\n+              }\r\n+          }\r\n+\r\n+          /* Utility Classes */\r\n+          .hidden {\r\n+              display: none;\r\n+          }\r\n+\r\n+          .animate-fade-in {\r\n+              animation: fadeIn 0.5s ease-out;\r\n+          }\r\n+\r\n+          .animate-slide-up {\r\n+              animation: slideUp 0.5s ease-out;\r\n+          }\r\n+\r\n+          @keyframes fadeIn {\r\n+              from { opacity: 0; }\r\n+              to { opacity: 1; }\r\n+          }\r\n+\r\n+          @keyframes slideUp {\r\n+              from { \r\n+                  opacity: 0;\r\n+                  transform: translateY(20px);\r\n+              }\r\n+              to {\r\n+                  opacity: 1;\r\n+                  transform: translateY(0);\r\n+              }\r\n+          }\r\n+      </style>\r\n+  `;\r\n+  }\r\n+}\r\n"
                },
                {
                    "date": 1731000661421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1131 +1,177 @@\n-// ReferenceInputPage.js\r\n-\r\n-import {\r\n-  fetchBillData,\r\n-  getIsLoading,\r\n-  getError,\r\n-} from \"../store/solarSizingState.js\";\r\n-import { gsap } from \"gsap\";\r\n-\r\n-export class ReferenceInputPage {\r\n+class ReferenceInputPage {\r\n   constructor() {\r\n-    // Form data\r\n-    this.state = {\r\n-      provider: \"\",\r\n-      referenceNumber: \"\",\r\n-      phone: \"\",\r\n-      isLoading: false,\r\n-      error: null,\r\n-      validationErrors: {\r\n-        provider: \"\",\r\n-        referenceNumber: \"\",\r\n-        phone: \"\",\r\n-      },\r\n-    };\r\n-\r\n-    // Constants for validation\r\n-    this.VALIDATION_RULES = {\r\n-      provider: {\r\n-        required: true,\r\n-        minLength: 2,\r\n-        message: \"Please select a valid electricity provider\",\r\n-      },\r\n-      referenceNumber: {\r\n-        required: true,\r\n-        pattern: /^[0-9]{10,14}$/,\r\n-        message: \"Please enter a valid reference number (10-14 digits)\",\r\n-      },\r\n-      phone: {\r\n-        required: true,\r\n-        pattern: /^\\+?[0-9]{10,14}$/,\r\n-        message: \"Please enter a valid phone number\",\r\n-      },\r\n-    };\r\n-\r\n-    // Available electricity providers\r\n-    this.PROVIDERS = [\r\n-      \"MEPCO\",\r\n-      \"LESCO\",\r\n-      \"IESCO\",\r\n-      \"GEPCO\",\r\n-      \"FESCO\",\r\n-      \"PESCO\",\r\n-      \"QESCO\",\r\n-      \"SEPCO\",\r\n-      \"K-Electric\",\r\n-    ];\r\n-\r\n-    // Bind methods\r\n-    this.handleInput = this.handleInput.bind(this);\r\n-    this.handleSubmit = this.handleSubmit.bind(this);\r\n-    this.validateField = this.validateField.bind(this);\r\n-    this.showToast = this.showToast.bind(this);\r\n+      this.state = {\r\n+          provider: '',\r\n+          referenceNumber: '',\r\n+          whatsapp: '',\r\n+          isLoading: false\r\n+      };\r\n   }\r\n \r\n-  /**\r\n-   * Initialize the page\r\n-   */\r\n-  async init() {\r\n-    await this.render();\r\n-    this.attachEventListeners();\r\n-    this.initializeAnimations();\r\n-  }\r\n-\r\n-  /**\r\n-   * Shows a toast message\r\n-   * @param {string} message - Message to display\r\n-   * @param {string} type - Type of toast (success, error, info)\r\n-   */\r\n-  showToast(message, type = \"info\") {\r\n-    const toast = document.createElement(\"div\");\r\n-    toast.className = `toast toast-${type}`;\r\n-    toast.textContent = message;\r\n-\r\n-    const container =\r\n-      document.querySelector(\".toast-container\") || this.createToastContainer();\r\n-    container.appendChild(toast);\r\n-\r\n-    // Animate toast\r\n-    gsap.fromTo(\r\n-      toast,\r\n-      { opacity: 0, y: 20 },\r\n-      { opacity: 1, y: 0, duration: 0.3 }\r\n-    );\r\n-\r\n-    // Remove toast after delay\r\n-    setTimeout(() => {\r\n-      gsap.to(toast, {\r\n-        opacity: 0,\r\n-        y: -20,\r\n-        duration: 0.3,\r\n-        onComplete: () => toast.remove(),\r\n-      });\r\n-    }, 3000);\r\n-  }\r\n-\r\n-  /**\r\n-   * Creates a container for toast messages\r\n-   * @returns {HTMLElement} Toast container element\r\n-   */\r\n-  createToastContainer() {\r\n-    const container = document.createElement(\"div\");\r\n-    container.className = \"toast-container\";\r\n-    document.body.appendChild(container);\r\n-    return container;\r\n-  }\r\n-\r\n-  /**\r\n-   * Updates the loading state of the form\r\n-   * @param {boolean} isLoading - Whether the form is loading\r\n-   */\r\n-  setLoading(isLoading) {\r\n-    this.state.isLoading = isLoading;\r\n-    const submitButton = document.querySelector(\".submit-button\");\r\n-    const loadingSpinner = document.querySelector(\".loading-spinner\");\r\n-\r\n-    if (submitButton && loadingSpinner) {\r\n-      if (isLoading) {\r\n-        submitButton.disabled = true;\r\n-        submitButton.querySelector(\"span\").textContent = \"Processing...\";\r\n-        loadingSpinner.style.display = \"inline-block\";\r\n-      } else {\r\n-        submitButton.disabled = false;\r\n-        submitButton.querySelector(\"span\").textContent = \"Generate\";\r\n-        loadingSpinner.style.display = \"none\";\r\n-      }\r\n-    }\r\n-  }\r\n-\r\n-  /**\r\n-   * Creates a loading spinner element\r\n-   * @returns {HTMLElement} Spinner element\r\n-   */\r\n-  createLoadingSpinner() {\r\n-    const spinner = document.createElement(\"div\");\r\n-    spinner.className = \"loading-spinner\";\r\n-    spinner.innerHTML = `\r\n-            <svg viewBox=\"0 0 50 50\" class=\"spinner-svg\">\r\n-                <circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke-width=\"5\"></circle>\r\n-            </svg>\r\n-        `;\r\n-    return spinner;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the page content\r\n-   */\r\n-  async render() {\r\n-    const app = document.getElementById(\"app\");\r\n-    app.innerHTML = `\r\n-      <div class=\"sap_form\">\r\n-          ${this.renderHeader()}\r\n-          ${this.renderMainContent()}\r\n-          ${this.renderWaveDecoration()}\r\n-      </div>\r\n-      ${this.renderStyles()}\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the header section with logo\r\n-   */\r\n-  renderHeader() {\r\n-    return `\r\n-      <header class=\"header\">\r\n-          <div class=\"container\">\r\n-              <div class=\"logo-section\">\r\n-                  ${this.renderLogo()}\r\n-                  <div class=\"logo-text\">\r\n-                      <h1>ENERGY COVE</h1>\r\n-                      <p>Energy for Life</p>\r\n+  render() {\r\n+      const app = document.getElementById(\"app\");\r\n+      app.innerHTML = `\r\n+          <div class=\"relative w-full h-screen bg-white overflow-hidden\">\r\n+              <!-- Logo Section -->\r\n+              <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n+                  <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n+                      <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n+                          class=\"fill-emerald-500\"/>\r\n+                  </svg>\r\n+                  <div>\r\n+                      <h1 class=\"text-2xl font-bold text-gray-800\">ENERGY COVE</h1>\r\n+                      <p class=\"text-sm italic text-gray-600\">Energy for Life</p>\r\n                   </div>\r\n               </div>\r\n-              ${this.renderHeaderContacts()}\r\n-          </div>\r\n-      </header>\r\n-  `;\r\n-  }\r\n \r\n-  /**\r\n-   * Renders the logo SVG\r\n-   */\r\n-  renderLogo() {\r\n-    return `\r\n-      <svg class=\"logo-icon\" viewBox=\"0 0 60 50\" width=\"60\" height=\"50\">\r\n-          <path \r\n-              d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n-              fill=\"#00a651\"\r\n-          />\r\n-      </svg>\r\n-  `;\r\n-  }\r\n+              <!-- Main Content Grid -->\r\n+              <div class=\"flex h-full\">\r\n+                  <!-- Left Section (2/3) -->\r\n+                  <div class=\"w-2/3 p-8 flex items-center justify-center\">\r\n+                      <div class=\"max-w-md w-full\">\r\n+                          <!-- Form Section -->\r\n+                          <h2 class=\"text-4xl font-bold text-emerald-500 mb-8\">Get your quote</h2>\r\n+                          <form id=\"quote-form\" class=\"space-y-6\">\r\n+                              <!-- Provider Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n+                                      Choose your electricity Provider\r\n+                                  </label>\r\n+                                  <input type=\"text\" \r\n+                                      id=\"provider\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      placeholder=\"e.g., MEPCO\">\r\n+                              </div>\r\n \r\n-  /**\r\n-   * Renders the header contact information\r\n-   */\r\n-  renderHeaderContacts() {\r\n-    return `\r\n-      <div class=\"header-contacts\">\r\n-          <!-- Mobile Contacts -->\r\n-          <div class=\"mobile-contacts md:hidden\">\r\n-              <a href=\"tel:+923001234567\" class=\"contact-icon\" aria-label=\"Call us\">\r\n-                  ${this.renderPhoneIcon()}\r\n-              </a>\r\n-              <a href=\"mailto:info@energycove.pk\" class=\"contact-icon\" aria-label=\"Email us\">\r\n-                  ${this.renderEmailIcon()}\r\n-              </a>\r\n-              <a href=\"https://wa.me/923001234567\" class=\"contact-icon\" aria-label=\"WhatsApp\">\r\n-                  ${this.renderWhatsAppIcon()}\r\n-              </a>\r\n-          </div>\r\n-          \r\n-          <!-- Desktop Contacts -->\r\n-          <div class=\"desktop-contacts hidden md:block\">\r\n-              <div class=\"contact-label\">Contact us</div>\r\n-              <div class=\"contact-info\">\r\n-                  <a href=\"https://wa.me/923001234567\">WhatsApp</a>\r\n-                  <a href=\"mailto:info@energycove.pk\">info@energycove.pk</a>\r\n-              </div>\r\n-          </div>\r\n-      </div>\r\n-  `;\r\n-  }\r\n+                              <!-- Reference Number Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n+                                      Enter your bill reference number\r\n+                                  </label>\r\n+                                  <input type=\"text\" \r\n+                                      id=\"referenceNumber\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      placeholder=\"Enter reference number\">\r\n+                              </div>\r\n \r\n-  /**\r\n-   * Renders the main content section\r\n-   */\r\n-  renderMainContent() {\r\n-    return `\r\n-      <main class=\"main-content\">\r\n-          <div class=\"container\">\r\n-              <div class=\"content-grid\">\r\n-                  <!-- Left Section: Form -->\r\n-                  <div class=\"form-section\">\r\n-                      <h2 class=\"form-title animate-slide-up\">\r\n-                          Get your solar quote\r\n-                      </h2>\r\n-                      ${this.renderForm()}\r\n+                              <!-- WhatsApp Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n+                                      Enter your WhatsApp phone Number\r\n+                                  </label>\r\n+                                  <input type=\"tel\" \r\n+                                      id=\"whatsapp\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      placeholder=\"+92 XXX XXXXXXX\">\r\n+                              </div>\r\n+\r\n+                              <!-- Submit Button -->\r\n+                              <button type=\"submit\" \r\n+                                  class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2\">\r\n+                                  <span>Generate</span>\r\n+                                  ${this.state.isLoading ? this.renderSpinner() : ''}\r\n+                              </button>\r\n+                          </form>\r\n+                      </div>\r\n                   </div>\r\n \r\n-                  <!-- Right Section: Info -->\r\n-                  <div class=\"info-section\">\r\n-                      <div class=\"info-content animate-fade-in\">\r\n-                          <h3>\r\n+                  <!-- Right Section (1/3) -->\r\n+                  <div class=\"w-1/3 bg-emerald-500 p-8 flex flex-col relative\">\r\n+                      <div class=\"text-white mt-16 space-y-2\">\r\n+                          <p class=\"text-2xl leading-relaxed\">\r\n                               Our AI tool quickly provides\r\n-                              the ideal system size and\r\n-                              savings estimateno\r\n-                              in-person consultation\r\n-                              needed. Get the fastest\r\n-                              solar quote in Pakistan!\r\n-                          </h3>\r\n-                          <div class=\"powered-by\">POWERED BY AI</div>\r\n+                              <br />the ideal system size and\r\n+                              <br />savings estimateno\r\n+                              <br />in-person consultation\r\n+                              <br />needed. Get the fastest\r\n+                              <br />solar quote in Pakistan!\r\n+                          </p>\r\n                       </div>\r\n+                      <div class=\"absolute bottom-24 text-white\">\r\n+                          <p class=\"text-2xl font-bold\">POWERED BY AI</p>\r\n+                      </div>\r\n                   </div>\r\n               </div>\r\n+\r\n+              <!-- Decorative Waves -->\r\n+              <div class=\"absolute bottom-0 w-full\">\r\n+                  <svg class=\"w-full h-24\" viewBox=\"0 0 1200 100\" preserveAspectRatio=\"none\">\r\n+                      <path d=\"M0,20 C200,0 400,40 600,20 S800,0 1200,20 L1200,100 L0,100 Z\"\r\n+                          class=\"fill-emerald-500 opacity-30\"/>\r\n+                      <path d=\"M0,40 C200,20 400,60 600,40 S800,20 1200,40 L1200,100 L0,100 Z\"\r\n+                          class=\"fill-yellow-400 opacity-50\"/>\r\n+                  </svg>\r\n+              </div>\r\n           </div>\r\n-      </main>\r\n-  `;\r\n-  }\r\n+      `;\r\n \r\n-  /**\r\n-   * Renders the form element\r\n-   */\r\n-  renderForm() {\r\n-    return `\r\n-      <form id=\"quote-form\" class=\"quote-form animate-fade-in\" novalidate>\r\n-          ${this.renderProviderField()}\r\n-          ${this.renderReferenceNumberField()}\r\n-          ${this.renderPhoneField()}\r\n-          ${this.renderSubmitButton()}\r\n-      </form>\r\n-  `;\r\n+      this.attachEventListeners();\r\n   }\r\n \r\n-  /**\r\n-   * Renders the provider selection field\r\n-   */\r\n-  renderProviderField() {\r\n-    const { provider } = this.state;\r\n-    const error = this.state.validationErrors.provider;\r\n-\r\n-    return `\r\n-      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n-          <label for=\"provider\" class=\"form-label\">\r\n-              Choose your electricity Provider\r\n-          </label>\r\n-          <select \r\n-              id=\"provider\" \r\n-              name=\"provider\"\r\n-              class=\"form-select\"\r\n-              required\r\n-              value=\"${provider}\"\r\n-          >\r\n-              <option value=\"\">Select Provider</option>\r\n-              ${this.PROVIDERS.map(\r\n-                (p) => `\r\n-                  <option value=\"${p}\" ${provider === p ? \"selected\" : \"\"}>\r\n-                      ${p}\r\n-                  </option>\r\n-              `\r\n-              ).join(\"\")}\r\n-          </select>\r\n-          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n-      </div>\r\n-  `;\r\n+  renderSpinner() {\r\n+      return `\r\n+          <svg class=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n+              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n+              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n+          </svg>\r\n+      `;\r\n   }\r\n \r\n-  /**\r\n-   * Renders the reference number input field\r\n-   */\r\n-  renderReferenceNumberField() {\r\n-    const { referenceNumber } = this.state;\r\n-    const error = this.state.validationErrors.referenceNumber;\r\n-\r\n-    return `\r\n-      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n-          <label for=\"referenceNumber\" class=\"form-label\">\r\n-              Enter your bill reference number\r\n-          </label>\r\n-          <input \r\n-              type=\"text\" \r\n-              id=\"referenceNumber\"\r\n-              name=\"referenceNumber\"\r\n-              class=\"form-input\"\r\n-              required\r\n-              pattern=\"[0-9]{10,14}\"\r\n-              value=\"${referenceNumber}\"\r\n-              placeholder=\"e.g., 1234567890\"\r\n-          />\r\n-          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the phone number input field\r\n-   */\r\n-  renderPhoneField() {\r\n-    const { phone } = this.state;\r\n-    const error = this.state.validationErrors.phone;\r\n-\r\n-    return `\r\n-      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n-          <label for=\"phone\" class=\"form-label\">\r\n-              Enter your WhatsApp phone number\r\n-          </label>\r\n-          <input \r\n-              type=\"tel\" \r\n-              id=\"phone\"\r\n-              name=\"phone\"\r\n-              class=\"form-input\"\r\n-              required\r\n-              pattern=\"[+]?[0-9]{10,14}\"\r\n-              value=\"${phone}\"\r\n-              placeholder=\"+92 300 1234567\"\r\n-          />\r\n-          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the submit button\r\n-   */\r\n-  renderSubmitButton() {\r\n-    return `\r\n-      <div class=\"form-group\">\r\n-          <button type=\"submit\" class=\"submit-button\" ${\r\n-            this.state.isLoading ? \"disabled\" : \"\"\r\n-          }>\r\n-              <span>${\r\n-                this.state.isLoading ? \"Processing...\" : \"Generate\"\r\n-              }</span>\r\n-              ${\r\n-                this.state.isLoading\r\n-                  ? this.createLoadingSpinner().outerHTML\r\n-                  : \"\"\r\n-              }\r\n-          </button>\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the wave decoration at the bottom\r\n-   */\r\n-  renderWaveDecoration() {\r\n-    return `\r\n-      <div class=\"wave-decoration\">\r\n-          <div class=\"wave wave-1\"></div>\r\n-          <div class=\"wave wave-2\"></div>\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the SVG icons\r\n-   */\r\n-  renderPhoneIcon() {\r\n-    return `\r\n-      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-          <path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"/>\r\n-      </svg>\r\n-  `;\r\n-  }\r\n-\r\n-  renderEmailIcon() {\r\n-    return `\r\n-      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-          <path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"/>\r\n-          <polyline points=\"22,6 12,13 2,6\"/>\r\n-      </svg>\r\n-  `;\r\n-  }\r\n-\r\n-  renderWhatsAppIcon() {\r\n-    return `\r\n-      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-          <path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"/>\r\n-      </svg>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Attaches event listeners to form elements\r\n-   */\r\n   attachEventListeners() {\r\n-    const form = document.getElementById(\"quote-form\");\r\n-    const inputs = form.querySelectorAll(\"input, select\");\r\n+      const form = document.getElementById('quote-form');\r\n+      const inputs = form.querySelectorAll('input');\r\n \r\n-    // Form submission\r\n-    form.addEventListener(\"submit\", this.handleSubmit);\r\n-\r\n-    // Input events\r\n-    inputs.forEach((input) => {\r\n-      input.addEventListener(\"input\", this.handleInput);\r\n-      input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n-      input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n-    });\r\n-\r\n-    // Add resize listener for responsive adjustments\r\n-    window.addEventListener(\"resize\", this.handleResize.bind(this));\r\n+      form.addEventListener('submit', this.handleSubmit.bind(this));\r\n+      inputs.forEach(input => {\r\n+          input.addEventListener('input', this.handleInput.bind(this));\r\n+      });\r\n   }\r\n \r\n-  /**\r\n-   * Handles form input changes\r\n-   * @param {Event} event - Input event\r\n-   */\r\n   handleInput(event) {\r\n-    const { name, value } = event.target;\r\n-    this.state[name] = value;\r\n-\r\n-    // Clear validation error when user starts typing\r\n-    this.state.validationErrors[name] = \"\";\r\n-\r\n-    // Remove error styling\r\n-    event.target.closest(\".form-group\").classList.remove(\"has-error\");\r\n+      const { id, value } = event.target;\r\n+      this.state[id] = value;\r\n   }\r\n \r\n-  /**\r\n-   * Handles input blur events\r\n-   * @param {Event} event - Blur event\r\n-   */\r\n-  handleBlur(event) {\r\n-    const { name, value } = event.target;\r\n+  async handleSubmit(event) {\r\n+      event.preventDefault();\r\n+      \r\n+      if (this.state.isLoading) return;\r\n \r\n-    // Validate field on blur\r\n-    const error = this.validateField(name, value);\r\n-    if (error) {\r\n-      this.state.validationErrors[name] = error;\r\n-      event.target.closest(\".form-group\").classList.add(\"has-error\");\r\n-    }\r\n-  }\r\n+      if (!this.validateForm()) {\r\n+          alert('Please fill in all fields');\r\n+          return;\r\n+      }\r\n \r\n-  /**\r\n-   * Handles input focus events\r\n-   * @param {Event} event - Focus event\r\n-   */\r\n-  handleFocus(event) {\r\n-    const formGroup = event.target.closest(\".form-group\");\r\n-    formGroup.classList.add(\"is-focused\");\r\n+      try {\r\n+          this.state.isLoading = true;\r\n+          this.updateSubmitButton(true);\r\n \r\n-    // Add floating label animation\r\n-    const label = formGroup.querySelector(\".form-label\");\r\n-    if (label) {\r\n-      gsap.to(label, {\r\n-        y: -20,\r\n-        scale: 0.85,\r\n-        duration: 0.3,\r\n-        ease: \"power2.out\",\r\n-      });\r\n-    }\r\n+          await fetchBillData(this.state.referenceNumber);\r\n+          window.router.push('/quote');\r\n+      } catch (error) {\r\n+          console.error('Error:', error);\r\n+          alert('Failed to generate quote. Please try again.');\r\n+      } finally {\r\n+          this.state.isLoading = false;\r\n+          this.updateSubmitButton(false);\r\n+      }\r\n   }\r\n \r\n-  /**\r\n-   * Validates a single form field\r\n-   * @param {string} fieldName - Name of the field to validate\r\n-   * @param {string} value - Value to validate\r\n-   * @returns {string|null} Error message or null if valid\r\n-   */\r\n-  validateField(fieldName, value) {\r\n-    const rules = this.VALIDATION_RULES[fieldName];\r\n-    if (!rules) return null;\r\n-\r\n-    if (rules.required && !value) {\r\n-      return `${\r\n-        fieldName.charAt(0).toUpperCase() + fieldName.slice(1)\r\n-      } is required`;\r\n-    }\r\n-\r\n-    if (rules.pattern && !rules.pattern.test(value)) {\r\n-      return rules.message;\r\n-    }\r\n-\r\n-    if (rules.minLength && value.length < rules.minLength) {\r\n-      return `${\r\n-        fieldName.charAt(0).toUpperCase() + fieldName.slice(1)\r\n-      } must be at least ${rules.minLength} characters`;\r\n-    }\r\n-\r\n-    return null;\r\n+  validateForm() {\r\n+      return this.state.provider && \r\n+             this.state.referenceNumber && \r\n+             this.state.whatsapp;\r\n   }\r\n \r\n-  /**\r\n-   * Validates the entire form\r\n-   * @returns {boolean} Whether the form is valid\r\n-   */\r\n-  validateForm() {\r\n-    let isValid = true;\r\n-    const formData = {\r\n-      provider: this.state.provider,\r\n-      referenceNumber: this.state.referenceNumber,\r\n-      phone: this.state.phone,\r\n-    };\r\n-\r\n-    // Validate each field\r\n-    Object.keys(formData).forEach((fieldName) => {\r\n-      const error = this.validateField(fieldName, formData[fieldName]);\r\n-      if (error) {\r\n-        this.state.validationErrors[fieldName] = error;\r\n-        isValid = false;\r\n-\r\n-        // Add error styling\r\n-        const formGroup = document\r\n-          .querySelector(`[name=\"${fieldName}\"]`)\r\n-          .closest(\".form-group\");\r\n-        formGroup.classList.add(\"has-error\");\r\n+  updateSubmitButton(isLoading) {\r\n+      const button = document.querySelector('button[type=\"submit\"]');\r\n+      if (button) {\r\n+          button.innerHTML = isLoading \r\n+              ? `<span>Processing...</span>${this.renderSpinner()}`\r\n+              : '<span>Generate</span>';\r\n+          button.disabled = isLoading;\r\n       }\r\n-    });\r\n-\r\n-    return isValid;\r\n   }\r\n+}\r\n \r\n-  /**\r\n-   * Handles form submission\r\n-   * @param {Event} event - Submit event\r\n-   */\r\n-  async handleSubmit(event) {\r\n-    event.preventDefault();\r\n-\r\n-    if (this.state.isLoading) return;\r\n-\r\n-    if (!this.validateForm()) {\r\n-      this.showToast(\"Please fix the errors in the form\", \"error\");\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      this.setLoading(true);\r\n-      this.showToast(\"Generating your quote...\", \"info\");\r\n-\r\n-      // Submit the form data\r\n-      await fetchBillData(this.state.referenceNumber);\r\n-\r\n-      // Show success message\r\n-      this.showToast(\"Quote generated successfully!\", \"success\");\r\n-\r\n-      // Navigate to quote page\r\n-      window.router.push(\"/quote\");\r\n-    } catch (error) {\r\n-      console.error(\"Error submitting form:\", error);\r\n-      this.showToast(\"Failed to generate quote. Please try again.\", \"error\");\r\n-    } finally {\r\n-      this.setLoading(false);\r\n-    }\r\n-  }\r\n-\r\n-  /**\r\n-   * Handles window resize events\r\n-   */\r\n-  handleResize() {\r\n-    // Update layout classes based on window size\r\n-    const container = document.querySelector(\".container\");\r\n-    if (window.innerWidth < 768) {\r\n-      container.classList.remove(\"desktop-layout\");\r\n-      container.classList.add(\"mobile-layout\");\r\n-    } else {\r\n-      container.classList.remove(\"mobile-layout\");\r\n-      container.classList.add(\"desktop-layout\");\r\n-    }\r\n-  }\r\n-\r\n-  /**\r\n-   * Initializes page animations\r\n-   */\r\n-  initializeAnimations() {\r\n-    // Animate form elements\r\n-    gsap.from(\".form-title\", {\r\n-      y: 30,\r\n-      opacity: 0,\r\n-      duration: 0.8,\r\n-      ease: \"power3.out\",\r\n-    });\r\n-\r\n-    gsap.from(\".form-group\", {\r\n-      y: 20,\r\n-      opacity: 0,\r\n-      duration: 0.5,\r\n-      stagger: 0.1,\r\n-      ease: \"power2.out\",\r\n-    });\r\n-\r\n-    // Animate info section\r\n-    gsap.from(\".info-section\", {\r\n-      x: 50,\r\n-      opacity: 0,\r\n-      duration: 0.8,\r\n-      ease: \"power3.out\",\r\n-    });\r\n-\r\n-    // Animate wave decoration\r\n-    gsap.from(\".wave\", {\r\n-      scaleY: 0,\r\n-      transformOrigin: \"bottom\",\r\n-      duration: 1,\r\n-      ease: \"power2.out\",\r\n-      stagger: 0.2,\r\n-    });\r\n-  }\r\n-\r\n-  /**\r\n-   * Cleans up event listeners and animations\r\n-   */\r\n-  cleanup() {\r\n-    // Remove event listeners\r\n-    window.removeEventListener(\"resize\", this.handleResize);\r\n-\r\n-    // Kill all GSAP animations\r\n-    gsap.killTweensOf(\".form-title\");\r\n-    gsap.killTweensOf(\".form-group\");\r\n-    gsap.killTweensOf(\".info-section\");\r\n-    gsap.killTweensOf(\".wave\");\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the core styles for the page\r\n-   */\r\n-  renderStyles() {\r\n-    return `\r\n-      <style>\r\n-          /* CSS Reset and Variables */\r\n-          :root {\r\n-              --color-primary: #00a651;\r\n-              --color-primary-dark: #008c44;\r\n-              --color-primary-light: rgba(0, 166, 81, 0.1);\r\n-              --color-yellow: #ffde17;\r\n-              --color-error: #ef4444;\r\n-              --color-success: #10b981;\r\n-              --color-text: #2c3e50;\r\n-              --color-text-light: #7f8c8d;\r\n-              --color-background: #ffffff;\r\n-              --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\r\n-              --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n-              --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\r\n-              --border-radius: 0.5rem;\r\n-              --transition: all 0.3s ease;\r\n-          }\r\n-\r\n-          /* Base Styles */\r\n-          * {\r\n-              margin: 0;\r\n-              padding: 0;\r\n-              box-sizing: border-box;\r\n-          }\r\n-\r\n-          body {\r\n-              font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\r\n-              color: var(--color-text);\r\n-              line-height: 1.5;\r\n-              -webkit-font-smoothing: antialiased;\r\n-          }\r\n-\r\n-          /* Layout */\r\n-          .sap_form {\r\n-              min-height: 100vh;\r\n-              background-color: var(--color-background);\r\n-              position: relative;\r\n-              overflow: hidden;\r\n-          }\r\n-\r\n-          .container {\r\n-              max-width: 1200px;\r\n-              margin: 0 auto;\r\n-              padding: 0 1rem;\r\n-          }\r\n-\r\n-          .content-grid {\r\n-              display: grid;\r\n-              grid-template-columns: 2fr 1fr;\r\n-              gap: 2rem;\r\n-              position: relative;\r\n-              padding: 2rem 0;\r\n-          }\r\n-\r\n-          /* Header Styles */\r\n-          .header {\r\n-              padding: 1.5rem 0;\r\n-              border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n-          }\r\n-\r\n-          .logo-section {\r\n-              display: flex;\r\n-              align-items: center;\r\n-              gap: 1rem;\r\n-          }\r\n-\r\n-          .logo-icon {\r\n-              width: 60px;\r\n-              height: 50px;\r\n-              flex-shrink: 0;\r\n-          }\r\n-\r\n-          .logo-text h1 {\r\n-              font-size: 1.5rem;\r\n-              font-weight: bold;\r\n-              color: var(--color-text);\r\n-              line-height: 1.2;\r\n-          }\r\n-\r\n-          .logo-text p {\r\n-              font-size: 0.875rem;\r\n-              color: var(--color-text-light);\r\n-              font-style: italic;\r\n-          }\r\n-\r\n-          /* Contact Section Styles */\r\n-          .header-contacts {\r\n-              margin-top: 1rem;\r\n-          }\r\n-\r\n-          .contact-label {\r\n-              font-size: 1.125rem;\r\n-              color: var(--color-text-light);\r\n-              margin-bottom: 0.5rem;\r\n-          }\r\n-\r\n-          .contact-info {\r\n-              display: flex;\r\n-              justify-content: space-between;\r\n-              gap: 2rem;\r\n-          }\r\n-\r\n-          .contact-info a {\r\n-              color: var(--color-text-light);\r\n-              text-decoration: none;\r\n-              transition: var(--transition);\r\n-          }\r\n-\r\n-          .contact-info a:hover {\r\n-              color: var(--color-primary);\r\n-          }\r\n-\r\n-          .mobile-contacts {\r\n-              display: flex;\r\n-              gap: 1rem;\r\n-              justify-content: flex-end;\r\n-          }\r\n-\r\n-          .contact-icon {\r\n-              width: 40px;\r\n-              height: 40px;\r\n-              display: flex;\r\n-              align-items: center;\r\n-              justify-content: center;\r\n-              background-color: var(--color-primary-light);\r\n-              border-radius: 50%;\r\n-              color: var(--color-primary);\r\n-              transition: var(--transition);\r\n-          }\r\n-\r\n-          .contact-icon:hover {\r\n-              background-color: var(--color-primary);\r\n-              color: white;\r\n-              transform: translateY(-2px);\r\n-          }\r\n-\r\n-          .contact-icon svg {\r\n-              width: 20px;\r\n-              height: 20px;\r\n-          }\r\n-\r\n-          /* Form Section Styles */\r\n-          .form-section {\r\n-              padding: 2rem;\r\n-              background-color: var(--color-background);\r\n-              border-radius: var(--border-radius);\r\n-              box-shadow: var(--shadow-md);\r\n-          }\r\n-\r\n-          .form-title {\r\n-              font-size: 2.25rem;\r\n-              font-weight: bold;\r\n-              color: var(--color-primary);\r\n-              margin-bottom: 2rem;\r\n-              line-height: 1.2;\r\n-          }\r\n-\r\n-          .quote-form {\r\n-              display: flex;\r\n-              flex-direction: column;\r\n-              gap: 1.5rem;\r\n-          }\r\n-\r\n-          /* Right Info Section */\r\n-          .info-section {\r\n-              background-color: var(--color-primary);\r\n-              color: white;\r\n-              padding: 2rem;\r\n-              border-radius: var(--border-radius);\r\n-              position: relative;\r\n-          }\r\n-\r\n-          .info-content h3 {\r\n-              font-size: 1.5rem;\r\n-              line-height: 1.4;\r\n-              font-weight: normal;\r\n-              margin-bottom: 2rem;\r\n-          }\r\n-\r\n-          .powered-by {\r\n-              position: absolute;\r\n-              bottom: 2rem;\r\n-              font-size: 1.5rem;\r\n-              font-weight: bold;\r\n-          }\r\n-\r\n-          /* Wave Decoration */\r\n-          .wave-decoration {\r\n-              position: absolute;\r\n-              bottom: 0;\r\n-              left: 0;\r\n-              right: 0;\r\n-              height: 120px;\r\n-              overflow: hidden;\r\n-          }\r\n-\r\n-          .wave {\r\n-              position: absolute;\r\n-              bottom: 0;\r\n-              left: 0;\r\n-              right: 0;\r\n-              height: 100%;\r\n-          }\r\n-\r\n-          .wave-1 {\r\n-              background: var(--color-primary);\r\n-              opacity: 0.3;\r\n-              clip-path: path('M0,64 C200,44 400,84 600,64 S800,44 1200,64 L1200,100 L0,100 Z');\r\n-          }\r\n-\r\n-          .wave-2 {\r\n-              background: var(--color-yellow);\r\n-              opacity: 0.5;\r\n-              clip-path: path('M0,74 C200,54 400,94 600,74 S800,54 1200,74 L1200,100 L0,100 Z');\r\n-          }\r\n-      </style>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the form-specific styles and animations\r\n-   */\r\n-  renderFormStyles() {\r\n-    return `\r\n-      <style>\r\n-          /* Form Group Styles */\r\n-          .form-group {\r\n-              position: relative;\r\n-              margin-bottom: 1.5rem;\r\n-          }\r\n-\r\n-          .form-label {\r\n-              display: block;\r\n-              font-size: 0.875rem;\r\n-              color: var(--color-text-light);\r\n-              margin-bottom: 0.5rem;\r\n-              transition: var(--transition);\r\n-              transform-origin: left;\r\n-          }\r\n-\r\n-          .form-input,\r\n-          .form-select {\r\n-              width: 100%;\r\n-              padding: 0.75rem 1rem;\r\n-              font-size: 1rem;\r\n-              border: 1px solid #e2e8f0;\r\n-              border-radius: var(--border-radius);\r\n-              background-color: white;\r\n-              transition: var(--transition);\r\n-              color: var(--color-text);\r\n-          }\r\n-\r\n-          .form-input:focus,\r\n-          .form-select:focus {\r\n-              outline: none;\r\n-              border-color: var(--color-primary);\r\n-              box-shadow: 0 0 0 3px var(--color-primary-light);\r\n-          }\r\n-\r\n-          .form-select {\r\n-              appearance: none;\r\n-              background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236B7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\");\r\n-              background-position: right 0.5rem center;\r\n-              background-repeat: no-repeat;\r\n-              background-size: 1.5em 1.5em;\r\n-              padding-right: 2.5rem;\r\n-          }\r\n-\r\n-          /* Form States */\r\n-          .form-group.has-error .form-input,\r\n-          .form-group.has-error .form-select {\r\n-              border-color: var(--color-error);\r\n-          }\r\n-\r\n-          .form-group.has-error .form-label {\r\n-              color: var(--color-error);\r\n-          }\r\n-\r\n-          .form-group.is-focused .form-label {\r\n-              color: var(--color-primary);\r\n-          }\r\n-\r\n-          .error-message {\r\n-              font-size: 0.75rem;\r\n-              color: var(--color-error);\r\n-              margin-top: 0.25rem;\r\n-              opacity: 0;\r\n-              transform: translateY(-10px);\r\n-              animation: slideDown 0.3s ease forwards;\r\n-          }\r\n-\r\n-          /* Submit Button */\r\n-          .submit-button {\r\n-              width: 100%;\r\n-              padding: 1rem;\r\n-              background-color: var(--color-primary);\r\n-              color: white;\r\n-              border: none;\r\n-              border-radius: 9999px;\r\n-              font-size: 1.125rem;\r\n-              font-weight: 500;\r\n-              cursor: pointer;\r\n-              transition: var(--transition);\r\n-              display: flex;\r\n-              align-items: center;\r\n-              justify-content: center;\r\n-              gap: 0.5rem;\r\n-          }\r\n-\r\n-          .submit-button:not(:disabled):hover {\r\n-              background-color: var(--color-primary-dark);\r\n-              transform: translateY(-2px);\r\n-          }\r\n-\r\n-          .submit-button:disabled {\r\n-              opacity: 0.7;\r\n-              cursor: not-allowed;\r\n-          }\r\n-\r\n-          /* Loading Spinner */\r\n-          .loading-spinner {\r\n-              display: inline-block;\r\n-              width: 24px;\r\n-              height: 24px;\r\n-          }\r\n-\r\n-          .spinner-svg {\r\n-              animation: rotate 1s linear infinite;\r\n-          }\r\n-\r\n-          .spinner-svg circle {\r\n-              stroke: currentColor;\r\n-              stroke-dasharray: 80px, 200px;\r\n-              stroke-dashoffset: 0;\r\n-              animation: dash 1.5s ease-in-out infinite;\r\n-          }\r\n-\r\n-          /* Toast Notifications */\r\n-          .toast-container {\r\n-              position: fixed;\r\n-              top: 1rem;\r\n-              right: 1rem;\r\n-              z-index: 1000;\r\n-              display: flex;\r\n-              flex-direction: column;\r\n-              gap: 0.5rem;\r\n-          }\r\n-\r\n-          .toast {\r\n-              padding: 1rem 1.5rem;\r\n-              border-radius: var(--border-radius);\r\n-              background-color: white;\r\n-              color: var(--color-text);\r\n-              box-shadow: var(--shadow-lg);\r\n-              min-width: 200px;\r\n-              max-width: 400px;\r\n-          }\r\n-\r\n-          .toast-success {\r\n-              border-left: 4px solid var(--color-success);\r\n-          }\r\n-\r\n-          .toast-error {\r\n-              border-left: 4px solid var(--color-error);\r\n-          }\r\n-\r\n-          .toast-info {\r\n-              border-left: 4px solid var(--color-primary);\r\n-          }\r\n-\r\n-          /* Animations */\r\n-          @keyframes slideDown {\r\n-              from {\r\n-                  opacity: 0;\r\n-                  transform: translateY(-10px);\r\n-              }\r\n-              to {\r\n-                  opacity: 1;\r\n-                  transform: translateY(0);\r\n-              }\r\n-          }\r\n-\r\n-          @keyframes rotate {\r\n-              100% {\r\n-                  transform: rotate(360deg);\r\n-              }\r\n-          }\r\n-\r\n-          @keyframes dash {\r\n-              0% {\r\n-                  stroke-dasharray: 1, 200;\r\n-                  stroke-dashoffset: 0;\r\n-              }\r\n-              50% {\r\n-                  stroke-dasharray: 89, 200;\r\n-                  stroke-dashoffset: -35px;\r\n-              }\r\n-              100% {\r\n-                  stroke-dasharray: 89, 200;\r\n-                  stroke-dashoffset: -124px;\r\n-              }\r\n-          }\r\n-\r\n-          /* Responsive Design */\r\n-          @media (max-width: 768px) {\r\n-              .content-grid {\r\n-                  grid-template-columns: 1fr;\r\n-              }\r\n-\r\n-              .form-title {\r\n-                  font-size: 1.875rem;\r\n-              }\r\n-\r\n-              .info-section {\r\n-                  margin-top: 2rem;\r\n-              }\r\n-\r\n-              .desktop-contacts {\r\n-                  display: none;\r\n-              }\r\n-\r\n-              .mobile-contacts {\r\n-                  display: flex;\r\n-              }\r\n-\r\n-              .wave-decoration {\r\n-                  height: 80px;\r\n-              }\r\n-          }\r\n-\r\n-          /* Utility Classes */\r\n-          .hidden {\r\n-              display: none;\r\n-          }\r\n-\r\n-          .animate-fade-in {\r\n-              animation: fadeIn 0.5s ease-out;\r\n-          }\r\n-\r\n-          .animate-slide-up {\r\n-              animation: slideUp 0.5s ease-out;\r\n-          }\r\n-\r\n-          @keyframes fadeIn {\r\n-              from { opacity: 0; }\r\n-              to { opacity: 1; }\r\n-          }\r\n-\r\n-          @keyframes slideUp {\r\n-              from { \r\n-                  opacity: 0;\r\n-                  transform: translateY(20px);\r\n-              }\r\n-              to {\r\n-                  opacity: 1;\r\n-                  transform: translateY(0);\r\n-              }\r\n-          }\r\n-      </style>\r\n-  `;\r\n-  }\r\n-}\r\n+export { ReferenceInputPage };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731004732321,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,45 @@\n \r\n   render() {\r\n       const app = document.getElementById(\"app\");\r\n       app.innerHTML = `\r\n-          <div class=\"relative w-full h-screen bg-white overflow-hidden\">\r\n+          <!-- Background Gradient and Grain -->\r\n+          <div class=\"fixed inset-0 w-full h-full\">\r\n+              <svg class=\"w-full h-full\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 700 700\" preserveAspectRatio=\"none\">\r\n+                  <defs>\r\n+                      <linearGradient gradientTransform=\"rotate(-67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient2\">\r\n+                          <stop stop-color=\"hsla(108, 83%, 49%, 0.85)\" stop-opacity=\"1\" offset=\"-0%\"></stop>\r\n+                          <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n+                      </linearGradient>\r\n+                      <linearGradient gradientTransform=\"rotate(67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient3\">\r\n+                          <stop stop-color=\"hsl(184, 100%, 50%)\" stop-opacity=\"1\"></stop>\r\n+                          <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n+                      </linearGradient>\r\n+                      <filter id=\"gggrain-filter\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\" filterUnits=\"objectBoundingBox\" primitiveUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n+                          <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.7\" numOctaves=\"2\" seed=\"2\" stitchTiles=\"stitch\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" result=\"turbulence\"></feTurbulence>\r\n+                          <feColorMatrix type=\"saturate\" values=\"0\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"turbulence\" result=\"colormatrix\"></feColorMatrix>\r\n+                          <feComponentTransfer x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"colormatrix\" result=\"componentTransfer\">\r\n+                              <feFuncR type=\"linear\" slope=\"3\"></feFuncR>\r\n+                              <feFuncG type=\"linear\" slope=\"3\"></feFuncG>\r\n+                              <feFuncB type=\"linear\" slope=\"3\"></feFuncB>\r\n+                          </feComponentTransfer>\r\n+                          <feColorMatrix x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"componentTransfer\" result=\"colormatrix2\" type=\"matrix\" values=\"1 0 0 0 0\r\n+                                  0 1 0 0 0\r\n+                                  0 0 1 0 0\r\n+                                  0 0 0 24 -16\"></feColorMatrix>\r\n+                      </filter>\r\n+                  </defs>\r\n+                  <g>\r\n+                      <rect width=\"100%\" height=\"100%\" fill=\"hsl(84, 100%, 60%)\"></rect>\r\n+                      <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient3)\"></rect>\r\n+                      <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient2)\"></rect>\r\n+                      <rect width=\"100%\" height=\"100%\" fill=\"transparent\" filter=\"url(#gggrain-filter)\" opacity=\"0.53\" style=\"mix-blend-mode: normal\"></rect>\r\n+                  </g>\r\n+              </svg>\r\n+          </div>\r\n+\r\n+          <!-- Main Content -->\r\n+          <div class=\"relative w-full h-screen overflow-hidden\">\r\n               <!-- Logo Section -->\r\n               <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n                   <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n                       <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n@@ -26,58 +62,59 @@\n \r\n               <!-- Main Content Grid -->\r\n               <div class=\"flex h-full\">\r\n                   <!-- Left Section (2/3) -->\r\n-                  <div class=\"w-2/3 p-8 flex items-center justify-center\">\r\n-                      <div class=\"max-w-md w-full\">\r\n+                  <div class=\"w-2/3 p-8 flex items-center justify-center relative\">\r\n+                      <!-- Glass morphism card -->\r\n+                      <div class=\"max-w-md w-full p-8 rounded-xl backdrop-blur-sm bg-white/30 shadow-xl border border-white/20\">\r\n                           <!-- Form Section -->\r\n-                          <h2 class=\"text-4xl font-bold text-emerald-500 mb-8\">Get your quote</h2>\r\n+                          <h2 class=\"text-4xl font-bold text-emerald-700 mb-8\">Get your quote</h2>\r\n                           <form id=\"quote-form\" class=\"space-y-6\">\r\n                               <!-- Provider Field -->\r\n                               <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-600\">\r\n+                                  <label class=\"block text-sm text-gray-700 font-medium\">\r\n                                       Choose your electricity Provider\r\n                                   </label>\r\n                                   <input type=\"text\" \r\n                                       id=\"provider\"\r\n-                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/50 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n                                       placeholder=\"e.g., MEPCO\">\r\n                               </div>\r\n \r\n                               <!-- Reference Number Field -->\r\n                               <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-600\">\r\n+                                  <label class=\"block text-sm text-gray-700 font-medium\">\r\n                                       Enter your bill reference number\r\n                                   </label>\r\n                                   <input type=\"text\" \r\n                                       id=\"referenceNumber\"\r\n-                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/50 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n                                       placeholder=\"Enter reference number\">\r\n                               </div>\r\n \r\n                               <!-- WhatsApp Field -->\r\n                               <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-600\">\r\n+                                  <label class=\"block text-sm text-gray-700 font-medium\">\r\n                                       Enter your WhatsApp phone Number\r\n                                   </label>\r\n                                   <input type=\"tel\" \r\n                                       id=\"whatsapp\"\r\n-                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/50 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n                                       placeholder=\"+92 XXX XXXXXXX\">\r\n                               </div>\r\n \r\n                               <!-- Submit Button -->\r\n                               <button type=\"submit\" \r\n-                                  class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2\">\r\n+                                  class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 shadow-lg hover:shadow-emerald-500/30 transition-all duration-300 flex items-center justify-center gap-2\">\r\n                                   <span>Generate</span>\r\n                                   ${this.state.isLoading ? this.renderSpinner() : ''}\r\n                               </button>\r\n                           </form>\r\n                       </div>\r\n                   </div>\r\n \r\n                   <!-- Right Section (1/3) -->\r\n-                  <div class=\"w-1/3 bg-emerald-500 p-8 flex flex-col relative\">\r\n+                  <div class=\"w-1/3 bg-emerald-500/90 backdrop-blur-md p-8 flex flex-col relative shadow-2xl\">\r\n                       <div class=\"text-white mt-16 space-y-2\">\r\n                           <p class=\"text-2xl leading-relaxed\">\r\n                               Our AI tool quickly provides\r\n                               <br />the ideal system size and\r\n@@ -96,11 +133,11 @@\n               <!-- Decorative Waves -->\r\n               <div class=\"absolute bottom-0 w-full\">\r\n                   <svg class=\"w-full h-24\" viewBox=\"0 0 1200 100\" preserveAspectRatio=\"none\">\r\n                       <path d=\"M0,20 C200,0 400,40 600,20 S800,0 1200,20 L1200,100 L0,100 Z\"\r\n-                          class=\"fill-emerald-500 opacity-30\"/>\r\n+                          class=\"fill-emerald-500/30\"/>\r\n                       <path d=\"M0,40 C200,20 400,60 600,40 S800,20 1200,40 L1200,100 L0,100 Z\"\r\n-                          class=\"fill-yellow-400 opacity-50\"/>\r\n+                          class=\"fill-yellow-400/50\"/>\r\n                   </svg>\r\n               </div>\r\n           </div>\r\n       `;\r\n"
                },
                {
                    "date": 1731004914983,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,52 +1,53 @@\n class ReferenceInputPage {\r\n   constructor() {\r\n-      this.state = {\r\n-          provider: '',\r\n-          referenceNumber: '',\r\n-          whatsapp: '',\r\n-          isLoading: false\r\n-      };\r\n+    this.state = {\r\n+      provider: \"\",\r\n+      referenceNumber: \"\",\r\n+      whatsapp: \"\",\r\n+      isLoading: false,\r\n+    };\r\n   }\r\n \r\n   render() {\r\n-      const app = document.getElementById(\"app\");\r\n-      app.innerHTML = `\r\n+    const app = document.getElementById(\"app\");\r\n+    app.innerHTML = `\r\n           <!-- Background Gradient and Grain -->\r\n-          <div class=\"fixed inset-0 w-full h-full\">\r\n-              <svg class=\"w-full h-full\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 700 700\" preserveAspectRatio=\"none\">\r\n-                  <defs>\r\n-                      <linearGradient gradientTransform=\"rotate(-67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient2\">\r\n-                          <stop stop-color=\"hsla(108, 83%, 49%, 0.85)\" stop-opacity=\"1\" offset=\"-0%\"></stop>\r\n-                          <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n-                      </linearGradient>\r\n-                      <linearGradient gradientTransform=\"rotate(67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient3\">\r\n-                          <stop stop-color=\"hsl(184, 100%, 50%)\" stop-opacity=\"1\"></stop>\r\n-                          <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n-                      </linearGradient>\r\n-                      <filter id=\"gggrain-filter\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\" filterUnits=\"objectBoundingBox\" primitiveUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n-                          <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.7\" numOctaves=\"2\" seed=\"2\" stitchTiles=\"stitch\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" result=\"turbulence\"></feTurbulence>\r\n-                          <feColorMatrix type=\"saturate\" values=\"0\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"turbulence\" result=\"colormatrix\"></feColorMatrix>\r\n-                          <feComponentTransfer x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"colormatrix\" result=\"componentTransfer\">\r\n-                              <feFuncR type=\"linear\" slope=\"3\"></feFuncR>\r\n-                              <feFuncG type=\"linear\" slope=\"3\"></feFuncG>\r\n-                              <feFuncB type=\"linear\" slope=\"3\"></feFuncB>\r\n-                          </feComponentTransfer>\r\n-                          <feColorMatrix x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"componentTransfer\" result=\"colormatrix2\" type=\"matrix\" values=\"1 0 0 0 0\r\n-                                  0 1 0 0 0\r\n-                                  0 0 1 0 0\r\n-                                  0 0 0 24 -16\"></feColorMatrix>\r\n-                      </filter>\r\n-                  </defs>\r\n-                  <g>\r\n-                      <rect width=\"100%\" height=\"100%\" fill=\"hsl(84, 100%, 60%)\"></rect>\r\n-                      <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient3)\"></rect>\r\n-                      <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient2)\"></rect>\r\n-                      <rect width=\"100%\" height=\"100%\" fill=\"transparent\" filter=\"url(#gggrain-filter)\" opacity=\"0.53\" style=\"mix-blend-mode: normal\"></rect>\r\n-                  </g>\r\n-              </svg>\r\n-          </div>\r\n+            <div class=\"fixed inset-0 w-full h-full opacity-[0.15]\"> <!-- Reduced overall opacity -->\r\n+                <svg class=\"w-full h-full\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 700 700\" preserveAspectRatio=\"none\">\r\n+                    <defs>\r\n+                        <linearGradient gradientTransform=\"rotate(-67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient2\">\r\n+                            <stop stop-color=\"hsla(108, 83%, 49%, 0.35)\" stop-opacity=\"1\" offset=\"-0%\"></stop>\r\n+                            <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n+                        </linearGradient>\r\n+                        <linearGradient gradientTransform=\"rotate(67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient3\">\r\n+                            <stop stop-color=\"hsl(184, 100%, 50%)\" stop-opacity=\"0.25\"></stop>\r\n+                            <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n+                        </linearGradient>\r\n+                        <filter id=\"gggrain-filter\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\" filterUnits=\"objectBoundingBox\" primitiveUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n+                            <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.55\" numOctaves=\"2\" seed=\"2\" stitchTiles=\"stitch\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" result=\"turbulence\"></feTurbulence>\r\n+                            <feColorMatrix type=\"saturate\" values=\"0\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"turbulence\" result=\"colormatrix\"></feColorMatrix>\r\n+                            <feComponentTransfer x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"colormatrix\" result=\"componentTransfer\">\r\n+                                <feFuncR type=\"linear\" slope=\"2\"></feFuncR>\r\n+                                <feFuncG type=\"linear\" slope=\"2\"></feFuncG>\r\n+                                <feFuncB type=\"linear\" slope=\"2\"></feFuncB>\r\n+                            </feComponentTransfer>\r\n+                            <feColorMatrix x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"componentTransfer\" result=\"colormatrix2\" type=\"matrix\" values=\"1 0 0 0 0\r\n+                                    0 1 0 0 0\r\n+                                    0 0 1 0 0\r\n+                                    0 0 0 18 -12\"></feColorMatrix>\r\n+                        </filter>\r\n+                    </defs>\r\n+                    <g>\r\n+                        <rect width=\"100%\" height=\"100%\" fill=\"hsl(84, 100%, 60%)\" opacity=\"0.15\"></rect>\r\n+                        <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient3)\"></rect>\r\n+                        <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient2)\"></rect>\r\n+                        <rect width=\"100%\" height=\"100%\" fill=\"transparent\" filter=\"url(#gggrain-filter)\" opacity=\"0.25\" style=\"mix-blend-mode: soft-light\"></rect>\r\n+                    </g>\r\n+                </svg>\r\n+            </div>\r\n \r\n+\r\n           <!-- Main Content -->\r\n           <div class=\"relative w-full h-screen overflow-hidden\">\r\n               <!-- Logo Section -->\r\n               <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n@@ -105,9 +106,13 @@\n                               <!-- Submit Button -->\r\n                               <button type=\"submit\" \r\n                                   class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 shadow-lg hover:shadow-emerald-500/30 transition-all duration-300 flex items-center justify-center gap-2\">\r\n                                   <span>Generate</span>\r\n-                                  ${this.state.isLoading ? this.renderSpinner() : ''}\r\n+                                  ${\r\n+                                    this.state.isLoading\r\n+                                      ? this.renderSpinner()\r\n+                                      : \"\"\r\n+                                  }\r\n                               </button>\r\n                           </form>\r\n                       </div>\r\n                   </div>\r\n@@ -141,74 +146,74 @@\n               </div>\r\n           </div>\r\n       `;\r\n \r\n-      this.attachEventListeners();\r\n+    this.attachEventListeners();\r\n   }\r\n \r\n   renderSpinner() {\r\n-      return `\r\n+    return `\r\n           <svg class=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n               <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n               <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n           </svg>\r\n       `;\r\n   }\r\n \r\n   attachEventListeners() {\r\n-      const form = document.getElementById('quote-form');\r\n-      const inputs = form.querySelectorAll('input');\r\n+    const form = document.getElementById(\"quote-form\");\r\n+    const inputs = form.querySelectorAll(\"input\");\r\n \r\n-      form.addEventListener('submit', this.handleSubmit.bind(this));\r\n-      inputs.forEach(input => {\r\n-          input.addEventListener('input', this.handleInput.bind(this));\r\n-      });\r\n+    form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n+    inputs.forEach((input) => {\r\n+      input.addEventListener(\"input\", this.handleInput.bind(this));\r\n+    });\r\n   }\r\n \r\n   handleInput(event) {\r\n-      const { id, value } = event.target;\r\n-      this.state[id] = value;\r\n+    const { id, value } = event.target;\r\n+    this.state[id] = value;\r\n   }\r\n \r\n   async handleSubmit(event) {\r\n-      event.preventDefault();\r\n-      \r\n-      if (this.state.isLoading) return;\r\n+    event.preventDefault();\r\n \r\n-      if (!this.validateForm()) {\r\n-          alert('Please fill in all fields');\r\n-          return;\r\n-      }\r\n+    if (this.state.isLoading) return;\r\n \r\n-      try {\r\n-          this.state.isLoading = true;\r\n-          this.updateSubmitButton(true);\r\n+    if (!this.validateForm()) {\r\n+      alert(\"Please fill in all fields\");\r\n+      return;\r\n+    }\r\n \r\n-          await fetchBillData(this.state.referenceNumber);\r\n-          window.router.push('/quote');\r\n-      } catch (error) {\r\n-          console.error('Error:', error);\r\n-          alert('Failed to generate quote. Please try again.');\r\n-      } finally {\r\n-          this.state.isLoading = false;\r\n-          this.updateSubmitButton(false);\r\n-      }\r\n+    try {\r\n+      this.state.isLoading = true;\r\n+      this.updateSubmitButton(true);\r\n+\r\n\\ No newline at end of file\n+      await fetchBillData(this.state.referenceNumber);\r\n+      window.router.push(\"/quote\");\r\n+    } catch (error) {\r\n+      console.error(\"Error:\", error);\r\n+      alert(\"Failed to generate quote. Please try again.\");\r\n+    } finally {\r\n+      this.state.isLoading = false;\r\n+      this.updateSubmitButton(false);\r\n+    }\r\n   }\r\n \r\n   validateForm() {\r\n-      return this.state.provider && \r\n-             this.state.referenceNumber && \r\n-             this.state.whatsapp;\r\n+    return (\r\n+      this.state.provider && this.state.referenceNumber && this.state.whatsapp\r\n+    );\r\n   }\r\n \r\n   updateSubmitButton(isLoading) {\r\n-      const button = document.querySelector('button[type=\"submit\"]');\r\n-      if (button) {\r\n-          button.innerHTML = isLoading \r\n-              ? `<span>Processing...</span>${this.renderSpinner()}`\r\n-              : '<span>Generate</span>';\r\n-          button.disabled = isLoading;\r\n-      }\r\n+    const button = document.querySelector('button[type=\"submit\"]');\r\n+    if (button) {\r\n+      button.innerHTML = isLoading\r\n+        ? `<span>Processing...</span>${this.renderSpinner()}`\r\n+        : \"<span>Generate</span>\";\r\n+      button.disabled = isLoading;\r\n+    }\r\n   }\r\n }\r\n \r\n-export { ReferenceInputPage };\n+export { ReferenceInputPage };\r\n"
                },
                {
                    "date": 1731005016888,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,44 +10,45 @@\n \r\n   render() {\r\n     const app = document.getElementById(\"app\");\r\n     app.innerHTML = `\r\n-          <!-- Background Gradient and Grain -->\r\n-            <div class=\"fixed inset-0 w-full h-full opacity-[0.15]\"> <!-- Reduced overall opacity -->\r\n+           <!-- Background Gradient and Grain -->\r\n+            <div class=\"fixed inset-0 w-full h-full opacity-[0.45]\"> <!-- Adjusted overall opacity -->\r\n                 <svg class=\"w-full h-full\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 700 700\" preserveAspectRatio=\"none\">\r\n                     <defs>\r\n                         <linearGradient gradientTransform=\"rotate(-67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient2\">\r\n-                            <stop stop-color=\"hsla(108, 83%, 49%, 0.35)\" stop-opacity=\"1\" offset=\"-0%\"></stop>\r\n+                            <stop stop-color=\"hsla(108, 83%, 49%, 0.65)\" stop-opacity=\"1\" offset=\"-0%\"></stop>\r\n                             <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n                         </linearGradient>\r\n                         <linearGradient gradientTransform=\"rotate(67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient3\">\r\n-                            <stop stop-color=\"hsl(184, 100%, 50%)\" stop-opacity=\"0.25\"></stop>\r\n+                            <stop stop-color=\"hsl(184, 100%, 50%)\" stop-opacity=\"0.45\"></stop>\r\n                             <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n                         </linearGradient>\r\n                         <filter id=\"gggrain-filter\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\" filterUnits=\"objectBoundingBox\" primitiveUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n-                            <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.55\" numOctaves=\"2\" seed=\"2\" stitchTiles=\"stitch\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" result=\"turbulence\"></feTurbulence>\r\n+                            <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.65\" numOctaves=\"2\" seed=\"2\" stitchTiles=\"stitch\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" result=\"turbulence\"></feTurbulence>\r\n                             <feColorMatrix type=\"saturate\" values=\"0\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"turbulence\" result=\"colormatrix\"></feColorMatrix>\r\n                             <feComponentTransfer x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"colormatrix\" result=\"componentTransfer\">\r\n-                                <feFuncR type=\"linear\" slope=\"2\"></feFuncR>\r\n-                                <feFuncG type=\"linear\" slope=\"2\"></feFuncG>\r\n-                                <feFuncB type=\"linear\" slope=\"2\"></feFuncB>\r\n+                                <feFuncR type=\"linear\" slope=\"2.5\"></feFuncR>\r\n+                                <feFuncG type=\"linear\" slope=\"2.5\"></feFuncG>\r\n+                                <feFuncB type=\"linear\" slope=\"2.5\"></feFuncB>\r\n                             </feComponentTransfer>\r\n                             <feColorMatrix x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"componentTransfer\" result=\"colormatrix2\" type=\"matrix\" values=\"1 0 0 0 0\r\n                                     0 1 0 0 0\r\n                                     0 0 1 0 0\r\n-                                    0 0 0 18 -12\"></feColorMatrix>\r\n+                                    0 0 0 21 -14\"></feColorMatrix>\r\n                         </filter>\r\n                     </defs>\r\n                     <g>\r\n-                        <rect width=\"100%\" height=\"100%\" fill=\"hsl(84, 100%, 60%)\" opacity=\"0.15\"></rect>\r\n+                        <rect width=\"100%\" height=\"100%\" fill=\"hsl(84, 100%, 60%)\" opacity=\"0.35\"></rect>\r\n                         <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient3)\"></rect>\r\n                         <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient2)\"></rect>\r\n-                        <rect width=\"100%\" height=\"100%\" fill=\"transparent\" filter=\"url(#gggrain-filter)\" opacity=\"0.25\" style=\"mix-blend-mode: soft-light\"></rect>\r\n+                        <rect width=\"100%\" height=\"100%\" fill=\"transparent\" filter=\"url(#gggrain-filter)\" opacity=\"0.4\" style=\"mix-blend-mode: normal\"></rect>\r\n                     </g>\r\n                 </svg>\r\n             </div>\r\n \r\n \r\n+\r\n           <!-- Main Content -->\r\n           <div class=\"relative w-full h-screen overflow-hidden\">\r\n               <!-- Logo Section -->\r\n               <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n@@ -215,5 +216,5 @@\n     }\r\n   }\r\n }\r\n \r\n-export { ReferenceInputPage };\n\\ No newline at end of file\n+export { ReferenceInputPage };\r\n"
                },
                {
                    "date": 1731005054298,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,105 +48,101 @@\n \r\n \r\n \r\n           <!-- Main Content -->\r\n-          <div class=\"relative w-full h-screen overflow-hidden\">\r\n-              <!-- Logo Section -->\r\n-              <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n-                  <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n-                      <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n-                          class=\"fill-emerald-500\"/>\r\n-                  </svg>\r\n-                  <div>\r\n-                      <h1 class=\"text-2xl font-bold text-gray-800\">ENERGY COVE</h1>\r\n-                      <p class=\"text-sm italic text-gray-600\">Energy for Life</p>\r\n-                  </div>\r\n-              </div>\r\n+            <div class=\"relative w-full h-screen overflow-hidden\">\r\n+                <!-- Logo Section -->\r\n+                <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n+                    <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n+                        <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n+                            class=\"fill-emerald-500\"/>\r\n+                    </svg>\r\n+                    <div>\r\n+                        <h1 class=\"text-2xl font-bold text-gray-800\">ENERGY COVE</h1>\r\n+                        <p class=\"text-sm italic text-gray-600\">Energy for Life</p>\r\n+                    </div>\r\n+                </div>\r\n \r\n-              <!-- Main Content Grid -->\r\n-              <div class=\"flex h-full\">\r\n-                  <!-- Left Section (2/3) -->\r\n-                  <div class=\"w-2/3 p-8 flex items-center justify-center relative\">\r\n-                      <!-- Glass morphism card -->\r\n-                      <div class=\"max-w-md w-full p-8 rounded-xl backdrop-blur-sm bg-white/30 shadow-xl border border-white/20\">\r\n-                          <!-- Form Section -->\r\n-                          <h2 class=\"text-4xl font-bold text-emerald-700 mb-8\">Get your quote</h2>\r\n-                          <form id=\"quote-form\" class=\"space-y-6\">\r\n-                              <!-- Provider Field -->\r\n-                              <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-700 font-medium\">\r\n-                                      Choose your electricity Provider\r\n-                                  </label>\r\n-                                  <input type=\"text\" \r\n-                                      id=\"provider\"\r\n-                                      class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/50 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n-                                      placeholder=\"e.g., MEPCO\">\r\n-                              </div>\r\n+                <!-- Main Content Grid -->\r\n+                <div class=\"flex h-full\">\r\n+                    <!-- Left Section (2/3) -->\r\n+                    <div class=\"w-2/3 p-8 flex items-center justify-center\">\r\n+                        <!-- Glass morphism card -->\r\n+                        <div class=\"max-w-md w-full p-8 rounded-xl backdrop-blur-sm bg-white/60 shadow-xl border border-white/30\">\r\n+                            <!-- Form Section -->\r\n+                            <h2 class=\"text-4xl font-bold text-emerald-700 mb-8\">Get your quote</h2>\r\n+                            <form id=\"quote-form\" class=\"space-y-6\">\r\n+                                <!-- Provider Field -->\r\n+                                <div class=\"space-y-2\">\r\n+                                    <label class=\"block text-sm text-gray-700 font-medium\">\r\n+                                        Choose your electricity Provider\r\n+                                    </label>\r\n+                                    <input type=\"text\" \r\n+                                        id=\"provider\"\r\n+                                        class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/70 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n+                                        placeholder=\"e.g., MEPCO\">\r\n+                                </div>\r\n \r\n-                              <!-- Reference Number Field -->\r\n-                              <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-700 font-medium\">\r\n-                                      Enter your bill reference number\r\n-                                  </label>\r\n-                                  <input type=\"text\" \r\n-                                      id=\"referenceNumber\"\r\n-                                      class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/50 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n-                                      placeholder=\"Enter reference number\">\r\n-                              </div>\r\n+                                <!-- Reference Number Field -->\r\n+                                <div class=\"space-y-2\">\r\n+                                    <label class=\"block text-sm text-gray-700 font-medium\">\r\n+                                        Enter your bill reference number\r\n+                                    </label>\r\n+                                    <input type=\"text\" \r\n+                                        id=\"referenceNumber\"\r\n+                                        class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/70 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n+                                        placeholder=\"Enter reference number\">\r\n+                                </div>\r\n \r\n-                              <!-- WhatsApp Field -->\r\n-                              <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-700 font-medium\">\r\n-                                      Enter your WhatsApp phone Number\r\n-                                  </label>\r\n-                                  <input type=\"tel\" \r\n-                                      id=\"whatsapp\"\r\n-                                      class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/50 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n-                                      placeholder=\"+92 XXX XXXXXXX\">\r\n-                              </div>\r\n+                                <!-- WhatsApp Field -->\r\n+                                <div class=\"space-y-2\">\r\n+                                    <label class=\"block text-sm text-gray-700 font-medium\">\r\n+                                        Enter your WhatsApp phone Number\r\n+                                    </label>\r\n+                                    <input type=\"tel\" \r\n+                                        id=\"whatsapp\"\r\n+                                        class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/70 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n+                                        placeholder=\"+92 XXX XXXXXXX\">\r\n+                                </div>\r\n \r\n-                              <!-- Submit Button -->\r\n-                              <button type=\"submit\" \r\n-                                  class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 shadow-lg hover:shadow-emerald-500/30 transition-all duration-300 flex items-center justify-center gap-2\">\r\n-                                  <span>Generate</span>\r\n-                                  ${\r\n-                                    this.state.isLoading\r\n-                                      ? this.renderSpinner()\r\n-                                      : \"\"\r\n-                                  }\r\n-                              </button>\r\n-                          </form>\r\n-                      </div>\r\n-                  </div>\r\n+                                <!-- Submit Button -->\r\n+                                <button type=\"submit\" \r\n+                                    class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 shadow-lg hover:shadow-emerald-500/30 transition-all duration-300 flex items-center justify-center gap-2\">\r\n+                                    <span>Generate</span>\r\n+                                    ${this.state.isLoading ? this.renderSpinner() : ''}\r\n+                                </button>\r\n+                            </form>\r\n+                        </div>\r\n+                    </div>\r\n \r\n-                  <!-- Right Section (1/3) -->\r\n-                  <div class=\"w-1/3 bg-emerald-500/90 backdrop-blur-md p-8 flex flex-col relative shadow-2xl\">\r\n-                      <div class=\"text-white mt-16 space-y-2\">\r\n-                          <p class=\"text-2xl leading-relaxed\">\r\n-                              Our AI tool quickly provides\r\n-                              <br />the ideal system size and\r\n-                              <br />savings estimateno\r\n-                              <br />in-person consultation\r\n-                              <br />needed. Get the fastest\r\n-                              <br />solar quote in Pakistan!\r\n-                          </p>\r\n-                      </div>\r\n-                      <div class=\"absolute bottom-24 text-white\">\r\n-                          <p class=\"text-2xl font-bold\">POWERED BY AI</p>\r\n-                      </div>\r\n-                  </div>\r\n-              </div>\r\n+                    <!-- Right Section (1/3) -->\r\n+                    <div class=\"w-1/3 bg-emerald-500/90 p-8 flex flex-col relative shadow-2xl\">\r\n+                        <div class=\"text-white mt-16 space-y-2\">\r\n+                            <p class=\"text-2xl leading-relaxed\">\r\n+                                Our AI tool quickly provides\r\n+                                <br />the ideal system size and\r\n+                                <br />savings estimateno\r\n+                                <br />in-person consultation\r\n+                                <br />needed. Get the fastest\r\n+                                <br />solar quote in Pakistan!\r\n+                            </p>\r\n+                        </div>\r\n+                        <div class=\"absolute bottom-24 text-white\">\r\n+                            <p class=\"text-2xl font-bold\">POWERED BY AI</p>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n \r\n-              <!-- Decorative Waves -->\r\n-              <div class=\"absolute bottom-0 w-full\">\r\n-                  <svg class=\"w-full h-24\" viewBox=\"0 0 1200 100\" preserveAspectRatio=\"none\">\r\n-                      <path d=\"M0,20 C200,0 400,40 600,20 S800,0 1200,20 L1200,100 L0,100 Z\"\r\n-                          class=\"fill-emerald-500/30\"/>\r\n-                      <path d=\"M0,40 C200,20 400,60 600,40 S800,20 1200,40 L1200,100 L0,100 Z\"\r\n-                          class=\"fill-yellow-400/50\"/>\r\n-                  </svg>\r\n-              </div>\r\n-          </div>\r\n+                <!-- Decorative Waves -->\r\n+                <div class=\"absolute bottom-0 w-full\">\r\n+                    <svg class=\"w-full h-24\" viewBox=\"0 0 1200 100\" preserveAspectRatio=\"none\">\r\n+                        <path d=\"M0,20 C200,0 400,40 600,20 S800,0 1200,20 L1200,100 L0,100 Z\"\r\n+                            class=\"fill-emerald-500/40\"/>\r\n+                        <path d=\"M0,40 C200,20 400,60 600,40 S800,20 1200,40 L1200,100 L0,100 Z\"\r\n+                            class=\"fill-yellow-400/40\"/>\r\n+                    </svg>\r\n+                </div>\r\n+            </div>\r\n       `;\r\n \r\n     this.attachEventListeners();\r\n   }\r\n"
                },
                {
                    "date": 1731005108137,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,101 +48,105 @@\n \r\n \r\n \r\n           <!-- Main Content -->\r\n-            <div class=\"relative w-full h-screen overflow-hidden\">\r\n-                <!-- Logo Section -->\r\n-                <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n-                    <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n-                        <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n-                            class=\"fill-emerald-500\"/>\r\n-                    </svg>\r\n-                    <div>\r\n-                        <h1 class=\"text-2xl font-bold text-gray-800\">ENERGY COVE</h1>\r\n-                        <p class=\"text-sm italic text-gray-600\">Energy for Life</p>\r\n-                    </div>\r\n-                </div>\r\n+          <div class=\"relative w-full h-screen overflow-hidden\">\r\n+              <!-- Logo Section -->\r\n+              <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n+                  <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n+                      <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n+                          class=\"fill-emerald-500\"/>\r\n+                  </svg>\r\n+                  <div>\r\n+                      <h1 class=\"text-2xl font-bold text-gray-800\">ENERGY COVE</h1>\r\n+                      <p class=\"text-sm italic text-gray-600\">Energy for Life</p>\r\n+                  </div>\r\n+              </div>\r\n \r\n-                <!-- Main Content Grid -->\r\n-                <div class=\"flex h-full\">\r\n-                    <!-- Left Section (2/3) -->\r\n-                    <div class=\"w-2/3 p-8 flex items-center justify-center\">\r\n-                        <!-- Glass morphism card -->\r\n-                        <div class=\"max-w-md w-full p-8 rounded-xl backdrop-blur-sm bg-white/60 shadow-xl border border-white/30\">\r\n-                            <!-- Form Section -->\r\n-                            <h2 class=\"text-4xl font-bold text-emerald-700 mb-8\">Get your quote</h2>\r\n-                            <form id=\"quote-form\" class=\"space-y-6\">\r\n-                                <!-- Provider Field -->\r\n-                                <div class=\"space-y-2\">\r\n-                                    <label class=\"block text-sm text-gray-700 font-medium\">\r\n-                                        Choose your electricity Provider\r\n-                                    </label>\r\n-                                    <input type=\"text\" \r\n-                                        id=\"provider\"\r\n-                                        class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/70 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n-                                        placeholder=\"e.g., MEPCO\">\r\n-                                </div>\r\n+              <!-- Main Content Grid -->\r\n+              <div class=\"flex h-full\">\r\n+                  <!-- Left Section (2/3) -->\r\n+                  <div class=\"w-2/3 p-8 flex items-center justify-center relative\">\r\n+                      <!-- Glass morphism card -->\r\n+                      <div class=\"max-w-md w-full p-8 rounded-xl backdrop-blur-sm bg-white/30 shadow-xl border border-white/20\">\r\n+                          <!-- Form Section -->\r\n+                          <h2 class=\"text-4xl font-bold text-emerald-700 mb-8\">Get your quote</h2>\r\n+                          <form id=\"quote-form\" class=\"space-y-6\">\r\n+                              <!-- Provider Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-700 font-medium\">\r\n+                                      Choose your electricity Provider\r\n+                                  </label>\r\n+                                  <input type=\"text\" \r\n+                                      id=\"provider\"\r\n+                                      class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/50 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n+                                      placeholder=\"e.g., MEPCO\">\r\n+                              </div>\r\n \r\n-                                <!-- Reference Number Field -->\r\n-                                <div class=\"space-y-2\">\r\n-                                    <label class=\"block text-sm text-gray-700 font-medium\">\r\n-                                        Enter your bill reference number\r\n-                                    </label>\r\n-                                    <input type=\"text\" \r\n-                                        id=\"referenceNumber\"\r\n-                                        class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/70 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n-                                        placeholder=\"Enter reference number\">\r\n-                                </div>\r\n+                              <!-- Reference Number Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-700 font-medium\">\r\n+                                      Enter your bill reference number\r\n+                                  </label>\r\n+                                  <input type=\"text\" \r\n+                                      id=\"referenceNumber\"\r\n+                                      class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/50 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n+                                      placeholder=\"Enter reference number\">\r\n+                              </div>\r\n \r\n-                                <!-- WhatsApp Field -->\r\n-                                <div class=\"space-y-2\">\r\n-                                    <label class=\"block text-sm text-gray-700 font-medium\">\r\n-                                        Enter your WhatsApp phone Number\r\n-                                    </label>\r\n-                                    <input type=\"tel\" \r\n-                                        id=\"whatsapp\"\r\n-                                        class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/70 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n-                                        placeholder=\"+92 XXX XXXXXXX\">\r\n-                                </div>\r\n+                              <!-- WhatsApp Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-700 font-medium\">\r\n+                                      Enter your WhatsApp phone Number\r\n+                                  </label>\r\n+                                  <input type=\"tel\" \r\n+                                      id=\"whatsapp\"\r\n+                                      class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/50 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n+                                      placeholder=\"+92 XXX XXXXXXX\">\r\n+                              </div>\r\n \r\n-                                <!-- Submit Button -->\r\n-                                <button type=\"submit\" \r\n-                                    class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 shadow-lg hover:shadow-emerald-500/30 transition-all duration-300 flex items-center justify-center gap-2\">\r\n-                                    <span>Generate</span>\r\n-                                    ${this.state.isLoading ? this.renderSpinner() : ''}\r\n-                                </button>\r\n-                            </form>\r\n-                        </div>\r\n-                    </div>\r\n+                              <!-- Submit Button -->\r\n+                              <button type=\"submit\" \r\n+                                  class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 shadow-lg hover:shadow-emerald-500/30 transition-all duration-300 flex items-center justify-center gap-2\">\r\n+                                  <span>Generate</span>\r\n+                                  ${\r\n+                                    this.state.isLoading\r\n+                                      ? this.renderSpinner()\r\n+                                      : \"\"\r\n+                                  }\r\n+                              </button>\r\n+                          </form>\r\n+                      </div>\r\n+                  </div>\r\n \r\n-                    <!-- Right Section (1/3) -->\r\n-                    <div class=\"w-1/3 bg-emerald-500/90 p-8 flex flex-col relative shadow-2xl\">\r\n-                        <div class=\"text-white mt-16 space-y-2\">\r\n-                            <p class=\"text-2xl leading-relaxed\">\r\n-                                Our AI tool quickly provides\r\n-                                <br />the ideal system size and\r\n-                                <br />savings estimateno\r\n-                                <br />in-person consultation\r\n-                                <br />needed. Get the fastest\r\n-                                <br />solar quote in Pakistan!\r\n-                            </p>\r\n-                        </div>\r\n-                        <div class=\"absolute bottom-24 text-white\">\r\n-                            <p class=\"text-2xl font-bold\">POWERED BY AI</p>\r\n-                        </div>\r\n-                    </div>\r\n-                </div>\r\n+                  <!-- Right Section (1/3) -->\r\n+                  <div class=\"w-1/3 bg-emerald-500/90 backdrop-blur-md p-8 flex flex-col relative shadow-2xl\">\r\n+                      <div class=\"text-white mt-16 space-y-2\">\r\n+                          <p class=\"text-2xl leading-relaxed\">\r\n+                              Our AI tool quickly provides\r\n+                              <br />the ideal system size and\r\n+                              <br />savings estimateno\r\n+                              <br />in-person consultation\r\n+                              <br />needed. Get the fastest\r\n+                              <br />solar quote in Pakistan!\r\n+                          </p>\r\n+                      </div>\r\n+                      <div class=\"absolute bottom-24 text-white\">\r\n+                          <p class=\"text-2xl font-bold\">POWERED BY AI</p>\r\n+                      </div>\r\n+                  </div>\r\n+              </div>\r\n \r\n-                <!-- Decorative Waves -->\r\n-                <div class=\"absolute bottom-0 w-full\">\r\n-                    <svg class=\"w-full h-24\" viewBox=\"0 0 1200 100\" preserveAspectRatio=\"none\">\r\n-                        <path d=\"M0,20 C200,0 400,40 600,20 S800,0 1200,20 L1200,100 L0,100 Z\"\r\n-                            class=\"fill-emerald-500/40\"/>\r\n-                        <path d=\"M0,40 C200,20 400,60 600,40 S800,20 1200,40 L1200,100 L0,100 Z\"\r\n-                            class=\"fill-yellow-400/40\"/>\r\n-                    </svg>\r\n-                </div>\r\n-            </div>\r\n+              <!-- Decorative Waves -->\r\n+              <div class=\"absolute bottom-0 w-full\">\r\n+                  <svg class=\"w-full h-24\" viewBox=\"0 0 1200 100\" preserveAspectRatio=\"none\">\r\n+                      <path d=\"M0,20 C200,0 400,40 600,20 S800,0 1200,20 L1200,100 L0,100 Z\"\r\n+                          class=\"fill-emerald-500/30\"/>\r\n+                      <path d=\"M0,40 C200,20 400,60 600,40 S800,20 1200,40 L1200,100 L0,100 Z\"\r\n+                          class=\"fill-yellow-400/50\"/>\r\n+                  </svg>\r\n+              </div>\r\n+          </div>\r\n       `;\r\n \r\n     this.attachEventListeners();\r\n   }\r\n"
                },
                {
                    "date": 1731005113453,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,45 +10,44 @@\n \r\n   render() {\r\n     const app = document.getElementById(\"app\");\r\n     app.innerHTML = `\r\n-           <!-- Background Gradient and Grain -->\r\n-            <div class=\"fixed inset-0 w-full h-full opacity-[0.45]\"> <!-- Adjusted overall opacity -->\r\n+          <!-- Background Gradient and Grain -->\r\n+            <div class=\"fixed inset-0 w-full h-full opacity-[0.15]\"> <!-- Reduced overall opacity -->\r\n                 <svg class=\"w-full h-full\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 700 700\" preserveAspectRatio=\"none\">\r\n                     <defs>\r\n                         <linearGradient gradientTransform=\"rotate(-67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient2\">\r\n-                            <stop stop-color=\"hsla(108, 83%, 49%, 0.65)\" stop-opacity=\"1\" offset=\"-0%\"></stop>\r\n+                            <stop stop-color=\"hsla(108, 83%, 49%, 0.35)\" stop-opacity=\"1\" offset=\"-0%\"></stop>\r\n                             <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n                         </linearGradient>\r\n                         <linearGradient gradientTransform=\"rotate(67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient3\">\r\n-                            <stop stop-color=\"hsl(184, 100%, 50%)\" stop-opacity=\"0.45\"></stop>\r\n+                            <stop stop-color=\"hsl(184, 100%, 50%)\" stop-opacity=\"0.25\"></stop>\r\n                             <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n                         </linearGradient>\r\n                         <filter id=\"gggrain-filter\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\" filterUnits=\"objectBoundingBox\" primitiveUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n-                            <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.65\" numOctaves=\"2\" seed=\"2\" stitchTiles=\"stitch\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" result=\"turbulence\"></feTurbulence>\r\n+                            <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.55\" numOctaves=\"2\" seed=\"2\" stitchTiles=\"stitch\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" result=\"turbulence\"></feTurbulence>\r\n                             <feColorMatrix type=\"saturate\" values=\"0\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"turbulence\" result=\"colormatrix\"></feColorMatrix>\r\n                             <feComponentTransfer x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"colormatrix\" result=\"componentTransfer\">\r\n-                                <feFuncR type=\"linear\" slope=\"2.5\"></feFuncR>\r\n-                                <feFuncG type=\"linear\" slope=\"2.5\"></feFuncG>\r\n-                                <feFuncB type=\"linear\" slope=\"2.5\"></feFuncB>\r\n+                                <feFuncR type=\"linear\" slope=\"2\"></feFuncR>\r\n+                                <feFuncG type=\"linear\" slope=\"2\"></feFuncG>\r\n+                                <feFuncB type=\"linear\" slope=\"2\"></feFuncB>\r\n                             </feComponentTransfer>\r\n                             <feColorMatrix x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"componentTransfer\" result=\"colormatrix2\" type=\"matrix\" values=\"1 0 0 0 0\r\n                                     0 1 0 0 0\r\n                                     0 0 1 0 0\r\n-                                    0 0 0 21 -14\"></feColorMatrix>\r\n+                                    0 0 0 18 -12\"></feColorMatrix>\r\n                         </filter>\r\n                     </defs>\r\n                     <g>\r\n-                        <rect width=\"100%\" height=\"100%\" fill=\"hsl(84, 100%, 60%)\" opacity=\"0.35\"></rect>\r\n+                        <rect width=\"100%\" height=\"100%\" fill=\"hsl(84, 100%, 60%)\" opacity=\"0.15\"></rect>\r\n                         <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient3)\"></rect>\r\n                         <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient2)\"></rect>\r\n-                        <rect width=\"100%\" height=\"100%\" fill=\"transparent\" filter=\"url(#gggrain-filter)\" opacity=\"0.4\" style=\"mix-blend-mode: normal\"></rect>\r\n+                        <rect width=\"100%\" height=\"100%\" fill=\"transparent\" filter=\"url(#gggrain-filter)\" opacity=\"0.25\" style=\"mix-blend-mode: soft-light\"></rect>\r\n                     </g>\r\n                 </svg>\r\n             </div>\r\n \r\n \r\n-\r\n           <!-- Main Content -->\r\n           <div class=\"relative w-full h-screen overflow-hidden\">\r\n               <!-- Logo Section -->\r\n               <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n"
                },
                {
                    "date": 1731005119342,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,53 +1,52 @@\n class ReferenceInputPage {\r\n   constructor() {\r\n-    this.state = {\r\n-      provider: \"\",\r\n-      referenceNumber: \"\",\r\n-      whatsapp: \"\",\r\n-      isLoading: false,\r\n-    };\r\n+      this.state = {\r\n+          provider: '',\r\n+          referenceNumber: '',\r\n+          whatsapp: '',\r\n+          isLoading: false\r\n+      };\r\n   }\r\n \r\n   render() {\r\n-    const app = document.getElementById(\"app\");\r\n-    app.innerHTML = `\r\n+      const app = document.getElementById(\"app\");\r\n+      app.innerHTML = `\r\n           <!-- Background Gradient and Grain -->\r\n-            <div class=\"fixed inset-0 w-full h-full opacity-[0.15]\"> <!-- Reduced overall opacity -->\r\n-                <svg class=\"w-full h-full\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 700 700\" preserveAspectRatio=\"none\">\r\n-                    <defs>\r\n-                        <linearGradient gradientTransform=\"rotate(-67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient2\">\r\n-                            <stop stop-color=\"hsla(108, 83%, 49%, 0.35)\" stop-opacity=\"1\" offset=\"-0%\"></stop>\r\n-                            <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n-                        </linearGradient>\r\n-                        <linearGradient gradientTransform=\"rotate(67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient3\">\r\n-                            <stop stop-color=\"hsl(184, 100%, 50%)\" stop-opacity=\"0.25\"></stop>\r\n-                            <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n-                        </linearGradient>\r\n-                        <filter id=\"gggrain-filter\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\" filterUnits=\"objectBoundingBox\" primitiveUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n-                            <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.55\" numOctaves=\"2\" seed=\"2\" stitchTiles=\"stitch\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" result=\"turbulence\"></feTurbulence>\r\n-                            <feColorMatrix type=\"saturate\" values=\"0\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"turbulence\" result=\"colormatrix\"></feColorMatrix>\r\n-                            <feComponentTransfer x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"colormatrix\" result=\"componentTransfer\">\r\n-                                <feFuncR type=\"linear\" slope=\"2\"></feFuncR>\r\n-                                <feFuncG type=\"linear\" slope=\"2\"></feFuncG>\r\n-                                <feFuncB type=\"linear\" slope=\"2\"></feFuncB>\r\n-                            </feComponentTransfer>\r\n-                            <feColorMatrix x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"componentTransfer\" result=\"colormatrix2\" type=\"matrix\" values=\"1 0 0 0 0\r\n-                                    0 1 0 0 0\r\n-                                    0 0 1 0 0\r\n-                                    0 0 0 18 -12\"></feColorMatrix>\r\n-                        </filter>\r\n-                    </defs>\r\n-                    <g>\r\n-                        <rect width=\"100%\" height=\"100%\" fill=\"hsl(84, 100%, 60%)\" opacity=\"0.15\"></rect>\r\n-                        <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient3)\"></rect>\r\n-                        <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient2)\"></rect>\r\n-                        <rect width=\"100%\" height=\"100%\" fill=\"transparent\" filter=\"url(#gggrain-filter)\" opacity=\"0.25\" style=\"mix-blend-mode: soft-light\"></rect>\r\n-                    </g>\r\n-                </svg>\r\n-            </div>\r\n+          <div class=\"fixed inset-0 w-full h-full\">\r\n+              <svg class=\"w-full h-full\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 700 700\" preserveAspectRatio=\"none\">\r\n+                  <defs>\r\n+                      <linearGradient gradientTransform=\"rotate(-67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient2\">\r\n+                          <stop stop-color=\"hsla(108, 83%, 49%, 0.85)\" stop-opacity=\"1\" offset=\"-0%\"></stop>\r\n+                          <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n+                      </linearGradient>\r\n+                      <linearGradient gradientTransform=\"rotate(67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient3\">\r\n+                          <stop stop-color=\"hsl(184, 100%, 50%)\" stop-opacity=\"1\"></stop>\r\n+                          <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n+                      </linearGradient>\r\n+                      <filter id=\"gggrain-filter\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\" filterUnits=\"objectBoundingBox\" primitiveUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n+                          <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.7\" numOctaves=\"2\" seed=\"2\" stitchTiles=\"stitch\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" result=\"turbulence\"></feTurbulence>\r\n+                          <feColorMatrix type=\"saturate\" values=\"0\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"turbulence\" result=\"colormatrix\"></feColorMatrix>\r\n+                          <feComponentTransfer x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"colormatrix\" result=\"componentTransfer\">\r\n+                              <feFuncR type=\"linear\" slope=\"3\"></feFuncR>\r\n+                              <feFuncG type=\"linear\" slope=\"3\"></feFuncG>\r\n+                              <feFuncB type=\"linear\" slope=\"3\"></feFuncB>\r\n+                          </feComponentTransfer>\r\n+                          <feColorMatrix x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"componentTransfer\" result=\"colormatrix2\" type=\"matrix\" values=\"1 0 0 0 0\r\n+                                  0 1 0 0 0\r\n+                                  0 0 1 0 0\r\n+                                  0 0 0 24 -16\"></feColorMatrix>\r\n+                      </filter>\r\n+                  </defs>\r\n+                  <g>\r\n+                      <rect width=\"100%\" height=\"100%\" fill=\"hsl(84, 100%, 60%)\"></rect>\r\n+                      <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient3)\"></rect>\r\n+                      <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient2)\"></rect>\r\n+                      <rect width=\"100%\" height=\"100%\" fill=\"transparent\" filter=\"url(#gggrain-filter)\" opacity=\"0.53\" style=\"mix-blend-mode: normal\"></rect>\r\n+                  </g>\r\n+              </svg>\r\n+          </div>\r\n \r\n-\r\n           <!-- Main Content -->\r\n           <div class=\"relative w-full h-screen overflow-hidden\">\r\n               <!-- Logo Section -->\r\n               <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n@@ -106,13 +105,9 @@\n                               <!-- Submit Button -->\r\n                               <button type=\"submit\" \r\n                                   class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 shadow-lg hover:shadow-emerald-500/30 transition-all duration-300 flex items-center justify-center gap-2\">\r\n                                   <span>Generate</span>\r\n-                                  ${\r\n-                                    this.state.isLoading\r\n-                                      ? this.renderSpinner()\r\n-                                      : \"\"\r\n-                                  }\r\n+                                  ${this.state.isLoading ? this.renderSpinner() : ''}\r\n                               </button>\r\n                           </form>\r\n                       </div>\r\n                   </div>\r\n@@ -146,74 +141,74 @@\n               </div>\r\n           </div>\r\n       `;\r\n \r\n-    this.attachEventListeners();\r\n+      this.attachEventListeners();\r\n   }\r\n \r\n   renderSpinner() {\r\n-    return `\r\n+      return `\r\n           <svg class=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n               <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n               <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n           </svg>\r\n       `;\r\n   }\r\n \r\n   attachEventListeners() {\r\n-    const form = document.getElementById(\"quote-form\");\r\n-    const inputs = form.querySelectorAll(\"input\");\r\n+      const form = document.getElementById('quote-form');\r\n+      const inputs = form.querySelectorAll('input');\r\n \r\n-    form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n-    inputs.forEach((input) => {\r\n-      input.addEventListener(\"input\", this.handleInput.bind(this));\r\n-    });\r\n+      form.addEventListener('submit', this.handleSubmit.bind(this));\r\n+      inputs.forEach(input => {\r\n+          input.addEventListener('input', this.handleInput.bind(this));\r\n+      });\r\n   }\r\n \r\n   handleInput(event) {\r\n-    const { id, value } = event.target;\r\n-    this.state[id] = value;\r\n+      const { id, value } = event.target;\r\n+      this.state[id] = value;\r\n   }\r\n \r\n   async handleSubmit(event) {\r\n-    event.preventDefault();\r\n+      event.preventDefault();\r\n+      \r\n+      if (this.state.isLoading) return;\r\n \r\n-    if (this.state.isLoading) return;\r\n+      if (!this.validateForm()) {\r\n+          alert('Please fill in all fields');\r\n+          return;\r\n+      }\r\n \r\n-    if (!this.validateForm()) {\r\n-      alert(\"Please fill in all fields\");\r\n-      return;\r\n-    }\r\n+      try {\r\n+          this.state.isLoading = true;\r\n+          this.updateSubmitButton(true);\r\n \r\n-    try {\r\n-      this.state.isLoading = true;\r\n-      this.updateSubmitButton(true);\r\n-\r\n-      await fetchBillData(this.state.referenceNumber);\r\n-      window.router.push(\"/quote\");\r\n-    } catch (error) {\r\n-      console.error(\"Error:\", error);\r\n-      alert(\"Failed to generate quote. Please try again.\");\r\n-    } finally {\r\n-      this.state.isLoading = false;\r\n-      this.updateSubmitButton(false);\r\n-    }\r\n+          await fetchBillData(this.state.referenceNumber);\r\n+          window.router.push('/quote');\r\n+      } catch (error) {\r\n+          console.error('Error:', error);\r\n+          alert('Failed to generate quote. Please try again.');\r\n+      } finally {\r\n+          this.state.isLoading = false;\r\n+          this.updateSubmitButton(false);\r\n+      }\r\n   }\r\n \r\n   validateForm() {\r\n-    return (\r\n-      this.state.provider && this.state.referenceNumber && this.state.whatsapp\r\n-    );\r\n+      return this.state.provider && \r\n+             this.state.referenceNumber && \r\n+             this.state.whatsapp;\r\n   }\r\n \r\n   updateSubmitButton(isLoading) {\r\n-    const button = document.querySelector('button[type=\"submit\"]');\r\n-    if (button) {\r\n-      button.innerHTML = isLoading\r\n-        ? `<span>Processing...</span>${this.renderSpinner()}`\r\n-        : \"<span>Generate</span>\";\r\n-      button.disabled = isLoading;\r\n-    }\r\n+      const button = document.querySelector('button[type=\"submit\"]');\r\n+      if (button) {\r\n+          button.innerHTML = isLoading \r\n+              ? `<span>Processing...</span>${this.renderSpinner()}`\r\n+              : '<span>Generate</span>';\r\n+          button.disabled = isLoading;\r\n+      }\r\n   }\r\n }\r\n \r\n-export { ReferenceInputPage };\r\n+export { ReferenceInputPage };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731005128613,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,45 +10,9 @@\n \r\n   render() {\r\n       const app = document.getElementById(\"app\");\r\n       app.innerHTML = `\r\n-          <!-- Background Gradient and Grain -->\r\n-          <div class=\"fixed inset-0 w-full h-full\">\r\n-              <svg class=\"w-full h-full\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 700 700\" preserveAspectRatio=\"none\">\r\n-                  <defs>\r\n-                      <linearGradient gradientTransform=\"rotate(-67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient2\">\r\n-                          <stop stop-color=\"hsla(108, 83%, 49%, 0.85)\" stop-opacity=\"1\" offset=\"-0%\"></stop>\r\n-                          <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n-                      </linearGradient>\r\n-                      <linearGradient gradientTransform=\"rotate(67, 0.5, 0.5)\" x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"gggrain-gradient3\">\r\n-                          <stop stop-color=\"hsl(184, 100%, 50%)\" stop-opacity=\"1\"></stop>\r\n-                          <stop stop-color=\"rgba(255,255,255,0)\" stop-opacity=\"0\" offset=\"100%\"></stop>\r\n-                      </linearGradient>\r\n-                      <filter id=\"gggrain-filter\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\" filterUnits=\"objectBoundingBox\" primitiveUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n-                          <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.7\" numOctaves=\"2\" seed=\"2\" stitchTiles=\"stitch\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" result=\"turbulence\"></feTurbulence>\r\n-                          <feColorMatrix type=\"saturate\" values=\"0\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"turbulence\" result=\"colormatrix\"></feColorMatrix>\r\n-                          <feComponentTransfer x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"colormatrix\" result=\"componentTransfer\">\r\n-                              <feFuncR type=\"linear\" slope=\"3\"></feFuncR>\r\n-                              <feFuncG type=\"linear\" slope=\"3\"></feFuncG>\r\n-                              <feFuncB type=\"linear\" slope=\"3\"></feFuncB>\r\n-                          </feComponentTransfer>\r\n-                          <feColorMatrix x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\" in=\"componentTransfer\" result=\"colormatrix2\" type=\"matrix\" values=\"1 0 0 0 0\r\n-                                  0 1 0 0 0\r\n-                                  0 0 1 0 0\r\n-                                  0 0 0 24 -16\"></feColorMatrix>\r\n-                      </filter>\r\n-                  </defs>\r\n-                  <g>\r\n-                      <rect width=\"100%\" height=\"100%\" fill=\"hsl(84, 100%, 60%)\"></rect>\r\n-                      <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient3)\"></rect>\r\n-                      <rect width=\"100%\" height=\"100%\" fill=\"url(#gggrain-gradient2)\"></rect>\r\n-                      <rect width=\"100%\" height=\"100%\" fill=\"transparent\" filter=\"url(#gggrain-filter)\" opacity=\"0.53\" style=\"mix-blend-mode: normal\"></rect>\r\n-                  </g>\r\n-              </svg>\r\n-          </div>\r\n-\r\n-          <!-- Main Content -->\r\n-          <div class=\"relative w-full h-screen overflow-hidden\">\r\n+          <div class=\"relative w-full h-screen bg-white overflow-hidden\">\r\n               <!-- Logo Section -->\r\n               <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n                   <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n                       <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n@@ -62,59 +26,58 @@\n \r\n               <!-- Main Content Grid -->\r\n               <div class=\"flex h-full\">\r\n                   <!-- Left Section (2/3) -->\r\n-                  <div class=\"w-2/3 p-8 flex items-center justify-center relative\">\r\n-                      <!-- Glass morphism card -->\r\n-                      <div class=\"max-w-md w-full p-8 rounded-xl backdrop-blur-sm bg-white/30 shadow-xl border border-white/20\">\r\n+                  <div class=\"w-2/3 p-8 flex items-center justify-center\">\r\n+                      <div class=\"max-w-md w-full\">\r\n                           <!-- Form Section -->\r\n-                          <h2 class=\"text-4xl font-bold text-emerald-700 mb-8\">Get your quote</h2>\r\n+                          <h2 class=\"text-4xl font-bold text-emerald-500 mb-8\">Get your quote</h2>\r\n                           <form id=\"quote-form\" class=\"space-y-6\">\r\n                               <!-- Provider Field -->\r\n                               <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-700 font-medium\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n                                       Choose your electricity Provider\r\n                                   </label>\r\n                                   <input type=\"text\" \r\n                                       id=\"provider\"\r\n-                                      class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/50 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n                                       placeholder=\"e.g., MEPCO\">\r\n                               </div>\r\n \r\n                               <!-- Reference Number Field -->\r\n                               <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-700 font-medium\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n                                       Enter your bill reference number\r\n                                   </label>\r\n                                   <input type=\"text\" \r\n                                       id=\"referenceNumber\"\r\n-                                      class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/50 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n                                       placeholder=\"Enter reference number\">\r\n                               </div>\r\n \r\n                               <!-- WhatsApp Field -->\r\n                               <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-700 font-medium\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n                                       Enter your WhatsApp phone Number\r\n                                   </label>\r\n                                   <input type=\"tel\" \r\n                                       id=\"whatsapp\"\r\n-                                      class=\"w-full h-10 px-4 rounded-lg border border-white/50 bg-white/50 backdrop-blur-sm focus:outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/30 transition-all\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n                                       placeholder=\"+92 XXX XXXXXXX\">\r\n                               </div>\r\n \r\n                               <!-- Submit Button -->\r\n                               <button type=\"submit\" \r\n-                                  class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 shadow-lg hover:shadow-emerald-500/30 transition-all duration-300 flex items-center justify-center gap-2\">\r\n+                                  class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2\">\r\n                                   <span>Generate</span>\r\n                                   ${this.state.isLoading ? this.renderSpinner() : ''}\r\n                               </button>\r\n                           </form>\r\n                       </div>\r\n                   </div>\r\n \r\n                   <!-- Right Section (1/3) -->\r\n-                  <div class=\"w-1/3 bg-emerald-500/90 backdrop-blur-md p-8 flex flex-col relative shadow-2xl\">\r\n+                  <div class=\"w-1/3 bg-emerald-500 p-8 flex flex-col relative\">\r\n                       <div class=\"text-white mt-16 space-y-2\">\r\n                           <p class=\"text-2xl leading-relaxed\">\r\n                               Our AI tool quickly provides\r\n                               <br />the ideal system size and\r\n@@ -133,11 +96,11 @@\n               <!-- Decorative Waves -->\r\n               <div class=\"absolute bottom-0 w-full\">\r\n                   <svg class=\"w-full h-24\" viewBox=\"0 0 1200 100\" preserveAspectRatio=\"none\">\r\n                       <path d=\"M0,20 C200,0 400,40 600,20 S800,0 1200,20 L1200,100 L0,100 Z\"\r\n-                          class=\"fill-emerald-500/30\"/>\r\n+                          class=\"fill-emerald-500 opacity-30\"/>\r\n                       <path d=\"M0,40 C200,20 400,60 600,40 S800,20 1200,40 L1200,100 L0,100 Z\"\r\n-                          class=\"fill-yellow-400/50\"/>\r\n+                          class=\"fill-yellow-400 opacity-50\"/>\r\n                   </svg>\r\n               </div>\r\n           </div>\r\n       `;\r\n"
                },
                {
                    "date": 1731007331195,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,8 +10,9 @@\n \r\n   render() {\r\n       const app = document.getElementById(\"app\");\r\n       app.innerHTML = `\r\n+          <link rel=\"stylesheet\" href=\"styles.css\">\r\n           <div class=\"relative w-full h-screen bg-white overflow-hidden\">\r\n               <!-- Logo Section -->\r\n               <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n                   <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n"
                },
                {
                    "date": 1731007377746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,178 @@\n+class ReferenceInputPage {\r\n+  constructor() {\r\n+      this.state = {\r\n+          provider: '',\r\n+          referenceNumber: '',\r\n+          whatsapp: '',\r\n+          isLoading: false\r\n+      };\r\n+  }\r\n+\r\n+  render() {\r\n+      const app = document.getElementById(\"app\");\r\n+      app.innerHTML = `\r\n+          <link rel=\"stylesheet\" href=\"styles.css\">\r\n+          <div class=\"relative w-full h-screen bg-white overflow-hidden\">\r\n+              <!-- Logo Section -->\r\n+              <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n+                  <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n+                      <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n+                          class=\"fill-emerald-500\"/>\r\n+                  </svg>\r\n+                  <div>\r\n+                      <h1 class=\"text-2xl font-bold text-gray-800\">ENERGY COVE</h1>\r\n+                      <p class=\"text-sm italic text-gray-600\">Energy for Life</p>\r\n+                  </div>\r\n+              </div>\r\n+\r\n+              <!-- Main Content Grid -->\r\n+              <div class=\"flex h-full\">\r\n+                  <!-- Left Section (2/3) -->\r\n+                  <div class=\"w-2/3 p-8 flex items-center justify-center\">\r\n+                      <div class=\"max-w-md w-full\">\r\n+                          <!-- Form Section -->\r\n+                          <h2 class=\"text-4xl font-bold text-emerald-500 mb-8\">Get your quote</h2>\r\n+                          <form id=\"quote-form\" class=\"space-y-6\">\r\n+                              <!-- Provider Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n+                                      Choose your electricity Provider\r\n+                                  </label>\r\n+                                  <input type=\"text\" \r\n+                                      id=\"provider\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      placeholder=\"e.g., MEPCO\">\r\n+                              </div>\r\n+\r\n+                              <!-- Reference Number Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n+                                      Enter your bill reference number\r\n+                                  </label>\r\n+                                  <input type=\"text\" \r\n+                                      id=\"referenceNumber\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      placeholder=\"Enter reference number\">\r\n+                              </div>\r\n+\r\n+                              <!-- WhatsApp Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n+                                      Enter your WhatsApp phone Number\r\n+                                  </label>\r\n+                                  <input type=\"tel\" \r\n+                                      id=\"whatsapp\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      placeholder=\"+92 XXX XXXXXXX\">\r\n+                              </div>\r\n+\r\n+                              <!-- Submit Button -->\r\n+                              <button type=\"submit\" \r\n+                                  class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2\">\r\n+                                  <span>Generate</span>\r\n+                                  ${this.state.isLoading ? this.renderSpinner() : ''}\r\n+                              </button>\r\n+                          </form>\r\n+                      </div>\r\n+                  </div>\r\n+\r\n+                  <!-- Right Section (1/3) -->\r\n+                  <div class=\"w-1/3 bg-emerald-500 p-8 flex flex-col relative\">\r\n+                      <div class=\"text-white mt-16 space-y-2\">\r\n+                          <p class=\"text-2xl leading-relaxed\">\r\n+                              Our AI tool quickly provides\r\n+                              <br />the ideal system size and\r\n+                              <br />savings estimateno\r\n+                              <br />in-person consultation\r\n+                              <br />needed. Get the fastest\r\n+                              <br />solar quote in Pakistan!\r\n+                          </p>\r\n+                      </div>\r\n+                      <div class=\"absolute bottom-24 text-white\">\r\n+                          <p class=\"text-2xl font-bold\">POWERED BY AI</p>\r\n+                      </div>\r\n+                  </div>\r\n+              </div>\r\n+\r\n+              <!-- Decorative Waves -->\r\n+              <div class=\"absolute bottom-0 w-full\">\r\n+                  <svg class=\"w-full h-24\" viewBox=\"0 0 1200 100\" preserveAspectRatio=\"none\">\r\n+                      <path d=\"M0,20 C200,0 400,40 600,20 S800,0 1200,20 L1200,100 L0,100 Z\"\r\n+                          class=\"fill-emerald-500 opacity-30\"/>\r\n+                      <path d=\"M0,40 C200,20 400,60 600,40 S800,20 1200,40 L1200,100 L0,100 Z\"\r\n+                          class=\"fill-yellow-400 opacity-50\"/>\r\n+                  </svg>\r\n+              </div>\r\n+          </div>\r\n+      `;\r\n+\r\n+      this.attachEventListeners();\r\n+  }\r\n+\r\n+  renderSpinner() {\r\n+      return `\r\n+          <svg class=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n+              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n+              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n+          </svg>\r\n+      `;\r\n+  }\r\n+\r\n+  attachEventListeners() {\r\n+      const form = document.getElementById('quote-form');\r\n+      const inputs = form.querySelectorAll('input');\r\n+\r\n+      form.addEventListener('submit', this.handleSubmit.bind(this));\r\n+      inputs.forEach(input => {\r\n+          input.addEventListener('input', this.handleInput.bind(this));\r\n+      });\r\n+  }\r\n+\r\n+  handleInput(event) {\r\n+      const { id, value } = event.target;\r\n+      this.state[id] = value;\r\n+  }\r\n+\r\n+  async handleSubmit(event) {\r\n+      event.preventDefault();\r\n+      \r\n+      if (this.state.isLoading) return;\r\n+\r\n+      if (!this.validateForm()) {\r\n+          alert('Please fill in all fields');\r\n+          return;\r\n+      }\r\n+\r\n+      try {\r\n+          this.state.isLoading = true;\r\n+          this.updateSubmitButton(true);\r\n+\r\n+          await fetchBillData(this.state.referenceNumber);\r\n+          window.router.push('/quote');\r\n+      } catch (error) {\r\n+          console.error('Error:', error);\r\n+          alert('Failed to generate quote. Please try again.');\r\n+      } finally {\r\n+          this.state.isLoading = false;\r\n+          this.updateSubmitButton(false);\r\n+      }\r\n+  }\r\n+\r\n+  validateForm() {\r\n+      return this.state.provider && \r\n+             this.state.referenceNumber && \r\n+             this.state.whatsapp;\r\n+  }\r\n+\r\n+  updateSubmitButton(isLoading) {\r\n+      const button = document.querySelector('button[type=\"submit\"]');\r\n+      if (button) {\r\n+          button.innerHTML = isLoading \r\n+              ? `<span>Processing...</span>${this.renderSpinner()}`\r\n+              : '<span>Generate</span>';\r\n+          button.disabled = isLoading;\r\n+      }\r\n+  }\r\n+}\r\n+\r\n+export { ReferenceInputPage };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731007432995,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,9 @@\n \r\n   render() {\r\n       const app = document.getElementById(\"app\");\r\n       app.innerHTML = `\r\n-          <link rel=\"stylesheet\" href=\"styles.css\">\r\n+          <link rel=\"stylesheet\" href=\"./styles.css\">\r\n           <div class=\"relative w-full h-screen bg-white overflow-hidden\">\r\n               <!-- Logo Section -->\r\n               <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n                   <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n@@ -174,183 +174,5 @@\n       }\r\n   }\r\n }\r\n \r\n-export { ReferenceInputPage };\n-class ReferenceInputPage {\r\n-  constructor() {\r\n-      this.state = {\r\n-          provider: '',\r\n-          referenceNumber: '',\r\n-          whatsapp: '',\r\n-          isLoading: false\r\n-      };\r\n-  }\r\n-\r\n-  render() {\r\n-      const app = document.getElementById(\"app\");\r\n-      app.innerHTML = `\r\n-          <link rel=\"stylesheet\" href=\"styles.css\">\r\n-          <div class=\"relative w-full h-screen bg-white overflow-hidden\">\r\n-              <!-- Logo Section -->\r\n-              <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n-                  <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n-                      <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n-                          class=\"fill-emerald-500\"/>\r\n-                  </svg>\r\n-                  <div>\r\n-                      <h1 class=\"text-2xl font-bold text-gray-800\">ENERGY COVE</h1>\r\n-                      <p class=\"text-sm italic text-gray-600\">Energy for Life</p>\r\n-                  </div>\r\n-              </div>\r\n-\r\n-              <!-- Main Content Grid -->\r\n-              <div class=\"flex h-full\">\r\n-                  <!-- Left Section (2/3) -->\r\n-                  <div class=\"w-2/3 p-8 flex items-center justify-center\">\r\n-                      <div class=\"max-w-md w-full\">\r\n-                          <!-- Form Section -->\r\n-                          <h2 class=\"text-4xl font-bold text-emerald-500 mb-8\">Get your quote</h2>\r\n-                          <form id=\"quote-form\" class=\"space-y-6\">\r\n-                              <!-- Provider Field -->\r\n-                              <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-600\">\r\n-                                      Choose your electricity Provider\r\n-                                  </label>\r\n-                                  <input type=\"text\" \r\n-                                      id=\"provider\"\r\n-                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n-                                      placeholder=\"e.g., MEPCO\">\r\n-                              </div>\r\n-\r\n-                              <!-- Reference Number Field -->\r\n-                              <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-600\">\r\n-                                      Enter your bill reference number\r\n-                                  </label>\r\n-                                  <input type=\"text\" \r\n-                                      id=\"referenceNumber\"\r\n-                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n-                                      placeholder=\"Enter reference number\">\r\n-                              </div>\r\n-\r\n-                              <!-- WhatsApp Field -->\r\n-                              <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-600\">\r\n-                                      Enter your WhatsApp phone Number\r\n-                                  </label>\r\n-                                  <input type=\"tel\" \r\n-                                      id=\"whatsapp\"\r\n-                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n-                                      placeholder=\"+92 XXX XXXXXXX\">\r\n-                              </div>\r\n-\r\n-                              <!-- Submit Button -->\r\n-                              <button type=\"submit\" \r\n-                                  class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2\">\r\n-                                  <span>Generate</span>\r\n-                                  ${this.state.isLoading ? this.renderSpinner() : ''}\r\n-                              </button>\r\n-                          </form>\r\n-                      </div>\r\n-                  </div>\r\n-\r\n-                  <!-- Right Section (1/3) -->\r\n-                  <div class=\"w-1/3 bg-emerald-500 p-8 flex flex-col relative\">\r\n-                      <div class=\"text-white mt-16 space-y-2\">\r\n-                          <p class=\"text-2xl leading-relaxed\">\r\n-                              Our AI tool quickly provides\r\n-                              <br />the ideal system size and\r\n-                              <br />savings estimateno\r\n-                              <br />in-person consultation\r\n-                              <br />needed. Get the fastest\r\n-                              <br />solar quote in Pakistan!\r\n-                          </p>\r\n-                      </div>\r\n-                      <div class=\"absolute bottom-24 text-white\">\r\n-                          <p class=\"text-2xl font-bold\">POWERED BY AI</p>\r\n-                      </div>\r\n-                  </div>\r\n-              </div>\r\n-\r\n-              <!-- Decorative Waves -->\r\n-              <div class=\"absolute bottom-0 w-full\">\r\n-                  <svg class=\"w-full h-24\" viewBox=\"0 0 1200 100\" preserveAspectRatio=\"none\">\r\n-                      <path d=\"M0,20 C200,0 400,40 600,20 S800,0 1200,20 L1200,100 L0,100 Z\"\r\n-                          class=\"fill-emerald-500 opacity-30\"/>\r\n-                      <path d=\"M0,40 C200,20 400,60 600,40 S800,20 1200,40 L1200,100 L0,100 Z\"\r\n-                          class=\"fill-yellow-400 opacity-50\"/>\r\n-                  </svg>\r\n-              </div>\r\n-          </div>\r\n-      `;\r\n-\r\n-      this.attachEventListeners();\r\n-  }\r\n-\r\n-  renderSpinner() {\r\n-      return `\r\n-          <svg class=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n-              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n-              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n-          </svg>\r\n-      `;\r\n-  }\r\n-\r\n-  attachEventListeners() {\r\n-      const form = document.getElementById('quote-form');\r\n-      const inputs = form.querySelectorAll('input');\r\n-\r\n-      form.addEventListener('submit', this.handleSubmit.bind(this));\r\n-      inputs.forEach(input => {\r\n-          input.addEventListener('input', this.handleInput.bind(this));\r\n-      });\r\n-  }\r\n-\r\n-  handleInput(event) {\r\n-      const { id, value } = event.target;\r\n-      this.state[id] = value;\r\n-  }\r\n-\r\n-  async handleSubmit(event) {\r\n-      event.preventDefault();\r\n-      \r\n-      if (this.state.isLoading) return;\r\n-\r\n-      if (!this.validateForm()) {\r\n-          alert('Please fill in all fields');\r\n-          return;\r\n-      }\r\n-\r\n-      try {\r\n-          this.state.isLoading = true;\r\n-          this.updateSubmitButton(true);\r\n-\r\n-          await fetchBillData(this.state.referenceNumber);\r\n-          window.router.push('/quote');\r\n-      } catch (error) {\r\n-          console.error('Error:', error);\r\n-          alert('Failed to generate quote. Please try again.');\r\n-      } finally {\r\n-          this.state.isLoading = false;\r\n-          this.updateSubmitButton(false);\r\n-      }\r\n-  }\r\n-\r\n-  validateForm() {\r\n-      return this.state.provider && \r\n-             this.state.referenceNumber && \r\n-             this.state.whatsapp;\r\n-  }\r\n-\r\n-  updateSubmitButton(isLoading) {\r\n-      const button = document.querySelector('button[type=\"submit\"]');\r\n-      if (button) {\r\n-          button.innerHTML = isLoading \r\n-              ? `<span>Processing...</span>${this.renderSpinner()}`\r\n-              : '<span>Generate</span>';\r\n-          button.disabled = isLoading;\r\n-      }\r\n-  }\r\n-}\r\n-\r\n export { ReferenceInputPage };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731007441045,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,8 @@\n \r\n   render() {\r\n       const app = document.getElementById(\"app\");\r\n       app.innerHTML = `\r\n-          <link rel=\"stylesheet\" href=\"./styles.css\">\r\n           <div class=\"relative w-full h-screen bg-white overflow-hidden\">\r\n               <!-- Logo Section -->\r\n               <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n                   <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n"
                },
                {
                    "date": 1731007697571,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,9 @@\n \r\n   render() {\r\n       const app = document.getElementById(\"app\");\r\n       app.innerHTML = `\r\n-          <div class=\"relative w-full h-screen bg-white overflow-hidden\">\r\n+          <div class=\"relative w-full h-screen bg-white overflow-hidden mian-content\">\r\n               <!-- Logo Section -->\r\n               <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n                   <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n                       <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n"
                },
                {
                    "date": 1731007722248,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,17 +5,88 @@\n           referenceNumber: '',\r\n           whatsapp: '',\r\n           isLoading: false\r\n       };\r\n+\r\n+      // Inject CSS when the class is instantiated\r\n+      this.injectStyles();\r\n   }\r\n \r\n+  injectStyles() {\r\n+      const style = document.createElement('style');\r\n+      style.textContent = `\r\n+          iframe {\r\n+              border-radius: 20px !important;\r\n+          }\r\n+          .player {\r\n+              border-radius: 10px !important;\r\n+          }\r\n+          .main-content:before {\r\n+              animation: grain 4s steps(10) infinite;\r\n+              background-image: url(https://old.yamateos.fr/wp-content/uploads/2021/10/Sans-titre-noise2.jpg);\r\n+              content: \"\";\r\n+              height: 350%;\r\n+              left: -50%;\r\n+              opacity: 0.02;\r\n+              position: fixed;\r\n+              top: -150%;\r\n+              width: 300%;\r\n+              z-index: 999 !important;\r\n+              pointer-events: none;\r\n+          }\r\n+\r\n+          @keyframes grain {\r\n+              0%, 100% {\r\n+                  transform: translate(0, 0);\r\n+              }\r\n+              10% {\r\n+                  transform: translate(-5%, -10%);\r\n+              }\r\n+              20% {\r\n+                  transform: translate(-15%, 5%);\r\n+              }\r\n+              30% {\r\n+                  transform: translate(7%, -25%);\r\n+              }\r\n+              40% {\r\n+                  transform: translate(-5%, 25%);\r\n+              }\r\n+              50% {\r\n+                  transform: translate(-15%, 10%);\r\n+              }\r\n+              60% {\r\n+                  transform: translate(15%, 0%);\r\n+              }\r\n+              70% {\r\n+                  transform: translate(0%, 15%);\r\n+              }\r\n+              80% {\r\n+                  transform: translate(3%, 35%);\r\n+              }\r\n+              90% {\r\n+                  transform: translate(-10%, 10%);\r\n+              }\r\n+          }\r\n+\r\n+          .char {\r\n+              transform: translateY(115px);\r\n+              transition: transform 0.5s;\r\n+          }\r\n+\r\n+          ::selection {\r\n+              background-color: #e95012;\r\n+          }\r\n+      `;\r\n+      document.head.appendChild(style);\r\n+  }\r\n+\r\n   render() {\r\n       const app = document.getElementById(\"app\");\r\n       app.innerHTML = `\r\n-          <div class=\"relative w-full h-screen bg-white overflow-hidden mian-content\">\r\n+          <div class=\"relative w-full h-screen bg-white overflow-hidden main-content\">\r\n               <!-- Logo Section -->\r\n               <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n-                  <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n+                  <svg class=\"w-12 h-12 player\" viewBox=\"0 0 60 50\">\r\n                       <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n                           class=\"fill-emerald-500\"/>\r\n                   </svg>\r\n                   <div>\r\n@@ -166,12 +237,12 @@\n   updateSubmitButton(isLoading) {\r\n       const button = document.querySelector('button[type=\"submit\"]');\r\n       if (button) {\r\n           button.innerHTML = isLoading \r\n-              ? `<span>Processing...</span>${this.renderSpinner()}`\r\n+              ? `<span>Processing...</span>${this.renderSpinner()}` \r\n               : '<span>Generate</span>';\r\n           button.disabled = isLoading;\r\n       }\r\n   }\r\n }\r\n \r\n\\ No newline at end of file\n-export { ReferenceInputPage };\n+export { ReferenceInputPage };\r\n"
                },
                {
                    "date": 1731007753912,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,248 +1,1131 @@\n-class ReferenceInputPage {\r\n+// ReferenceInputPage.js\r\n+\r\n+import {\r\n+  fetchBillData,\r\n+  getIsLoading,\r\n+  getError,\r\n+} from \"../store/solarSizingState.js\";\r\n+import { gsap } from \"gsap\";\r\n+\r\n+export class ReferenceInputPage {\r\n   constructor() {\r\n-      this.state = {\r\n-          provider: '',\r\n-          referenceNumber: '',\r\n-          whatsapp: '',\r\n-          isLoading: false\r\n-      };\r\n+    // Form data\r\n+    this.state = {\r\n+      provider: \"\",\r\n+      referenceNumber: \"\",\r\n+      phone: \"\",\r\n+      isLoading: false,\r\n+      error: null,\r\n+      validationErrors: {\r\n+        provider: \"\",\r\n+        referenceNumber: \"\",\r\n+        phone: \"\",\r\n+      },\r\n+    };\r\n \r\n-      // Inject CSS when the class is instantiated\r\n-      this.injectStyles();\r\n+    // Constants for validation\r\n+    this.VALIDATION_RULES = {\r\n+      provider: {\r\n+        required: true,\r\n+        minLength: 2,\r\n+        message: \"Please select a valid electricity provider\",\r\n+      },\r\n+      referenceNumber: {\r\n+        required: true,\r\n+        pattern: /^[0-9]{10,14}$/,\r\n+        message: \"Please enter a valid reference number (10-14 digits)\",\r\n+      },\r\n+      phone: {\r\n+        required: true,\r\n+        pattern: /^\\+?[0-9]{10,14}$/,\r\n+        message: \"Please enter a valid phone number\",\r\n+      },\r\n+    };\r\n+\r\n+    // Available electricity providers\r\n+    this.PROVIDERS = [\r\n+      \"MEPCO\",\r\n+      \"LESCO\",\r\n+      \"IESCO\",\r\n+      \"GEPCO\",\r\n+      \"FESCO\",\r\n+      \"PESCO\",\r\n+      \"QESCO\",\r\n+      \"SEPCO\",\r\n+      \"K-Electric\",\r\n+    ];\r\n+\r\n+    // Bind methods\r\n+    this.handleInput = this.handleInput.bind(this);\r\n+    this.handleSubmit = this.handleSubmit.bind(this);\r\n+    this.validateField = this.validateField.bind(this);\r\n+    this.showToast = this.showToast.bind(this);\r\n   }\r\n \r\n-  injectStyles() {\r\n-      const style = document.createElement('style');\r\n-      style.textContent = `\r\n-          iframe {\r\n-              border-radius: 20px !important;\r\n-          }\r\n-          .player {\r\n-              border-radius: 10px !important;\r\n-          }\r\n-          .main-content:before {\r\n-              animation: grain 4s steps(10) infinite;\r\n-              background-image: url(https://old.yamateos.fr/wp-content/uploads/2021/10/Sans-titre-noise2.jpg);\r\n-              content: \"\";\r\n-              height: 350%;\r\n-              left: -50%;\r\n-              opacity: 0.02;\r\n-              position: fixed;\r\n-              top: -150%;\r\n-              width: 300%;\r\n-              z-index: 999 !important;\r\n-              pointer-events: none;\r\n-          }\r\n+  /**\r\n+   * Initialize the page\r\n+   */\r\n+  async init() {\r\n+    await this.render();\r\n+    this.attachEventListeners();\r\n+    this.initializeAnimations();\r\n+  }\r\n \r\n-          @keyframes grain {\r\n-              0%, 100% {\r\n-                  transform: translate(0, 0);\r\n-              }\r\n-              10% {\r\n-                  transform: translate(-5%, -10%);\r\n-              }\r\n-              20% {\r\n-                  transform: translate(-15%, 5%);\r\n-              }\r\n-              30% {\r\n-                  transform: translate(7%, -25%);\r\n-              }\r\n-              40% {\r\n-                  transform: translate(-5%, 25%);\r\n-              }\r\n-              50% {\r\n-                  transform: translate(-15%, 10%);\r\n-              }\r\n-              60% {\r\n-                  transform: translate(15%, 0%);\r\n-              }\r\n-              70% {\r\n-                  transform: translate(0%, 15%);\r\n-              }\r\n-              80% {\r\n-                  transform: translate(3%, 35%);\r\n-              }\r\n-              90% {\r\n-                  transform: translate(-10%, 10%);\r\n-              }\r\n-          }\r\n+  /**\r\n+   * Shows a toast message\r\n+   * @param {string} message - Message to display\r\n+   * @param {string} type - Type of toast (success, error, info)\r\n+   */\r\n+  showToast(message, type = \"info\") {\r\n+    const toast = document.createElement(\"div\");\r\n+    toast.className = `toast toast-${type}`;\r\n+    toast.textContent = message;\r\n \r\n-          .char {\r\n-              transform: translateY(115px);\r\n-              transition: transform 0.5s;\r\n-          }\r\n+    const container =\r\n+      document.querySelector(\".toast-container\") || this.createToastContainer();\r\n+    container.appendChild(toast);\r\n \r\n-          ::selection {\r\n-              background-color: #e95012;\r\n-          }\r\n-      `;\r\n-      document.head.appendChild(style);\r\n+    // Animate toast\r\n+    gsap.fromTo(\r\n+      toast,\r\n+      { opacity: 0, y: 20 },\r\n+      { opacity: 1, y: 0, duration: 0.3 }\r\n+    );\r\n+\r\n+    // Remove toast after delay\r\n+    setTimeout(() => {\r\n+      gsap.to(toast, {\r\n+        opacity: 0,\r\n+        y: -20,\r\n+        duration: 0.3,\r\n+        onComplete: () => toast.remove(),\r\n+      });\r\n+    }, 3000);\r\n   }\r\n \r\n-  render() {\r\n-      const app = document.getElementById(\"app\");\r\n-      app.innerHTML = `\r\n-          <div class=\"relative w-full h-screen bg-white overflow-hidden main-content\">\r\n-              <!-- Logo Section -->\r\n-              <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n-                  <svg class=\"w-12 h-12 player\" viewBox=\"0 0 60 50\">\r\n-                      <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n-                          class=\"fill-emerald-500\"/>\r\n-                  </svg>\r\n-                  <div>\r\n-                      <h1 class=\"text-2xl font-bold text-gray-800\">ENERGY COVE</h1>\r\n-                      <p class=\"text-sm italic text-gray-600\">Energy for Life</p>\r\n+  /**\r\n+   * Creates a container for toast messages\r\n+   * @returns {HTMLElement} Toast container element\r\n+   */\r\n+  createToastContainer() {\r\n+    const container = document.createElement(\"div\");\r\n+    container.className = \"toast-container\";\r\n+    document.body.appendChild(container);\r\n+    return container;\r\n+  }\r\n+\r\n+  /**\r\n+   * Updates the loading state of the form\r\n+   * @param {boolean} isLoading - Whether the form is loading\r\n+   */\r\n+  setLoading(isLoading) {\r\n+    this.state.isLoading = isLoading;\r\n+    const submitButton = document.querySelector(\".submit-button\");\r\n+    const loadingSpinner = document.querySelector(\".loading-spinner\");\r\n+\r\n+    if (submitButton && loadingSpinner) {\r\n+      if (isLoading) {\r\n+        submitButton.disabled = true;\r\n+        submitButton.querySelector(\"span\").textContent = \"Processing...\";\r\n+        loadingSpinner.style.display = \"inline-block\";\r\n+      } else {\r\n+        submitButton.disabled = false;\r\n+        submitButton.querySelector(\"span\").textContent = \"Generate\";\r\n+        loadingSpinner.style.display = \"none\";\r\n+      }\r\n+    }\r\n+  }\r\n+\r\n+  /**\r\n+   * Creates a loading spinner element\r\n+   * @returns {HTMLElement} Spinner element\r\n+   */\r\n+  createLoadingSpinner() {\r\n+    const spinner = document.createElement(\"div\");\r\n+    spinner.className = \"loading-spinner\";\r\n+    spinner.innerHTML = `\r\n+            <svg viewBox=\"0 0 50 50\" class=\"spinner-svg\">\r\n+                <circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke-width=\"5\"></circle>\r\n+            </svg>\r\n+        `;\r\n+    return spinner;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the page content\r\n+   */\r\n+  async render() {\r\n+    const app = document.getElementById(\"app\");\r\n+    app.innerHTML = `\r\n+      <div class=\"sap_form\">\r\n+          ${this.renderHeader()}\r\n+          ${this.renderMainContent()}\r\n+          ${this.renderWaveDecoration()}\r\n\\ No newline at end of file\n+      </div>\r\n+      ${this.renderStyles()}\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the header section with logo\r\n+   */\r\n+  renderHeader() {\r\n+    return `\r\n+      <header class=\"header\">\r\n+          <div class=\"container\">\r\n+              <div class=\"logo-section\">\r\n+                  ${this.renderLogo()}\r\n+                  <div class=\"logo-text\">\r\n+                      <h1>ENERGY COVE</h1>\r\n+                      <p>Energy for Life</p>\r\n                   </div>\r\n               </div>\r\n+              ${this.renderHeaderContacts()}\r\n+          </div>\r\n+      </header>\r\n+  `;\r\n+  }\r\n \r\n-              <!-- Main Content Grid -->\r\n-              <div class=\"flex h-full\">\r\n-                  <!-- Left Section (2/3) -->\r\n-                  <div class=\"w-2/3 p-8 flex items-center justify-center\">\r\n-                      <div class=\"max-w-md w-full\">\r\n-                          <!-- Form Section -->\r\n-                          <h2 class=\"text-4xl font-bold text-emerald-500 mb-8\">Get your quote</h2>\r\n-                          <form id=\"quote-form\" class=\"space-y-6\">\r\n-                              <!-- Provider Field -->\r\n-                              <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-600\">\r\n-                                      Choose your electricity Provider\r\n-                                  </label>\r\n-                                  <input type=\"text\" \r\n-                                      id=\"provider\"\r\n-                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n-                                      placeholder=\"e.g., MEPCO\">\r\n-                              </div>\r\n+  /**\r\n+   * Renders the logo SVG\r\n+   */\r\n+  renderLogo() {\r\n+    return `\r\n+      <svg class=\"logo-icon\" viewBox=\"0 0 60 50\" width=\"60\" height=\"50\">\r\n+          <path \r\n+              d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n+              fill=\"#00a651\"\r\n+          />\r\n+      </svg>\r\n+  `;\r\n+  }\r\n \r\n-                              <!-- Reference Number Field -->\r\n-                              <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-600\">\r\n-                                      Enter your bill reference number\r\n-                                  </label>\r\n-                                  <input type=\"text\" \r\n-                                      id=\"referenceNumber\"\r\n-                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n-                                      placeholder=\"Enter reference number\">\r\n-                              </div>\r\n+  /**\r\n+   * Renders the header contact information\r\n+   */\r\n+  renderHeaderContacts() {\r\n+    return `\r\n+      <div class=\"header-contacts\">\r\n+          <!-- Mobile Contacts -->\r\n+          <div class=\"mobile-contacts md:hidden\">\r\n+              <a href=\"tel:+923001234567\" class=\"contact-icon\" aria-label=\"Call us\">\r\n+                  ${this.renderPhoneIcon()}\r\n+              </a>\r\n+              <a href=\"mailto:info@energycove.pk\" class=\"contact-icon\" aria-label=\"Email us\">\r\n+                  ${this.renderEmailIcon()}\r\n+              </a>\r\n+              <a href=\"https://wa.me/923001234567\" class=\"contact-icon\" aria-label=\"WhatsApp\">\r\n+                  ${this.renderWhatsAppIcon()}\r\n+              </a>\r\n+          </div>\r\n+          \r\n+          <!-- Desktop Contacts -->\r\n+          <div class=\"desktop-contacts hidden md:block\">\r\n+              <div class=\"contact-label\">Contact us</div>\r\n+              <div class=\"contact-info\">\r\n+                  <a href=\"https://wa.me/923001234567\">WhatsApp</a>\r\n+                  <a href=\"mailto:info@energycove.pk\">info@energycove.pk</a>\r\n+              </div>\r\n+          </div>\r\n+      </div>\r\n+  `;\r\n+  }\r\n \r\n-                              <!-- WhatsApp Field -->\r\n-                              <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-600\">\r\n-                                      Enter your WhatsApp phone Number\r\n-                                  </label>\r\n-                                  <input type=\"tel\" \r\n-                                      id=\"whatsapp\"\r\n-                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n-                                      placeholder=\"+92 XXX XXXXXXX\">\r\n-                              </div>\r\n-\r\n-                              <!-- Submit Button -->\r\n-                              <button type=\"submit\" \r\n-                                  class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2\">\r\n-                                  <span>Generate</span>\r\n-                                  ${this.state.isLoading ? this.renderSpinner() : ''}\r\n-                              </button>\r\n-                          </form>\r\n-                      </div>\r\n+  /**\r\n+   * Renders the main content section\r\n+   */\r\n+  renderMainContent() {\r\n+    return `\r\n+      <main class=\"main-content\">\r\n+          <div class=\"container\">\r\n+              <div class=\"content-grid\">\r\n+                  <!-- Left Section: Form -->\r\n+                  <div class=\"form-section\">\r\n+                      <h2 class=\"form-title animate-slide-up\">\r\n+                          Get your solar quote\r\n+                      </h2>\r\n+                      ${this.renderForm()}\r\n                   </div>\r\n \r\n-                  <!-- Right Section (1/3) -->\r\n-                  <div class=\"w-1/3 bg-emerald-500 p-8 flex flex-col relative\">\r\n-                      <div class=\"text-white mt-16 space-y-2\">\r\n-                          <p class=\"text-2xl leading-relaxed\">\r\n+                  <!-- Right Section: Info -->\r\n+                  <div class=\"info-section\">\r\n+                      <div class=\"info-content animate-fade-in\">\r\n+                          <h3>\r\n                               Our AI tool quickly provides\r\n-                              <br />the ideal system size and\r\n-                              <br />savings estimateno\r\n-                              <br />in-person consultation\r\n-                              <br />needed. Get the fastest\r\n-                              <br />solar quote in Pakistan!\r\n-                          </p>\r\n+                              the ideal system size and\r\n+                              savings estimateno\r\n+                              in-person consultation\r\n+                              needed. Get the fastest\r\n+                              solar quote in Pakistan!\r\n+                          </h3>\r\n+                          <div class=\"powered-by\">POWERED BY AI</div>\r\n                       </div>\r\n-                      <div class=\"absolute bottom-24 text-white\">\r\n-                          <p class=\"text-2xl font-bold\">POWERED BY AI</p>\r\n-                      </div>\r\n                   </div>\r\n               </div>\r\n-\r\n-              <!-- Decorative Waves -->\r\n-              <div class=\"absolute bottom-0 w-full\">\r\n-                  <svg class=\"w-full h-24\" viewBox=\"0 0 1200 100\" preserveAspectRatio=\"none\">\r\n-                      <path d=\"M0,20 C200,0 400,40 600,20 S800,0 1200,20 L1200,100 L0,100 Z\"\r\n-                          class=\"fill-emerald-500 opacity-30\"/>\r\n-                      <path d=\"M0,40 C200,20 400,60 600,40 S800,20 1200,40 L1200,100 L0,100 Z\"\r\n-                          class=\"fill-yellow-400 opacity-50\"/>\r\n-                  </svg>\r\n-              </div>\r\n           </div>\r\n-      `;\r\n+      </main>\r\n+  `;\r\n+  }\r\n \r\n-      this.attachEventListeners();\r\n+  /**\r\n+   * Renders the form element\r\n+   */\r\n+  renderForm() {\r\n+    return `\r\n+      <form id=\"quote-form\" class=\"quote-form animate-fade-in\" novalidate>\r\n+          ${this.renderProviderField()}\r\n+          ${this.renderReferenceNumberField()}\r\n+          ${this.renderPhoneField()}\r\n+          ${this.renderSubmitButton()}\r\n+      </form>\r\n+  `;\r\n   }\r\n \r\n-  renderSpinner() {\r\n-      return `\r\n-          <svg class=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n-              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n-              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n-          </svg>\r\n-      `;\r\n+  /**\r\n+   * Renders the provider selection field\r\n+   */\r\n+  renderProviderField() {\r\n+    const { provider } = this.state;\r\n+    const error = this.state.validationErrors.provider;\r\n+\r\n+    return `\r\n+      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n+          <label for=\"provider\" class=\"form-label\">\r\n+              Choose your electricity Provider\r\n+          </label>\r\n+          <select \r\n+              id=\"provider\" \r\n+              name=\"provider\"\r\n+              class=\"form-select\"\r\n+              required\r\n+              value=\"${provider}\"\r\n+          >\r\n+              <option value=\"\">Select Provider</option>\r\n+              ${this.PROVIDERS.map(\r\n+                (p) => `\r\n+                  <option value=\"${p}\" ${provider === p ? \"selected\" : \"\"}>\r\n+                      ${p}\r\n+                  </option>\r\n+              `\r\n+              ).join(\"\")}\r\n+          </select>\r\n+          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n+      </div>\r\n+  `;\r\n   }\r\n \r\n+  /**\r\n+   * Renders the reference number input field\r\n+   */\r\n+  renderReferenceNumberField() {\r\n+    const { referenceNumber } = this.state;\r\n+    const error = this.state.validationErrors.referenceNumber;\r\n+\r\n+    return `\r\n+      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n+          <label for=\"referenceNumber\" class=\"form-label\">\r\n+              Enter your bill reference number\r\n+          </label>\r\n+          <input \r\n+              type=\"text\" \r\n+              id=\"referenceNumber\"\r\n+              name=\"referenceNumber\"\r\n+              class=\"form-input\"\r\n+              required\r\n+              pattern=\"[0-9]{10,14}\"\r\n+              value=\"${referenceNumber}\"\r\n+              placeholder=\"e.g., 1234567890\"\r\n+          />\r\n+          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n+      </div>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the phone number input field\r\n+   */\r\n+  renderPhoneField() {\r\n+    const { phone } = this.state;\r\n+    const error = this.state.validationErrors.phone;\r\n+\r\n+    return `\r\n+      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n+          <label for=\"phone\" class=\"form-label\">\r\n+              Enter your WhatsApp phone number\r\n+          </label>\r\n+          <input \r\n+              type=\"tel\" \r\n+              id=\"phone\"\r\n+              name=\"phone\"\r\n+              class=\"form-input\"\r\n+              required\r\n+              pattern=\"[+]?[0-9]{10,14}\"\r\n+              value=\"${phone}\"\r\n+              placeholder=\"+92 300 1234567\"\r\n+          />\r\n+          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n+      </div>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the submit button\r\n+   */\r\n+  renderSubmitButton() {\r\n+    return `\r\n+      <div class=\"form-group\">\r\n+          <button type=\"submit\" class=\"submit-button\" ${\r\n+            this.state.isLoading ? \"disabled\" : \"\"\r\n+          }>\r\n+              <span>${\r\n+                this.state.isLoading ? \"Processing...\" : \"Generate\"\r\n+              }</span>\r\n+              ${\r\n+                this.state.isLoading\r\n+                  ? this.createLoadingSpinner().outerHTML\r\n+                  : \"\"\r\n+              }\r\n+          </button>\r\n+      </div>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the wave decoration at the bottom\r\n+   */\r\n+  renderWaveDecoration() {\r\n+    return `\r\n+      <div class=\"wave-decoration\">\r\n+          <div class=\"wave wave-1\"></div>\r\n+          <div class=\"wave wave-2\"></div>\r\n+      </div>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the SVG icons\r\n+   */\r\n+  renderPhoneIcon() {\r\n+    return `\r\n+      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+          <path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"/>\r\n+      </svg>\r\n+  `;\r\n+  }\r\n+\r\n+  renderEmailIcon() {\r\n+    return `\r\n+      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+          <path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"/>\r\n+          <polyline points=\"22,6 12,13 2,6\"/>\r\n+      </svg>\r\n+  `;\r\n+  }\r\n+\r\n+  renderWhatsAppIcon() {\r\n+    return `\r\n+      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+          <path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"/>\r\n+      </svg>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Attaches event listeners to form elements\r\n+   */\r\n   attachEventListeners() {\r\n-      const form = document.getElementById('quote-form');\r\n-      const inputs = form.querySelectorAll('input');\r\n+    const form = document.getElementById(\"quote-form\");\r\n+    const inputs = form.querySelectorAll(\"input, select\");\r\n \r\n-      form.addEventListener('submit', this.handleSubmit.bind(this));\r\n-      inputs.forEach(input => {\r\n-          input.addEventListener('input', this.handleInput.bind(this));\r\n-      });\r\n+    // Form submission\r\n+    form.addEventListener(\"submit\", this.handleSubmit);\r\n+\r\n+    // Input events\r\n+    inputs.forEach((input) => {\r\n+      input.addEventListener(\"input\", this.handleInput);\r\n+      input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n+      input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n+    });\r\n+\r\n+    // Add resize listener for responsive adjustments\r\n+    window.addEventListener(\"resize\", this.handleResize.bind(this));\r\n   }\r\n \r\n+  /**\r\n+   * Handles form input changes\r\n+   * @param {Event} event - Input event\r\n+   */\r\n   handleInput(event) {\r\n-      const { id, value } = event.target;\r\n-      this.state[id] = value;\r\n+    const { name, value } = event.target;\r\n+    this.state[name] = value;\r\n+\r\n+    // Clear validation error when user starts typing\r\n+    this.state.validationErrors[name] = \"\";\r\n+\r\n+    // Remove error styling\r\n+    event.target.closest(\".form-group\").classList.remove(\"has-error\");\r\n   }\r\n \r\n-  async handleSubmit(event) {\r\n-      event.preventDefault();\r\n-      \r\n-      if (this.state.isLoading) return;\r\n+  /**\r\n+   * Handles input blur events\r\n+   * @param {Event} event - Blur event\r\n+   */\r\n+  handleBlur(event) {\r\n+    const { name, value } = event.target;\r\n \r\n-      if (!this.validateForm()) {\r\n-          alert('Please fill in all fields');\r\n-          return;\r\n-      }\r\n+    // Validate field on blur\r\n+    const error = this.validateField(name, value);\r\n+    if (error) {\r\n+      this.state.validationErrors[name] = error;\r\n+      event.target.closest(\".form-group\").classList.add(\"has-error\");\r\n+    }\r\n+  }\r\n \r\n-      try {\r\n-          this.state.isLoading = true;\r\n-          this.updateSubmitButton(true);\r\n+  /**\r\n+   * Handles input focus events\r\n+   * @param {Event} event - Focus event\r\n+   */\r\n+  handleFocus(event) {\r\n+    const formGroup = event.target.closest(\".form-group\");\r\n+    formGroup.classList.add(\"is-focused\");\r\n \r\n-          await fetchBillData(this.state.referenceNumber);\r\n-          window.router.push('/quote');\r\n-      } catch (error) {\r\n-          console.error('Error:', error);\r\n-          alert('Failed to generate quote. Please try again.');\r\n-      } finally {\r\n-          this.state.isLoading = false;\r\n-          this.updateSubmitButton(false);\r\n-      }\r\n+    // Add floating label animation\r\n+    const label = formGroup.querySelector(\".form-label\");\r\n+    if (label) {\r\n+      gsap.to(label, {\r\n+        y: -20,\r\n+        scale: 0.85,\r\n+        duration: 0.3,\r\n+        ease: \"power2.out\",\r\n+      });\r\n+    }\r\n   }\r\n \r\n-  validateForm() {\r\n-      return this.state.provider && \r\n-             this.state.referenceNumber && \r\n-             this.state.whatsapp;\r\n+  /**\r\n+   * Validates a single form field\r\n+   * @param {string} fieldName - Name of the field to validate\r\n+   * @param {string} value - Value to validate\r\n+   * @returns {string|null} Error message or null if valid\r\n+   */\r\n+  validateField(fieldName, value) {\r\n+    const rules = this.VALIDATION_RULES[fieldName];\r\n+    if (!rules) return null;\r\n+\r\n+    if (rules.required && !value) {\r\n+      return `${\r\n+        fieldName.charAt(0).toUpperCase() + fieldName.slice(1)\r\n+      } is required`;\r\n+    }\r\n+\r\n+    if (rules.pattern && !rules.pattern.test(value)) {\r\n+      return rules.message;\r\n+    }\r\n+\r\n+    if (rules.minLength && value.length < rules.minLength) {\r\n+      return `${\r\n+        fieldName.charAt(0).toUpperCase() + fieldName.slice(1)\r\n+      } must be at least ${rules.minLength} characters`;\r\n+    }\r\n+\r\n+    return null;\r\n   }\r\n \r\n-  updateSubmitButton(isLoading) {\r\n-      const button = document.querySelector('button[type=\"submit\"]');\r\n-      if (button) {\r\n-          button.innerHTML = isLoading \r\n-              ? `<span>Processing...</span>${this.renderSpinner()}` \r\n-              : '<span>Generate</span>';\r\n-          button.disabled = isLoading;\r\n+  /**\r\n+   * Validates the entire form\r\n+   * @returns {boolean} Whether the form is valid\r\n+   */\r\n+  validateForm() {\r\n+    let isValid = true;\r\n+    const formData = {\r\n+      provider: this.state.provider,\r\n+      referenceNumber: this.state.referenceNumber,\r\n+      phone: this.state.phone,\r\n+    };\r\n+\r\n+    // Validate each field\r\n+    Object.keys(formData).forEach((fieldName) => {\r\n+      const error = this.validateField(fieldName, formData[fieldName]);\r\n+      if (error) {\r\n+        this.state.validationErrors[fieldName] = error;\r\n+        isValid = false;\r\n+\r\n+        // Add error styling\r\n+        const formGroup = document\r\n+          .querySelector(`[name=\"${fieldName}\"]`)\r\n+          .closest(\".form-group\");\r\n+        formGroup.classList.add(\"has-error\");\r\n       }\r\n+    });\r\n+\r\n+    return isValid;\r\n   }\r\n+\r\n+  /**\r\n+   * Handles form submission\r\n+   * @param {Event} event - Submit event\r\n+   */\r\n+  async handleSubmit(event) {\r\n+    event.preventDefault();\r\n+\r\n+    if (this.state.isLoading) return;\r\n+\r\n+    if (!this.validateForm()) {\r\n+      this.showToast(\"Please fix the errors in the form\", \"error\");\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      this.setLoading(true);\r\n+      this.showToast(\"Generating your quote...\", \"info\");\r\n+\r\n+      // Submit the form data\r\n+      await fetchBillData(this.state.referenceNumber);\r\n+\r\n+      // Show success message\r\n+      this.showToast(\"Quote generated successfully!\", \"success\");\r\n+\r\n+      // Navigate to quote page\r\n+      window.router.push(\"/quote\");\r\n+    } catch (error) {\r\n+      console.error(\"Error submitting form:\", error);\r\n+      this.showToast(\"Failed to generate quote. Please try again.\", \"error\");\r\n+    } finally {\r\n+      this.setLoading(false);\r\n+    }\r\n+  }\r\n+\r\n+  /**\r\n+   * Handles window resize events\r\n+   */\r\n+  handleResize() {\r\n+    // Update layout classes based on window size\r\n+    const container = document.querySelector(\".container\");\r\n+    if (window.innerWidth < 768) {\r\n+      container.classList.remove(\"desktop-layout\");\r\n+      container.classList.add(\"mobile-layout\");\r\n+    } else {\r\n+      container.classList.remove(\"mobile-layout\");\r\n+      container.classList.add(\"desktop-layout\");\r\n+    }\r\n+  }\r\n+\r\n+  /**\r\n+   * Initializes page animations\r\n+   */\r\n+  initializeAnimations() {\r\n+    // Animate form elements\r\n+    gsap.from(\".form-title\", {\r\n+      y: 30,\r\n+      opacity: 0,\r\n+      duration: 0.8,\r\n+      ease: \"power3.out\",\r\n+    });\r\n+\r\n+    gsap.from(\".form-group\", {\r\n+      y: 20,\r\n+      opacity: 0,\r\n+      duration: 0.5,\r\n+      stagger: 0.1,\r\n+      ease: \"power2.out\",\r\n+    });\r\n+\r\n+    // Animate info section\r\n+    gsap.from(\".info-section\", {\r\n+      x: 50,\r\n+      opacity: 0,\r\n+      duration: 0.8,\r\n+      ease: \"power3.out\",\r\n+    });\r\n+\r\n+    // Animate wave decoration\r\n+    gsap.from(\".wave\", {\r\n+      scaleY: 0,\r\n+      transformOrigin: \"bottom\",\r\n+      duration: 1,\r\n+      ease: \"power2.out\",\r\n+      stagger: 0.2,\r\n+    });\r\n+  }\r\n+\r\n+  /**\r\n+   * Cleans up event listeners and animations\r\n+   */\r\n+  cleanup() {\r\n+    // Remove event listeners\r\n+    window.removeEventListener(\"resize\", this.handleResize);\r\n+\r\n+    // Kill all GSAP animations\r\n+    gsap.killTweensOf(\".form-title\");\r\n+    gsap.killTweensOf(\".form-group\");\r\n+    gsap.killTweensOf(\".info-section\");\r\n+    gsap.killTweensOf(\".wave\");\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the core styles for the page\r\n+   */\r\n+  renderStyles() {\r\n+    return `\r\n+      <style>\r\n+          /* CSS Reset and Variables */\r\n+          :root {\r\n+              --color-primary: #00a651;\r\n+              --color-primary-dark: #008c44;\r\n+              --color-primary-light: rgba(0, 166, 81, 0.1);\r\n+              --color-yellow: #ffde17;\r\n+              --color-error: #ef4444;\r\n+              --color-success: #10b981;\r\n+              --color-text: #2c3e50;\r\n+              --color-text-light: #7f8c8d;\r\n+              --color-background: #ffffff;\r\n+              --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\r\n+              --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n+              --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\r\n+              --border-radius: 0.5rem;\r\n+              --transition: all 0.3s ease;\r\n+          }\r\n+\r\n+          /* Base Styles */\r\n+          * {\r\n+              margin: 0;\r\n+              padding: 0;\r\n+              box-sizing: border-box;\r\n+          }\r\n+\r\n+          body {\r\n+              font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\r\n+              color: var(--color-text);\r\n+              line-height: 1.5;\r\n+              -webkit-font-smoothing: antialiased;\r\n+          }\r\n+\r\n+          /* Layout */\r\n+          .sap_form {\r\n+              min-height: 100vh;\r\n+              background-color: var(--color-background);\r\n+              position: relative;\r\n+              overflow: hidden;\r\n+          }\r\n+\r\n+          .container {\r\n+              max-width: 1200px;\r\n+              margin: 0 auto;\r\n+              padding: 0 1rem;\r\n+          }\r\n+\r\n+          .content-grid {\r\n+              display: grid;\r\n+              grid-template-columns: 2fr 1fr;\r\n+              gap: 2rem;\r\n+              position: relative;\r\n+              padding: 2rem 0;\r\n+          }\r\n+\r\n+          /* Header Styles */\r\n+          .header {\r\n+              padding: 1.5rem 0;\r\n+              border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n+          }\r\n+\r\n+          .logo-section {\r\n+              display: flex;\r\n+              align-items: center;\r\n+              gap: 1rem;\r\n+          }\r\n+\r\n+          .logo-icon {\r\n+              width: 60px;\r\n+              height: 50px;\r\n+              flex-shrink: 0;\r\n+          }\r\n+\r\n+          .logo-text h1 {\r\n+              font-size: 1.5rem;\r\n+              font-weight: bold;\r\n+              color: var(--color-text);\r\n+              line-height: 1.2;\r\n+          }\r\n+\r\n+          .logo-text p {\r\n+              font-size: 0.875rem;\r\n+              color: var(--color-text-light);\r\n+              font-style: italic;\r\n+          }\r\n+\r\n+          /* Contact Section Styles */\r\n+          .header-contacts {\r\n+              margin-top: 1rem;\r\n+          }\r\n+\r\n+          .contact-label {\r\n+              font-size: 1.125rem;\r\n+              color: var(--color-text-light);\r\n+              margin-bottom: 0.5rem;\r\n+          }\r\n+\r\n+          .contact-info {\r\n+              display: flex;\r\n+              justify-content: space-between;\r\n+              gap: 2rem;\r\n+          }\r\n+\r\n+          .contact-info a {\r\n+              color: var(--color-text-light);\r\n+              text-decoration: none;\r\n+              transition: var(--transition);\r\n+          }\r\n+\r\n+          .contact-info a:hover {\r\n+              color: var(--color-primary);\r\n+          }\r\n+\r\n+          .mobile-contacts {\r\n+              display: flex;\r\n+              gap: 1rem;\r\n+              justify-content: flex-end;\r\n+          }\r\n+\r\n+          .contact-icon {\r\n+              width: 40px;\r\n+              height: 40px;\r\n+              display: flex;\r\n+              align-items: center;\r\n+              justify-content: center;\r\n+              background-color: var(--color-primary-light);\r\n+              border-radius: 50%;\r\n+              color: var(--color-primary);\r\n+              transition: var(--transition);\r\n+          }\r\n+\r\n+          .contact-icon:hover {\r\n+              background-color: var(--color-primary);\r\n+              color: white;\r\n+              transform: translateY(-2px);\r\n+          }\r\n+\r\n+          .contact-icon svg {\r\n+              width: 20px;\r\n+              height: 20px;\r\n+          }\r\n+\r\n+          /* Form Section Styles */\r\n+          .form-section {\r\n+              padding: 2rem;\r\n+              background-color: var(--color-background);\r\n+              border-radius: var(--border-radius);\r\n+              box-shadow: var(--shadow-md);\r\n+          }\r\n+\r\n+          .form-title {\r\n+              font-size: 2.25rem;\r\n+              font-weight: bold;\r\n+              color: var(--color-primary);\r\n+              margin-bottom: 2rem;\r\n+              line-height: 1.2;\r\n+          }\r\n+\r\n+          .quote-form {\r\n+              display: flex;\r\n+              flex-direction: column;\r\n+              gap: 1.5rem;\r\n+          }\r\n+\r\n+          /* Right Info Section */\r\n+          .info-section {\r\n+              background-color: var(--color-primary);\r\n+              color: white;\r\n+              padding: 2rem;\r\n+              border-radius: var(--border-radius);\r\n+              position: relative;\r\n+          }\r\n+\r\n+          .info-content h3 {\r\n+              font-size: 1.5rem;\r\n+              line-height: 1.4;\r\n+              font-weight: normal;\r\n+              margin-bottom: 2rem;\r\n+          }\r\n+\r\n+          .powered-by {\r\n+              position: absolute;\r\n+              bottom: 2rem;\r\n+              font-size: 1.5rem;\r\n+              font-weight: bold;\r\n+          }\r\n+\r\n+          /* Wave Decoration */\r\n+          .wave-decoration {\r\n+              position: absolute;\r\n+              bottom: 0;\r\n+              left: 0;\r\n+              right: 0;\r\n+              height: 120px;\r\n+              overflow: hidden;\r\n+          }\r\n+\r\n+          .wave {\r\n+              position: absolute;\r\n+              bottom: 0;\r\n+              left: 0;\r\n+              right: 0;\r\n+              height: 100%;\r\n+          }\r\n+\r\n+          .wave-1 {\r\n+              background: var(--color-primary);\r\n+              opacity: 0.3;\r\n+              clip-path: path('M0,64 C200,44 400,84 600,64 S800,44 1200,64 L1200,100 L0,100 Z');\r\n+          }\r\n+\r\n+          .wave-2 {\r\n+              background: var(--color-yellow);\r\n+              opacity: 0.5;\r\n+              clip-path: path('M0,74 C200,54 400,94 600,74 S800,54 1200,74 L1200,100 L0,100 Z');\r\n+          }\r\n+      </style>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the form-specific styles and animations\r\n+   */\r\n+  renderFormStyles() {\r\n+    return `\r\n+      <style>\r\n+          /* Form Group Styles */\r\n+          .form-group {\r\n+              position: relative;\r\n+              margin-bottom: 1.5rem;\r\n+          }\r\n+\r\n+          .form-label {\r\n+              display: block;\r\n+              font-size: 0.875rem;\r\n+              color: var(--color-text-light);\r\n+              margin-bottom: 0.5rem;\r\n+              transition: var(--transition);\r\n+              transform-origin: left;\r\n+          }\r\n+\r\n+          .form-input,\r\n+          .form-select {\r\n+              width: 100%;\r\n+              padding: 0.75rem 1rem;\r\n+              font-size: 1rem;\r\n+              border: 1px solid #e2e8f0;\r\n+              border-radius: var(--border-radius);\r\n+              background-color: white;\r\n+              transition: var(--transition);\r\n+              color: var(--color-text);\r\n+          }\r\n+\r\n+          .form-input:focus,\r\n+          .form-select:focus {\r\n+              outline: none;\r\n+              border-color: var(--color-primary);\r\n+              box-shadow: 0 0 0 3px var(--color-primary-light);\r\n+          }\r\n+\r\n+          .form-select {\r\n+              appearance: none;\r\n+              background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236B7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\");\r\n+              background-position: right 0.5rem center;\r\n+              background-repeat: no-repeat;\r\n+              background-size: 1.5em 1.5em;\r\n+              padding-right: 2.5rem;\r\n+          }\r\n+\r\n+          /* Form States */\r\n+          .form-group.has-error .form-input,\r\n+          .form-group.has-error .form-select {\r\n+              border-color: var(--color-error);\r\n+          }\r\n+\r\n+          .form-group.has-error .form-label {\r\n+              color: var(--color-error);\r\n+          }\r\n+\r\n+          .form-group.is-focused .form-label {\r\n+              color: var(--color-primary);\r\n+          }\r\n+\r\n+          .error-message {\r\n+              font-size: 0.75rem;\r\n+              color: var(--color-error);\r\n+              margin-top: 0.25rem;\r\n+              opacity: 0;\r\n+              transform: translateY(-10px);\r\n+              animation: slideDown 0.3s ease forwards;\r\n+          }\r\n+\r\n+          /* Submit Button */\r\n+          .submit-button {\r\n+              width: 100%;\r\n+              padding: 1rem;\r\n+              background-color: var(--color-primary);\r\n+              color: white;\r\n+              border: none;\r\n+              border-radius: 9999px;\r\n+              font-size: 1.125rem;\r\n+              font-weight: 500;\r\n+              cursor: pointer;\r\n+              transition: var(--transition);\r\n+              display: flex;\r\n+              align-items: center;\r\n+              justify-content: center;\r\n+              gap: 0.5rem;\r\n+          }\r\n+\r\n+          .submit-button:not(:disabled):hover {\r\n+              background-color: var(--color-primary-dark);\r\n+              transform: translateY(-2px);\r\n+          }\r\n+\r\n+          .submit-button:disabled {\r\n+              opacity: 0.7;\r\n+              cursor: not-allowed;\r\n+          }\r\n+\r\n+          /* Loading Spinner */\r\n+          .loading-spinner {\r\n+              display: inline-block;\r\n+              width: 24px;\r\n+              height: 24px;\r\n+          }\r\n+\r\n+          .spinner-svg {\r\n+              animation: rotate 1s linear infinite;\r\n+          }\r\n+\r\n+          .spinner-svg circle {\r\n+              stroke: currentColor;\r\n+              stroke-dasharray: 80px, 200px;\r\n+              stroke-dashoffset: 0;\r\n+              animation: dash 1.5s ease-in-out infinite;\r\n+          }\r\n+\r\n+          /* Toast Notifications */\r\n+          .toast-container {\r\n+              position: fixed;\r\n+              top: 1rem;\r\n+              right: 1rem;\r\n+              z-index: 1000;\r\n+              display: flex;\r\n+              flex-direction: column;\r\n+              gap: 0.5rem;\r\n+          }\r\n+\r\n+          .toast {\r\n+              padding: 1rem 1.5rem;\r\n+              border-radius: var(--border-radius);\r\n+              background-color: white;\r\n+              color: var(--color-text);\r\n+              box-shadow: var(--shadow-lg);\r\n+              min-width: 200px;\r\n+              max-width: 400px;\r\n+          }\r\n+\r\n+          .toast-success {\r\n+              border-left: 4px solid var(--color-success);\r\n+          }\r\n+\r\n+          .toast-error {\r\n+              border-left: 4px solid var(--color-error);\r\n+          }\r\n+\r\n+          .toast-info {\r\n+              border-left: 4px solid var(--color-primary);\r\n+          }\r\n+\r\n+          /* Animations */\r\n+          @keyframes slideDown {\r\n+              from {\r\n+                  opacity: 0;\r\n+                  transform: translateY(-10px);\r\n+              }\r\n+              to {\r\n+                  opacity: 1;\r\n+                  transform: translateY(0);\r\n+              }\r\n+          }\r\n+\r\n+          @keyframes rotate {\r\n+              100% {\r\n+                  transform: rotate(360deg);\r\n+              }\r\n+          }\r\n+\r\n+          @keyframes dash {\r\n+              0% {\r\n+                  stroke-dasharray: 1, 200;\r\n+                  stroke-dashoffset: 0;\r\n+              }\r\n+              50% {\r\n+                  stroke-dasharray: 89, 200;\r\n+                  stroke-dashoffset: -35px;\r\n+              }\r\n+              100% {\r\n+                  stroke-dasharray: 89, 200;\r\n+                  stroke-dashoffset: -124px;\r\n+              }\r\n+          }\r\n+\r\n+          /* Responsive Design */\r\n+          @media (max-width: 768px) {\r\n+              .content-grid {\r\n+                  grid-template-columns: 1fr;\r\n+              }\r\n+\r\n+              .form-title {\r\n+                  font-size: 1.875rem;\r\n+              }\r\n+\r\n+              .info-section {\r\n+                  margin-top: 2rem;\r\n+              }\r\n+\r\n+              .desktop-contacts {\r\n+                  display: none;\r\n+              }\r\n+\r\n+              .mobile-contacts {\r\n+                  display: flex;\r\n+              }\r\n+\r\n+              .wave-decoration {\r\n+                  height: 80px;\r\n+              }\r\n+          }\r\n+\r\n+          /* Utility Classes */\r\n+          .hidden {\r\n+              display: none;\r\n+          }\r\n+\r\n+          .animate-fade-in {\r\n+              animation: fadeIn 0.5s ease-out;\r\n+          }\r\n+\r\n+          .animate-slide-up {\r\n+              animation: slideUp 0.5s ease-out;\r\n+          }\r\n+\r\n+          @keyframes fadeIn {\r\n+              from { opacity: 0; }\r\n+              to { opacity: 1; }\r\n+          }\r\n+\r\n+          @keyframes slideUp {\r\n+              from { \r\n+                  opacity: 0;\r\n+                  transform: translateY(20px);\r\n+              }\r\n+              to {\r\n+                  opacity: 1;\r\n+                  transform: translateY(0);\r\n+              }\r\n+          }\r\n+      </style>\r\n+  `;\r\n+  }\r\n }\r\n-\r\n-export { ReferenceInputPage };\n"
                },
                {
                    "date": 1731007760673,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1131 +1,177 @@\n-// ReferenceInputPage.js\r\n-\r\n-import {\r\n-  fetchBillData,\r\n-  getIsLoading,\r\n-  getError,\r\n-} from \"../store/solarSizingState.js\";\r\n-import { gsap } from \"gsap\";\r\n-\r\n-export class ReferenceInputPage {\r\n+class ReferenceInputPage {\r\n   constructor() {\r\n-    // Form data\r\n-    this.state = {\r\n-      provider: \"\",\r\n-      referenceNumber: \"\",\r\n-      phone: \"\",\r\n-      isLoading: false,\r\n-      error: null,\r\n-      validationErrors: {\r\n-        provider: \"\",\r\n-        referenceNumber: \"\",\r\n-        phone: \"\",\r\n-      },\r\n-    };\r\n-\r\n-    // Constants for validation\r\n-    this.VALIDATION_RULES = {\r\n-      provider: {\r\n-        required: true,\r\n-        minLength: 2,\r\n-        message: \"Please select a valid electricity provider\",\r\n-      },\r\n-      referenceNumber: {\r\n-        required: true,\r\n-        pattern: /^[0-9]{10,14}$/,\r\n-        message: \"Please enter a valid reference number (10-14 digits)\",\r\n-      },\r\n-      phone: {\r\n-        required: true,\r\n-        pattern: /^\\+?[0-9]{10,14}$/,\r\n-        message: \"Please enter a valid phone number\",\r\n-      },\r\n-    };\r\n-\r\n-    // Available electricity providers\r\n-    this.PROVIDERS = [\r\n-      \"MEPCO\",\r\n-      \"LESCO\",\r\n-      \"IESCO\",\r\n-      \"GEPCO\",\r\n-      \"FESCO\",\r\n-      \"PESCO\",\r\n-      \"QESCO\",\r\n-      \"SEPCO\",\r\n-      \"K-Electric\",\r\n-    ];\r\n-\r\n-    // Bind methods\r\n-    this.handleInput = this.handleInput.bind(this);\r\n-    this.handleSubmit = this.handleSubmit.bind(this);\r\n-    this.validateField = this.validateField.bind(this);\r\n-    this.showToast = this.showToast.bind(this);\r\n+      this.state = {\r\n+          provider: '',\r\n+          referenceNumber: '',\r\n+          whatsapp: '',\r\n+          isLoading: false\r\n+      };\r\n   }\r\n \r\n-  /**\r\n-   * Initialize the page\r\n-   */\r\n-  async init() {\r\n-    await this.render();\r\n-    this.attachEventListeners();\r\n-    this.initializeAnimations();\r\n-  }\r\n-\r\n-  /**\r\n-   * Shows a toast message\r\n-   * @param {string} message - Message to display\r\n-   * @param {string} type - Type of toast (success, error, info)\r\n-   */\r\n-  showToast(message, type = \"info\") {\r\n-    const toast = document.createElement(\"div\");\r\n-    toast.className = `toast toast-${type}`;\r\n-    toast.textContent = message;\r\n-\r\n-    const container =\r\n-      document.querySelector(\".toast-container\") || this.createToastContainer();\r\n-    container.appendChild(toast);\r\n-\r\n-    // Animate toast\r\n-    gsap.fromTo(\r\n-      toast,\r\n-      { opacity: 0, y: 20 },\r\n-      { opacity: 1, y: 0, duration: 0.3 }\r\n-    );\r\n-\r\n-    // Remove toast after delay\r\n-    setTimeout(() => {\r\n-      gsap.to(toast, {\r\n-        opacity: 0,\r\n-        y: -20,\r\n-        duration: 0.3,\r\n-        onComplete: () => toast.remove(),\r\n-      });\r\n-    }, 3000);\r\n-  }\r\n-\r\n-  /**\r\n-   * Creates a container for toast messages\r\n-   * @returns {HTMLElement} Toast container element\r\n-   */\r\n-  createToastContainer() {\r\n-    const container = document.createElement(\"div\");\r\n-    container.className = \"toast-container\";\r\n-    document.body.appendChild(container);\r\n-    return container;\r\n-  }\r\n-\r\n-  /**\r\n-   * Updates the loading state of the form\r\n-   * @param {boolean} isLoading - Whether the form is loading\r\n-   */\r\n-  setLoading(isLoading) {\r\n-    this.state.isLoading = isLoading;\r\n-    const submitButton = document.querySelector(\".submit-button\");\r\n-    const loadingSpinner = document.querySelector(\".loading-spinner\");\r\n-\r\n-    if (submitButton && loadingSpinner) {\r\n-      if (isLoading) {\r\n-        submitButton.disabled = true;\r\n-        submitButton.querySelector(\"span\").textContent = \"Processing...\";\r\n-        loadingSpinner.style.display = \"inline-block\";\r\n-      } else {\r\n-        submitButton.disabled = false;\r\n-        submitButton.querySelector(\"span\").textContent = \"Generate\";\r\n-        loadingSpinner.style.display = \"none\";\r\n-      }\r\n-    }\r\n-  }\r\n-\r\n-  /**\r\n-   * Creates a loading spinner element\r\n-   * @returns {HTMLElement} Spinner element\r\n-   */\r\n-  createLoadingSpinner() {\r\n-    const spinner = document.createElement(\"div\");\r\n-    spinner.className = \"loading-spinner\";\r\n-    spinner.innerHTML = `\r\n-            <svg viewBox=\"0 0 50 50\" class=\"spinner-svg\">\r\n-                <circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke-width=\"5\"></circle>\r\n-            </svg>\r\n-        `;\r\n-    return spinner;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the page content\r\n-   */\r\n-  async render() {\r\n-    const app = document.getElementById(\"app\");\r\n-    app.innerHTML = `\r\n-      <div class=\"sap_form\">\r\n-          ${this.renderHeader()}\r\n-          ${this.renderMainContent()}\r\n-          ${this.renderWaveDecoration()}\r\n-      </div>\r\n-      ${this.renderStyles()}\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the header section with logo\r\n-   */\r\n-  renderHeader() {\r\n-    return `\r\n-      <header class=\"header\">\r\n-          <div class=\"container\">\r\n-              <div class=\"logo-section\">\r\n-                  ${this.renderLogo()}\r\n-                  <div class=\"logo-text\">\r\n-                      <h1>ENERGY COVE</h1>\r\n-                      <p>Energy for Life</p>\r\n+  render() {\r\n+      const app = document.getElementById(\"app\");\r\n+      app.innerHTML = `\r\n+          <div class=\"relative w-full h-screen bg-white overflow-hidden\">\r\n+              <!-- Logo Section -->\r\n+              <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n+                  <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n+                      <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n+                          class=\"fill-emerald-500\"/>\r\n+                  </svg>\r\n+                  <div>\r\n+                      <h1 class=\"text-2xl font-bold text-gray-800\">ENERGY COVE</h1>\r\n+                      <p class=\"text-sm italic text-gray-600\">Energy for Life</p>\r\n                   </div>\r\n               </div>\r\n-              ${this.renderHeaderContacts()}\r\n-          </div>\r\n-      </header>\r\n-  `;\r\n-  }\r\n \r\n-  /**\r\n-   * Renders the logo SVG\r\n-   */\r\n-  renderLogo() {\r\n-    return `\r\n-      <svg class=\"logo-icon\" viewBox=\"0 0 60 50\" width=\"60\" height=\"50\">\r\n-          <path \r\n-              d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n-              fill=\"#00a651\"\r\n-          />\r\n-      </svg>\r\n-  `;\r\n-  }\r\n+              <!-- Main Content Grid -->\r\n+              <div class=\"flex h-full\">\r\n+                  <!-- Left Section (2/3) -->\r\n+                  <div class=\"w-2/3 p-8 flex items-center justify-center\">\r\n+                      <div class=\"max-w-md w-full\">\r\n+                          <!-- Form Section -->\r\n+                          <h2 class=\"text-4xl font-bold text-emerald-500 mb-8\">Get your quote</h2>\r\n+                          <form id=\"quote-form\" class=\"space-y-6\">\r\n+                              <!-- Provider Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n+                                      Choose your electricity Provider\r\n+                                  </label>\r\n+                                  <input type=\"text\" \r\n+                                      id=\"provider\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      placeholder=\"e.g., MEPCO\">\r\n+                              </div>\r\n \r\n-  /**\r\n-   * Renders the header contact information\r\n-   */\r\n-  renderHeaderContacts() {\r\n-    return `\r\n-      <div class=\"header-contacts\">\r\n-          <!-- Mobile Contacts -->\r\n-          <div class=\"mobile-contacts md:hidden\">\r\n-              <a href=\"tel:+923001234567\" class=\"contact-icon\" aria-label=\"Call us\">\r\n-                  ${this.renderPhoneIcon()}\r\n-              </a>\r\n-              <a href=\"mailto:info@energycove.pk\" class=\"contact-icon\" aria-label=\"Email us\">\r\n-                  ${this.renderEmailIcon()}\r\n-              </a>\r\n-              <a href=\"https://wa.me/923001234567\" class=\"contact-icon\" aria-label=\"WhatsApp\">\r\n-                  ${this.renderWhatsAppIcon()}\r\n-              </a>\r\n-          </div>\r\n-          \r\n-          <!-- Desktop Contacts -->\r\n-          <div class=\"desktop-contacts hidden md:block\">\r\n-              <div class=\"contact-label\">Contact us</div>\r\n-              <div class=\"contact-info\">\r\n-                  <a href=\"https://wa.me/923001234567\">WhatsApp</a>\r\n-                  <a href=\"mailto:info@energycove.pk\">info@energycove.pk</a>\r\n-              </div>\r\n-          </div>\r\n-      </div>\r\n-  `;\r\n-  }\r\n+                              <!-- Reference Number Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n+                                      Enter your bill reference number\r\n+                                  </label>\r\n+                                  <input type=\"text\" \r\n+                                      id=\"referenceNumber\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      placeholder=\"Enter reference number\">\r\n+                              </div>\r\n \r\n-  /**\r\n-   * Renders the main content section\r\n-   */\r\n-  renderMainContent() {\r\n-    return `\r\n-      <main class=\"main-content\">\r\n-          <div class=\"container\">\r\n-              <div class=\"content-grid\">\r\n-                  <!-- Left Section: Form -->\r\n-                  <div class=\"form-section\">\r\n-                      <h2 class=\"form-title animate-slide-up\">\r\n-                          Get your solar quote\r\n-                      </h2>\r\n-                      ${this.renderForm()}\r\n+                              <!-- WhatsApp Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n+                                      Enter your WhatsApp phone Number\r\n+                                  </label>\r\n+                                  <input type=\"tel\" \r\n+                                      id=\"whatsapp\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      placeholder=\"+92 XXX XXXXXXX\">\r\n+                              </div>\r\n+\r\n+                              <!-- Submit Button -->\r\n+                              <button type=\"submit\" \r\n+                                  class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2\">\r\n+                                  <span>Generate</span>\r\n+                                  ${this.state.isLoading ? this.renderSpinner() : ''}\r\n+                              </button>\r\n+                          </form>\r\n+                      </div>\r\n                   </div>\r\n \r\n-                  <!-- Right Section: Info -->\r\n-                  <div class=\"info-section\">\r\n-                      <div class=\"info-content animate-fade-in\">\r\n-                          <h3>\r\n+                  <!-- Right Section (1/3) -->\r\n+                  <div class=\"w-1/3 bg-emerald-500 p-8 flex flex-col relative\">\r\n+                      <div class=\"text-white mt-16 space-y-2\">\r\n+                          <p class=\"text-2xl leading-relaxed\">\r\n                               Our AI tool quickly provides\r\n-                              the ideal system size and\r\n-                              savings estimateno\r\n-                              in-person consultation\r\n-                              needed. Get the fastest\r\n-                              solar quote in Pakistan!\r\n-                          </h3>\r\n-                          <div class=\"powered-by\">POWERED BY AI</div>\r\n+                              <br />the ideal system size and\r\n+                              <br />savings estimateno\r\n+                              <br />in-person consultation\r\n+                              <br />needed. Get the fastest\r\n+                              <br />solar quote in Pakistan!\r\n+                          </p>\r\n                       </div>\r\n+                      <div class=\"absolute bottom-24 text-white\">\r\n+                          <p class=\"text-2xl font-bold\">POWERED BY AI</p>\r\n+                      </div>\r\n                   </div>\r\n               </div>\r\n+\r\n+              <!-- Decorative Waves -->\r\n+              <div class=\"absolute bottom-0 w-full\">\r\n+                  <svg class=\"w-full h-24\" viewBox=\"0 0 1200 100\" preserveAspectRatio=\"none\">\r\n+                      <path d=\"M0,20 C200,0 400,40 600,20 S800,0 1200,20 L1200,100 L0,100 Z\"\r\n+                          class=\"fill-emerald-500 opacity-30\"/>\r\n+                      <path d=\"M0,40 C200,20 400,60 600,40 S800,20 1200,40 L1200,100 L0,100 Z\"\r\n+                          class=\"fill-yellow-400 opacity-50\"/>\r\n+                  </svg>\r\n+              </div>\r\n           </div>\r\n-      </main>\r\n-  `;\r\n-  }\r\n+      `;\r\n \r\n-  /**\r\n-   * Renders the form element\r\n-   */\r\n-  renderForm() {\r\n-    return `\r\n-      <form id=\"quote-form\" class=\"quote-form animate-fade-in\" novalidate>\r\n-          ${this.renderProviderField()}\r\n-          ${this.renderReferenceNumberField()}\r\n-          ${this.renderPhoneField()}\r\n-          ${this.renderSubmitButton()}\r\n-      </form>\r\n-  `;\r\n+      this.attachEventListeners();\r\n   }\r\n \r\n-  /**\r\n-   * Renders the provider selection field\r\n-   */\r\n-  renderProviderField() {\r\n-    const { provider } = this.state;\r\n-    const error = this.state.validationErrors.provider;\r\n-\r\n-    return `\r\n-      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n-          <label for=\"provider\" class=\"form-label\">\r\n-              Choose your electricity Provider\r\n-          </label>\r\n-          <select \r\n-              id=\"provider\" \r\n-              name=\"provider\"\r\n-              class=\"form-select\"\r\n-              required\r\n-              value=\"${provider}\"\r\n-          >\r\n-              <option value=\"\">Select Provider</option>\r\n-              ${this.PROVIDERS.map(\r\n-                (p) => `\r\n-                  <option value=\"${p}\" ${provider === p ? \"selected\" : \"\"}>\r\n-                      ${p}\r\n-                  </option>\r\n-              `\r\n-              ).join(\"\")}\r\n-          </select>\r\n-          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n-      </div>\r\n-  `;\r\n+  renderSpinner() {\r\n+      return `\r\n+          <svg class=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n+              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n+              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n+          </svg>\r\n+      `;\r\n   }\r\n \r\n-  /**\r\n-   * Renders the reference number input field\r\n-   */\r\n-  renderReferenceNumberField() {\r\n-    const { referenceNumber } = this.state;\r\n-    const error = this.state.validationErrors.referenceNumber;\r\n-\r\n-    return `\r\n-      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n-          <label for=\"referenceNumber\" class=\"form-label\">\r\n-              Enter your bill reference number\r\n-          </label>\r\n-          <input \r\n-              type=\"text\" \r\n-              id=\"referenceNumber\"\r\n-              name=\"referenceNumber\"\r\n-              class=\"form-input\"\r\n-              required\r\n-              pattern=\"[0-9]{10,14}\"\r\n-              value=\"${referenceNumber}\"\r\n-              placeholder=\"e.g., 1234567890\"\r\n-          />\r\n-          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the phone number input field\r\n-   */\r\n-  renderPhoneField() {\r\n-    const { phone } = this.state;\r\n-    const error = this.state.validationErrors.phone;\r\n-\r\n-    return `\r\n-      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n-          <label for=\"phone\" class=\"form-label\">\r\n-              Enter your WhatsApp phone number\r\n-          </label>\r\n-          <input \r\n-              type=\"tel\" \r\n-              id=\"phone\"\r\n-              name=\"phone\"\r\n-              class=\"form-input\"\r\n-              required\r\n-              pattern=\"[+]?[0-9]{10,14}\"\r\n-              value=\"${phone}\"\r\n-              placeholder=\"+92 300 1234567\"\r\n-          />\r\n-          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the submit button\r\n-   */\r\n-  renderSubmitButton() {\r\n-    return `\r\n-      <div class=\"form-group\">\r\n-          <button type=\"submit\" class=\"submit-button\" ${\r\n-            this.state.isLoading ? \"disabled\" : \"\"\r\n-          }>\r\n-              <span>${\r\n-                this.state.isLoading ? \"Processing...\" : \"Generate\"\r\n-              }</span>\r\n-              ${\r\n-                this.state.isLoading\r\n-                  ? this.createLoadingSpinner().outerHTML\r\n-                  : \"\"\r\n-              }\r\n-          </button>\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the wave decoration at the bottom\r\n-   */\r\n-  renderWaveDecoration() {\r\n-    return `\r\n-      <div class=\"wave-decoration\">\r\n-          <div class=\"wave wave-1\"></div>\r\n-          <div class=\"wave wave-2\"></div>\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the SVG icons\r\n-   */\r\n-  renderPhoneIcon() {\r\n-    return `\r\n-      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-          <path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"/>\r\n-      </svg>\r\n-  `;\r\n-  }\r\n-\r\n-  renderEmailIcon() {\r\n-    return `\r\n-      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-          <path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"/>\r\n-          <polyline points=\"22,6 12,13 2,6\"/>\r\n-      </svg>\r\n-  `;\r\n-  }\r\n-\r\n-  renderWhatsAppIcon() {\r\n-    return `\r\n-      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-          <path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"/>\r\n-      </svg>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Attaches event listeners to form elements\r\n-   */\r\n   attachEventListeners() {\r\n-    const form = document.getElementById(\"quote-form\");\r\n-    const inputs = form.querySelectorAll(\"input, select\");\r\n+      const form = document.getElementById('quote-form');\r\n+      const inputs = form.querySelectorAll('input');\r\n \r\n-    // Form submission\r\n-    form.addEventListener(\"submit\", this.handleSubmit);\r\n-\r\n-    // Input events\r\n-    inputs.forEach((input) => {\r\n-      input.addEventListener(\"input\", this.handleInput);\r\n-      input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n-      input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n-    });\r\n-\r\n-    // Add resize listener for responsive adjustments\r\n-    window.addEventListener(\"resize\", this.handleResize.bind(this));\r\n+      form.addEventListener('submit', this.handleSubmit.bind(this));\r\n+      inputs.forEach(input => {\r\n+          input.addEventListener('input', this.handleInput.bind(this));\r\n+      });\r\n   }\r\n \r\n-  /**\r\n-   * Handles form input changes\r\n-   * @param {Event} event - Input event\r\n-   */\r\n   handleInput(event) {\r\n-    const { name, value } = event.target;\r\n-    this.state[name] = value;\r\n-\r\n-    // Clear validation error when user starts typing\r\n-    this.state.validationErrors[name] = \"\";\r\n-\r\n-    // Remove error styling\r\n-    event.target.closest(\".form-group\").classList.remove(\"has-error\");\r\n+      const { id, value } = event.target;\r\n+      this.state[id] = value;\r\n   }\r\n \r\n-  /**\r\n-   * Handles input blur events\r\n-   * @param {Event} event - Blur event\r\n-   */\r\n-  handleBlur(event) {\r\n-    const { name, value } = event.target;\r\n+  async handleSubmit(event) {\r\n+      event.preventDefault();\r\n+      \r\n+      if (this.state.isLoading) return;\r\n \r\n-    // Validate field on blur\r\n-    const error = this.validateField(name, value);\r\n-    if (error) {\r\n-      this.state.validationErrors[name] = error;\r\n-      event.target.closest(\".form-group\").classList.add(\"has-error\");\r\n-    }\r\n-  }\r\n+      if (!this.validateForm()) {\r\n+          alert('Please fill in all fields');\r\n+          return;\r\n+      }\r\n \r\n-  /**\r\n-   * Handles input focus events\r\n-   * @param {Event} event - Focus event\r\n-   */\r\n-  handleFocus(event) {\r\n-    const formGroup = event.target.closest(\".form-group\");\r\n-    formGroup.classList.add(\"is-focused\");\r\n+      try {\r\n+          this.state.isLoading = true;\r\n+          this.updateSubmitButton(true);\r\n \r\n-    // Add floating label animation\r\n-    const label = formGroup.querySelector(\".form-label\");\r\n-    if (label) {\r\n-      gsap.to(label, {\r\n-        y: -20,\r\n-        scale: 0.85,\r\n-        duration: 0.3,\r\n-        ease: \"power2.out\",\r\n-      });\r\n-    }\r\n+          await fetchBillData(this.state.referenceNumber);\r\n+          window.router.push('/quote');\r\n+      } catch (error) {\r\n+          console.error('Error:', error);\r\n+          alert('Failed to generate quote. Please try again.');\r\n+      } finally {\r\n+          this.state.isLoading = false;\r\n+          this.updateSubmitButton(false);\r\n+      }\r\n   }\r\n \r\n-  /**\r\n-   * Validates a single form field\r\n-   * @param {string} fieldName - Name of the field to validate\r\n-   * @param {string} value - Value to validate\r\n-   * @returns {string|null} Error message or null if valid\r\n-   */\r\n-  validateField(fieldName, value) {\r\n-    const rules = this.VALIDATION_RULES[fieldName];\r\n-    if (!rules) return null;\r\n-\r\n-    if (rules.required && !value) {\r\n-      return `${\r\n-        fieldName.charAt(0).toUpperCase() + fieldName.slice(1)\r\n-      } is required`;\r\n-    }\r\n-\r\n-    if (rules.pattern && !rules.pattern.test(value)) {\r\n-      return rules.message;\r\n-    }\r\n-\r\n-    if (rules.minLength && value.length < rules.minLength) {\r\n-      return `${\r\n-        fieldName.charAt(0).toUpperCase() + fieldName.slice(1)\r\n-      } must be at least ${rules.minLength} characters`;\r\n-    }\r\n-\r\n-    return null;\r\n+  validateForm() {\r\n+      return this.state.provider && \r\n+             this.state.referenceNumber && \r\n+             this.state.whatsapp;\r\n   }\r\n \r\n-  /**\r\n-   * Validates the entire form\r\n-   * @returns {boolean} Whether the form is valid\r\n-   */\r\n-  validateForm() {\r\n-    let isValid = true;\r\n-    const formData = {\r\n-      provider: this.state.provider,\r\n-      referenceNumber: this.state.referenceNumber,\r\n-      phone: this.state.phone,\r\n-    };\r\n-\r\n-    // Validate each field\r\n-    Object.keys(formData).forEach((fieldName) => {\r\n-      const error = this.validateField(fieldName, formData[fieldName]);\r\n-      if (error) {\r\n-        this.state.validationErrors[fieldName] = error;\r\n-        isValid = false;\r\n-\r\n-        // Add error styling\r\n-        const formGroup = document\r\n-          .querySelector(`[name=\"${fieldName}\"]`)\r\n-          .closest(\".form-group\");\r\n-        formGroup.classList.add(\"has-error\");\r\n+  updateSubmitButton(isLoading) {\r\n+      const button = document.querySelector('button[type=\"submit\"]');\r\n+      if (button) {\r\n+          button.innerHTML = isLoading \r\n+              ? `<span>Processing...</span>${this.renderSpinner()}`\r\n+              : '<span>Generate</span>';\r\n+          button.disabled = isLoading;\r\n       }\r\n-    });\r\n-\r\n-    return isValid;\r\n   }\r\n+}\r\n \r\n-  /**\r\n-   * Handles form submission\r\n-   * @param {Event} event - Submit event\r\n-   */\r\n-  async handleSubmit(event) {\r\n-    event.preventDefault();\r\n-\r\n-    if (this.state.isLoading) return;\r\n-\r\n-    if (!this.validateForm()) {\r\n-      this.showToast(\"Please fix the errors in the form\", \"error\");\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      this.setLoading(true);\r\n-      this.showToast(\"Generating your quote...\", \"info\");\r\n-\r\n-      // Submit the form data\r\n-      await fetchBillData(this.state.referenceNumber);\r\n-\r\n-      // Show success message\r\n-      this.showToast(\"Quote generated successfully!\", \"success\");\r\n-\r\n-      // Navigate to quote page\r\n-      window.router.push(\"/quote\");\r\n-    } catch (error) {\r\n-      console.error(\"Error submitting form:\", error);\r\n-      this.showToast(\"Failed to generate quote. Please try again.\", \"error\");\r\n-    } finally {\r\n-      this.setLoading(false);\r\n-    }\r\n-  }\r\n-\r\n-  /**\r\n-   * Handles window resize events\r\n-   */\r\n-  handleResize() {\r\n-    // Update layout classes based on window size\r\n-    const container = document.querySelector(\".container\");\r\n-    if (window.innerWidth < 768) {\r\n-      container.classList.remove(\"desktop-layout\");\r\n-      container.classList.add(\"mobile-layout\");\r\n-    } else {\r\n-      container.classList.remove(\"mobile-layout\");\r\n-      container.classList.add(\"desktop-layout\");\r\n-    }\r\n-  }\r\n-\r\n-  /**\r\n-   * Initializes page animations\r\n-   */\r\n-  initializeAnimations() {\r\n-    // Animate form elements\r\n-    gsap.from(\".form-title\", {\r\n-      y: 30,\r\n-      opacity: 0,\r\n-      duration: 0.8,\r\n-      ease: \"power3.out\",\r\n-    });\r\n-\r\n-    gsap.from(\".form-group\", {\r\n-      y: 20,\r\n-      opacity: 0,\r\n-      duration: 0.5,\r\n-      stagger: 0.1,\r\n-      ease: \"power2.out\",\r\n-    });\r\n-\r\n-    // Animate info section\r\n-    gsap.from(\".info-section\", {\r\n-      x: 50,\r\n-      opacity: 0,\r\n-      duration: 0.8,\r\n-      ease: \"power3.out\",\r\n-    });\r\n-\r\n-    // Animate wave decoration\r\n-    gsap.from(\".wave\", {\r\n-      scaleY: 0,\r\n-      transformOrigin: \"bottom\",\r\n-      duration: 1,\r\n-      ease: \"power2.out\",\r\n-      stagger: 0.2,\r\n-    });\r\n-  }\r\n-\r\n-  /**\r\n-   * Cleans up event listeners and animations\r\n-   */\r\n-  cleanup() {\r\n-    // Remove event listeners\r\n-    window.removeEventListener(\"resize\", this.handleResize);\r\n-\r\n-    // Kill all GSAP animations\r\n-    gsap.killTweensOf(\".form-title\");\r\n-    gsap.killTweensOf(\".form-group\");\r\n-    gsap.killTweensOf(\".info-section\");\r\n-    gsap.killTweensOf(\".wave\");\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the core styles for the page\r\n-   */\r\n-  renderStyles() {\r\n-    return `\r\n-      <style>\r\n-          /* CSS Reset and Variables */\r\n-          :root {\r\n-              --color-primary: #00a651;\r\n-              --color-primary-dark: #008c44;\r\n-              --color-primary-light: rgba(0, 166, 81, 0.1);\r\n-              --color-yellow: #ffde17;\r\n-              --color-error: #ef4444;\r\n-              --color-success: #10b981;\r\n-              --color-text: #2c3e50;\r\n-              --color-text-light: #7f8c8d;\r\n-              --color-background: #ffffff;\r\n-              --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\r\n-              --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n-              --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\r\n-              --border-radius: 0.5rem;\r\n-              --transition: all 0.3s ease;\r\n-          }\r\n-\r\n-          /* Base Styles */\r\n-          * {\r\n-              margin: 0;\r\n-              padding: 0;\r\n-              box-sizing: border-box;\r\n-          }\r\n-\r\n-          body {\r\n-              font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\r\n-              color: var(--color-text);\r\n-              line-height: 1.5;\r\n-              -webkit-font-smoothing: antialiased;\r\n-          }\r\n-\r\n-          /* Layout */\r\n-          .sap_form {\r\n-              min-height: 100vh;\r\n-              background-color: var(--color-background);\r\n-              position: relative;\r\n-              overflow: hidden;\r\n-          }\r\n-\r\n-          .container {\r\n-              max-width: 1200px;\r\n-              margin: 0 auto;\r\n-              padding: 0 1rem;\r\n-          }\r\n-\r\n-          .content-grid {\r\n-              display: grid;\r\n-              grid-template-columns: 2fr 1fr;\r\n-              gap: 2rem;\r\n-              position: relative;\r\n-              padding: 2rem 0;\r\n-          }\r\n-\r\n-          /* Header Styles */\r\n-          .header {\r\n-              padding: 1.5rem 0;\r\n-              border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n-          }\r\n-\r\n-          .logo-section {\r\n-              display: flex;\r\n-              align-items: center;\r\n-              gap: 1rem;\r\n-          }\r\n-\r\n-          .logo-icon {\r\n-              width: 60px;\r\n-              height: 50px;\r\n-              flex-shrink: 0;\r\n-          }\r\n-\r\n-          .logo-text h1 {\r\n-              font-size: 1.5rem;\r\n-              font-weight: bold;\r\n-              color: var(--color-text);\r\n-              line-height: 1.2;\r\n-          }\r\n-\r\n-          .logo-text p {\r\n-              font-size: 0.875rem;\r\n-              color: var(--color-text-light);\r\n-              font-style: italic;\r\n-          }\r\n-\r\n-          /* Contact Section Styles */\r\n-          .header-contacts {\r\n-              margin-top: 1rem;\r\n-          }\r\n-\r\n-          .contact-label {\r\n-              font-size: 1.125rem;\r\n-              color: var(--color-text-light);\r\n-              margin-bottom: 0.5rem;\r\n-          }\r\n-\r\n-          .contact-info {\r\n-              display: flex;\r\n-              justify-content: space-between;\r\n-              gap: 2rem;\r\n-          }\r\n-\r\n-          .contact-info a {\r\n-              color: var(--color-text-light);\r\n-              text-decoration: none;\r\n-              transition: var(--transition);\r\n-          }\r\n-\r\n-          .contact-info a:hover {\r\n-              color: var(--color-primary);\r\n-          }\r\n-\r\n-          .mobile-contacts {\r\n-              display: flex;\r\n-              gap: 1rem;\r\n-              justify-content: flex-end;\r\n-          }\r\n-\r\n-          .contact-icon {\r\n-              width: 40px;\r\n-              height: 40px;\r\n-              display: flex;\r\n-              align-items: center;\r\n-              justify-content: center;\r\n-              background-color: var(--color-primary-light);\r\n-              border-radius: 50%;\r\n-              color: var(--color-primary);\r\n-              transition: var(--transition);\r\n-          }\r\n-\r\n-          .contact-icon:hover {\r\n-              background-color: var(--color-primary);\r\n-              color: white;\r\n-              transform: translateY(-2px);\r\n-          }\r\n-\r\n-          .contact-icon svg {\r\n-              width: 20px;\r\n-              height: 20px;\r\n-          }\r\n-\r\n-          /* Form Section Styles */\r\n-          .form-section {\r\n-              padding: 2rem;\r\n-              background-color: var(--color-background);\r\n-              border-radius: var(--border-radius);\r\n-              box-shadow: var(--shadow-md);\r\n-          }\r\n-\r\n-          .form-title {\r\n-              font-size: 2.25rem;\r\n-              font-weight: bold;\r\n-              color: var(--color-primary);\r\n-              margin-bottom: 2rem;\r\n-              line-height: 1.2;\r\n-          }\r\n-\r\n-          .quote-form {\r\n-              display: flex;\r\n-              flex-direction: column;\r\n-              gap: 1.5rem;\r\n-          }\r\n-\r\n-          /* Right Info Section */\r\n-          .info-section {\r\n-              background-color: var(--color-primary);\r\n-              color: white;\r\n-              padding: 2rem;\r\n-              border-radius: var(--border-radius);\r\n-              position: relative;\r\n-          }\r\n-\r\n-          .info-content h3 {\r\n-              font-size: 1.5rem;\r\n-              line-height: 1.4;\r\n-              font-weight: normal;\r\n-              margin-bottom: 2rem;\r\n-          }\r\n-\r\n-          .powered-by {\r\n-              position: absolute;\r\n-              bottom: 2rem;\r\n-              font-size: 1.5rem;\r\n-              font-weight: bold;\r\n-          }\r\n-\r\n-          /* Wave Decoration */\r\n-          .wave-decoration {\r\n-              position: absolute;\r\n-              bottom: 0;\r\n-              left: 0;\r\n-              right: 0;\r\n-              height: 120px;\r\n-              overflow: hidden;\r\n-          }\r\n-\r\n-          .wave {\r\n-              position: absolute;\r\n-              bottom: 0;\r\n-              left: 0;\r\n-              right: 0;\r\n-              height: 100%;\r\n-          }\r\n-\r\n-          .wave-1 {\r\n-              background: var(--color-primary);\r\n-              opacity: 0.3;\r\n-              clip-path: path('M0,64 C200,44 400,84 600,64 S800,44 1200,64 L1200,100 L0,100 Z');\r\n-          }\r\n-\r\n-          .wave-2 {\r\n-              background: var(--color-yellow);\r\n-              opacity: 0.5;\r\n-              clip-path: path('M0,74 C200,54 400,94 600,74 S800,54 1200,74 L1200,100 L0,100 Z');\r\n-          }\r\n-      </style>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the form-specific styles and animations\r\n-   */\r\n-  renderFormStyles() {\r\n-    return `\r\n-      <style>\r\n-          /* Form Group Styles */\r\n-          .form-group {\r\n-              position: relative;\r\n-              margin-bottom: 1.5rem;\r\n-          }\r\n-\r\n-          .form-label {\r\n-              display: block;\r\n-              font-size: 0.875rem;\r\n-              color: var(--color-text-light);\r\n-              margin-bottom: 0.5rem;\r\n-              transition: var(--transition);\r\n-              transform-origin: left;\r\n-          }\r\n-\r\n-          .form-input,\r\n-          .form-select {\r\n-              width: 100%;\r\n-              padding: 0.75rem 1rem;\r\n-              font-size: 1rem;\r\n-              border: 1px solid #e2e8f0;\r\n-              border-radius: var(--border-radius);\r\n-              background-color: white;\r\n-              transition: var(--transition);\r\n-              color: var(--color-text);\r\n-          }\r\n-\r\n-          .form-input:focus,\r\n-          .form-select:focus {\r\n-              outline: none;\r\n-              border-color: var(--color-primary);\r\n-              box-shadow: 0 0 0 3px var(--color-primary-light);\r\n-          }\r\n-\r\n-          .form-select {\r\n-              appearance: none;\r\n-              background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236B7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\");\r\n-              background-position: right 0.5rem center;\r\n-              background-repeat: no-repeat;\r\n-              background-size: 1.5em 1.5em;\r\n-              padding-right: 2.5rem;\r\n-          }\r\n-\r\n-          /* Form States */\r\n-          .form-group.has-error .form-input,\r\n-          .form-group.has-error .form-select {\r\n-              border-color: var(--color-error);\r\n-          }\r\n-\r\n-          .form-group.has-error .form-label {\r\n-              color: var(--color-error);\r\n-          }\r\n-\r\n-          .form-group.is-focused .form-label {\r\n-              color: var(--color-primary);\r\n-          }\r\n-\r\n-          .error-message {\r\n-              font-size: 0.75rem;\r\n-              color: var(--color-error);\r\n-              margin-top: 0.25rem;\r\n-              opacity: 0;\r\n-              transform: translateY(-10px);\r\n-              animation: slideDown 0.3s ease forwards;\r\n-          }\r\n-\r\n-          /* Submit Button */\r\n-          .submit-button {\r\n-              width: 100%;\r\n-              padding: 1rem;\r\n-              background-color: var(--color-primary);\r\n-              color: white;\r\n-              border: none;\r\n-              border-radius: 9999px;\r\n-              font-size: 1.125rem;\r\n-              font-weight: 500;\r\n-              cursor: pointer;\r\n-              transition: var(--transition);\r\n-              display: flex;\r\n-              align-items: center;\r\n-              justify-content: center;\r\n-              gap: 0.5rem;\r\n-          }\r\n-\r\n-          .submit-button:not(:disabled):hover {\r\n-              background-color: var(--color-primary-dark);\r\n-              transform: translateY(-2px);\r\n-          }\r\n-\r\n-          .submit-button:disabled {\r\n-              opacity: 0.7;\r\n-              cursor: not-allowed;\r\n-          }\r\n-\r\n-          /* Loading Spinner */\r\n-          .loading-spinner {\r\n-              display: inline-block;\r\n-              width: 24px;\r\n\\ No newline at end of file\n-              height: 24px;\r\n-          }\r\n-\r\n-          .spinner-svg {\r\n-              animation: rotate 1s linear infinite;\r\n-          }\r\n-\r\n-          .spinner-svg circle {\r\n-              stroke: currentColor;\r\n-              stroke-dasharray: 80px, 200px;\r\n-              stroke-dashoffset: 0;\r\n-              animation: dash 1.5s ease-in-out infinite;\r\n-          }\r\n-\r\n-          /* Toast Notifications */\r\n-          .toast-container {\r\n-              position: fixed;\r\n-              top: 1rem;\r\n-              right: 1rem;\r\n-              z-index: 1000;\r\n-              display: flex;\r\n-              flex-direction: column;\r\n-              gap: 0.5rem;\r\n-          }\r\n-\r\n-          .toast {\r\n-              padding: 1rem 1.5rem;\r\n-              border-radius: var(--border-radius);\r\n-              background-color: white;\r\n-              color: var(--color-text);\r\n-              box-shadow: var(--shadow-lg);\r\n-              min-width: 200px;\r\n-              max-width: 400px;\r\n-          }\r\n-\r\n-          .toast-success {\r\n-              border-left: 4px solid var(--color-success);\r\n-          }\r\n-\r\n-          .toast-error {\r\n-              border-left: 4px solid var(--color-error);\r\n-          }\r\n-\r\n-          .toast-info {\r\n-              border-left: 4px solid var(--color-primary);\r\n-          }\r\n-\r\n-          /* Animations */\r\n-          @keyframes slideDown {\r\n-              from {\r\n-                  opacity: 0;\r\n-                  transform: translateY(-10px);\r\n-              }\r\n-              to {\r\n-                  opacity: 1;\r\n-                  transform: translateY(0);\r\n-              }\r\n-          }\r\n-\r\n-          @keyframes rotate {\r\n-              100% {\r\n-                  transform: rotate(360deg);\r\n-              }\r\n-          }\r\n-\r\n-          @keyframes dash {\r\n-              0% {\r\n-                  stroke-dasharray: 1, 200;\r\n-                  stroke-dashoffset: 0;\r\n-              }\r\n-              50% {\r\n-                  stroke-dasharray: 89, 200;\r\n-                  stroke-dashoffset: -35px;\r\n-              }\r\n-              100% {\r\n-                  stroke-dasharray: 89, 200;\r\n-                  stroke-dashoffset: -124px;\r\n-              }\r\n-          }\r\n-\r\n-          /* Responsive Design */\r\n-          @media (max-width: 768px) {\r\n-              .content-grid {\r\n-                  grid-template-columns: 1fr;\r\n-              }\r\n-\r\n-              .form-title {\r\n-                  font-size: 1.875rem;\r\n-              }\r\n-\r\n-              .info-section {\r\n-                  margin-top: 2rem;\r\n-              }\r\n-\r\n-              .desktop-contacts {\r\n-                  display: none;\r\n-              }\r\n-\r\n-              .mobile-contacts {\r\n-                  display: flex;\r\n-              }\r\n-\r\n-              .wave-decoration {\r\n-                  height: 80px;\r\n-              }\r\n-          }\r\n-\r\n-          /* Utility Classes */\r\n-          .hidden {\r\n-              display: none;\r\n-          }\r\n-\r\n-          .animate-fade-in {\r\n-              animation: fadeIn 0.5s ease-out;\r\n-          }\r\n-\r\n-          .animate-slide-up {\r\n-              animation: slideUp 0.5s ease-out;\r\n-          }\r\n-\r\n-          @keyframes fadeIn {\r\n-              from { opacity: 0; }\r\n-              to { opacity: 1; }\r\n-          }\r\n-\r\n-          @keyframes slideUp {\r\n-              from { \r\n-                  opacity: 0;\r\n-                  transform: translateY(20px);\r\n-              }\r\n-              to {\r\n-                  opacity: 1;\r\n-                  transform: translateY(0);\r\n-              }\r\n-          }\r\n-      </style>\r\n-  `;\r\n-  }\r\n-}\n+export { ReferenceInputPage };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731007807155,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,177 +1,888 @@\n-class ReferenceInputPage {\r\n+// ReferenceInputPage.js\r\n+\r\n+import {\r\n+  fetchBillData,\r\n+  getIsLoading,\r\n+  getError,\r\n+} from \"../store/solarSizingState.js\";\r\n+import { gsap } from \"gsap\";\r\n+\r\n+export class ReferenceInputPage {\r\n   constructor() {\r\n-      this.state = {\r\n-          provider: '',\r\n-          referenceNumber: '',\r\n-          whatsapp: '',\r\n-          isLoading: false\r\n-      };\r\n+    // Form data\r\n+    this.state = {\r\n+      provider: \"\",\r\n+      referenceNumber: \"\",\r\n+      phone: \"\",\r\n+      isLoading: false,\r\n+      error: null,\r\n+      validationErrors: {\r\n+        provider: \"\",\r\n+        referenceNumber: \"\",\r\n+        phone: \"\",\r\n+      },\r\n+    };\r\n+\r\n+    // Constants for validation\r\n+    this.VALIDATION_RULES = {\r\n+      provider: {\r\n+        required: true,\r\n+        minLength: 2,\r\n+        message: \"Please select a valid electricity provider\",\r\n+      },\r\n+      referenceNumber: {\r\n+        required: true,\r\n+        pattern: /^[0-9]{10,14}$/,\r\n+        message: \"Please enter a valid reference number (10-14 digits)\",\r\n+      },\r\n+      phone: {\r\n+        required: true,\r\n+        pattern: /^\\+?[0-9]{10,14}$/,\r\n+        message: \"Please enter a valid phone number\",\r\n+      },\r\n+    };\r\n+\r\n+    // Available electricity providers\r\n+    this.PROVIDERS = [\r\n+      \"MEPCO\",\r\n+      \"LESCO\",\r\n+      \"IESCO\",\r\n+      \"GEPCO\",\r\n+      \"FESCO\",\r\n+      \"PESCO\",\r\n+      \"QESCO\",\r\n+      \"SEPCO\",\r\n+      \"K-Electric\",\r\n+    ];\r\n+\r\n+    // Bind methods\r\n+    this.handleInput = this.handleInput.bind(this);\r\n+    this.handleSubmit = this.handleSubmit.bind(this);\r\n+    this.validateField = this.validateField.bind(this);\r\n+    this.showToast = this.showToast.bind(this);\r\n   }\r\n \r\n-  render() {\r\n-      const app = document.getElementById(\"app\");\r\n-      app.innerHTML = `\r\n-          <div class=\"relative w-full h-screen bg-white overflow-hidden\">\r\n-              <!-- Logo Section -->\r\n-              <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n-                  <svg class=\"w-12 h-12\" viewBox=\"0 0 60 50\">\r\n-                      <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n-                          class=\"fill-emerald-500\"/>\r\n-                  </svg>\r\n-                  <div>\r\n-                      <h1 class=\"text-2xl font-bold text-gray-800\">ENERGY COVE</h1>\r\n-                      <p class=\"text-sm italic text-gray-600\">Energy for Life</p>\r\n+  /**\r\n+   * Initialize the page\r\n+   */\r\n+  async init() {\r\n+    await this.render();\r\n+    this.attachEventListeners();\r\n+    this.initializeAnimations();\r\n+  }\r\n+\r\n+  /**\r\n+   * Shows a toast message\r\n+   * @param {string} message - Message to display\r\n+   * @param {string} type - Type of toast (success, error, info)\r\n+   */\r\n+  showToast(message, type = \"info\") {\r\n+    const toast = document.createElement(\"div\");\r\n+    toast.className = `toast toast-${type}`;\r\n+    toast.textContent = message;\r\n+\r\n+    const container =\r\n+      document.querySelector(\".toast-container\") || this.createToastContainer();\r\n+    container.appendChild(toast);\r\n+\r\n+    // Animate toast\r\n+    gsap.fromTo(\r\n+      toast,\r\n+      { opacity: 0, y: 20 },\r\n+      { opacity: 1, y: 0, duration: 0.3 }\r\n+    );\r\n+\r\n+    // Remove toast after delay\r\n+    setTimeout(() => {\r\n+      gsap.to(toast, {\r\n+        opacity: 0,\r\n+        y: -20,\r\n+        duration: 0.3,\r\n+        onComplete: () => toast.remove(),\r\n+      });\r\n+    }, 3000);\r\n+  }\r\n+\r\n+  /**\r\n+   * Creates a container for toast messages\r\n+   * @returns {HTMLElement} Toast container element\r\n+   */\r\n+  createToastContainer() {\r\n+    const container = document.createElement(\"div\");\r\n+    container.className = \"toast-container\";\r\n+    document.body.appendChild(container);\r\n+    return container;\r\n+  }\r\n+\r\n+  /**\r\n+   * Updates the loading state of the form\r\n+   * @param {boolean} isLoading - Whether the form is loading\r\n+   */\r\n+  setLoading(isLoading) {\r\n+    this.state.isLoading = isLoading;\r\n+    const submitButton = document.querySelector(\".submit-button\");\r\n+    const loadingSpinner = document.querySelector(\".loading-spinner\");\r\n+\r\n+    if (submitButton && loadingSpinner) {\r\n+      if (isLoading) {\r\n+        submitButton.disabled = true;\r\n+        submitButton.querySelector(\"span\").textContent = \"Processing...\";\r\n+        loadingSpinner.style.display = \"inline-block\";\r\n+      } else {\r\n+        submitButton.disabled = false;\r\n+        submitButton.querySelector(\"span\").textContent = \"Generate\";\r\n+        loadingSpinner.style.display = \"none\";\r\n+      }\r\n+    }\r\n+  }\r\n+\r\n+  /**\r\n+   * Creates a loading spinner element\r\n+   * @returns {HTMLElement} Spinner element\r\n+   */\r\n+  createLoadingSpinner() {\r\n+    const spinner = document.createElement(\"div\");\r\n+    spinner.className = \"loading-spinner\";\r\n+    spinner.innerHTML = `\r\n+            <svg viewBox=\"0 0 50 50\" class=\"spinner-svg\">\r\n+                <circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke-width=\"5\"></circle>\r\n+            </svg>\r\n+        `;\r\n+    return spinner;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the page content\r\n+   */\r\n+  async render() {\r\n\\ No newline at end of file\n+    const app = document.getElementById(\"app\");\r\n+    app.innerHTML = `\r\n+      <div class=\"sap_form\">\r\n+          ${this.renderHeader()}\r\n+          ${this.renderMainContent()}\r\n+          ${this.renderWaveDecoration()}\r\n+      </div>\r\n+      ${this.renderStyles()}\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the header section with logo\r\n+   */\r\n+  renderHeader() {\r\n+    return `\r\n+      <header class=\"header\">\r\n+          <div class=\"container\">\r\n+              <div class=\"logo-section\">\r\n+                  ${this.renderLogo()}\r\n+                  <div class=\"logo-text\">\r\n+                      <h1>ENERGY COVE</h1>\r\n+                      <p>Energy for Life</p>\r\n                   </div>\r\n               </div>\r\n+              ${this.renderHeaderContacts()}\r\n+          </div>\r\n+      </header>\r\n+  `;\r\n+  }\r\n \r\n-              <!-- Main Content Grid -->\r\n-              <div class=\"flex h-full\">\r\n-                  <!-- Left Section (2/3) -->\r\n-                  <div class=\"w-2/3 p-8 flex items-center justify-center\">\r\n-                      <div class=\"max-w-md w-full\">\r\n-                          <!-- Form Section -->\r\n-                          <h2 class=\"text-4xl font-bold text-emerald-500 mb-8\">Get your quote</h2>\r\n-                          <form id=\"quote-form\" class=\"space-y-6\">\r\n-                              <!-- Provider Field -->\r\n-                              <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-600\">\r\n-                                      Choose your electricity Provider\r\n-                                  </label>\r\n-                                  <input type=\"text\" \r\n-                                      id=\"provider\"\r\n-                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n-                                      placeholder=\"e.g., MEPCO\">\r\n-                              </div>\r\n+  /**\r\n+   * Renders the logo SVG\r\n+   */\r\n+  renderLogo() {\r\n+    return `\r\n+      <svg class=\"logo-icon\" viewBox=\"0 0 60 50\" width=\"60\" height=\"50\">\r\n+          <path \r\n+              d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n+              fill=\"#00a651\"\r\n+          />\r\n+      </svg>\r\n+  `;\r\n+  }\r\n \r\n-                              <!-- Reference Number Field -->\r\n-                              <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-600\">\r\n-                                      Enter your bill reference number\r\n-                                  </label>\r\n-                                  <input type=\"text\" \r\n-                                      id=\"referenceNumber\"\r\n-                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n-                                      placeholder=\"Enter reference number\">\r\n-                              </div>\r\n+  /**\r\n+   * Renders the header contact information\r\n+   */\r\n+  renderHeaderContacts() {\r\n+    return `\r\n+      <div class=\"header-contacts\">\r\n+          <!-- Mobile Contacts -->\r\n+          <div class=\"mobile-contacts md:hidden\">\r\n+              <a href=\"tel:+923001234567\" class=\"contact-icon\" aria-label=\"Call us\">\r\n+                  ${this.renderPhoneIcon()}\r\n+              </a>\r\n+              <a href=\"mailto:info@energycove.pk\" class=\"contact-icon\" aria-label=\"Email us\">\r\n+                  ${this.renderEmailIcon()}\r\n+              </a>\r\n+              <a href=\"https://wa.me/923001234567\" class=\"contact-icon\" aria-label=\"WhatsApp\">\r\n+                  ${this.renderWhatsAppIcon()}\r\n+              </a>\r\n+          </div>\r\n+          \r\n+          <!-- Desktop Contacts -->\r\n+          <div class=\"desktop-contacts hidden md:block\">\r\n+              <div class=\"contact-label\">Contact us</div>\r\n+              <div class=\"contact-info\">\r\n+                  <a href=\"https://wa.me/923001234567\">WhatsApp</a>\r\n+                  <a href=\"mailto:info@energycove.pk\">info@energycove.pk</a>\r\n+              </div>\r\n+          </div>\r\n+      </div>\r\n+  `;\r\n+  }\r\n \r\n-                              <!-- WhatsApp Field -->\r\n-                              <div class=\"space-y-2\">\r\n-                                  <label class=\"block text-sm text-gray-600\">\r\n-                                      Enter your WhatsApp phone Number\r\n-                                  </label>\r\n-                                  <input type=\"tel\" \r\n-                                      id=\"whatsapp\"\r\n-                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n-                                      placeholder=\"+92 XXX XXXXXXX\">\r\n-                              </div>\r\n-\r\n-                              <!-- Submit Button -->\r\n-                              <button type=\"submit\" \r\n-                                  class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2\">\r\n-                                  <span>Generate</span>\r\n-                                  ${this.state.isLoading ? this.renderSpinner() : ''}\r\n-                              </button>\r\n-                          </form>\r\n-                      </div>\r\n+  /**\r\n+   * Renders the main content section\r\n+   */\r\n+  renderMainContent() {\r\n+    return `\r\n+      <main class=\"main-content\">\r\n+          <div class=\"container\">\r\n+              <div class=\"content-grid\">\r\n+                  <!-- Left Section: Form -->\r\n+                  <div class=\"form-section\">\r\n+                      <h2 class=\"form-title animate-slide-up\">\r\n+                          Get your solar quote\r\n+                      </h2>\r\n+                      ${this.renderForm()}\r\n                   </div>\r\n \r\n-                  <!-- Right Section (1/3) -->\r\n-                  <div class=\"w-1/3 bg-emerald-500 p-8 flex flex-col relative\">\r\n-                      <div class=\"text-white mt-16 space-y-2\">\r\n-                          <p class=\"text-2xl leading-relaxed\">\r\n+                  <!-- Right Section: Info -->\r\n+                  <div class=\"info-section\">\r\n+                      <div class=\"info-content animate-fade-in\">\r\n+                          <h3>\r\n                               Our AI tool quickly provides\r\n-                              <br />the ideal system size and\r\n-                              <br />savings estimateno\r\n-                              <br />in-person consultation\r\n-                              <br />needed. Get the fastest\r\n-                              <br />solar quote in Pakistan!\r\n-                          </p>\r\n+                              the ideal system size and\r\n+                              savings estimateno\r\n+                              in-person consultation\r\n+                              needed. Get the fastest\r\n+                              solar quote in Pakistan!\r\n+                          </h3>\r\n+                          <div class=\"powered-by\">POWERED BY AI</div>\r\n                       </div>\r\n-                      <div class=\"absolute bottom-24 text-white\">\r\n-                          <p class=\"text-2xl font-bold\">POWERED BY AI</p>\r\n-                      </div>\r\n                   </div>\r\n               </div>\r\n-\r\n-              <!-- Decorative Waves -->\r\n-              <div class=\"absolute bottom-0 w-full\">\r\n-                  <svg class=\"w-full h-24\" viewBox=\"0 0 1200 100\" preserveAspectRatio=\"none\">\r\n-                      <path d=\"M0,20 C200,0 400,40 600,20 S800,0 1200,20 L1200,100 L0,100 Z\"\r\n-                          class=\"fill-emerald-500 opacity-30\"/>\r\n-                      <path d=\"M0,40 C200,20 400,60 600,40 S800,20 1200,40 L1200,100 L0,100 Z\"\r\n-                          class=\"fill-yellow-400 opacity-50\"/>\r\n-                  </svg>\r\n-              </div>\r\n           </div>\r\n-      `;\r\n+      </main>\r\n+  `;\r\n+  }\r\n \r\n-      this.attachEventListeners();\r\n+  /**\r\n+   * Renders the form element\r\n+   */\r\n+  renderForm() {\r\n+    return `\r\n+      <form id=\"quote-form\" class=\"quote-form animate-fade-in\" novalidate>\r\n+          ${this.renderProviderField()}\r\n+          ${this.renderReferenceNumberField()}\r\n+          ${this.renderPhoneField()}\r\n+          ${this.renderSubmitButton()}\r\n+      </form>\r\n+  `;\r\n   }\r\n \r\n-  renderSpinner() {\r\n-      return `\r\n-          <svg class=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n-              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n-              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n-          </svg>\r\n-      `;\r\n+  /**\r\n+   * Renders the provider selection field\r\n+   */\r\n+  renderProviderField() {\r\n+    const { provider } = this.state;\r\n+    const error = this.state.validationErrors.provider;\r\n+\r\n+    return `\r\n+      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n+          <label for=\"provider\" class=\"form-label\">\r\n+              Choose your electricity Provider\r\n+          </label>\r\n+          <select \r\n+              id=\"provider\" \r\n+              name=\"provider\"\r\n+              class=\"form-select\"\r\n+              required\r\n+              value=\"${provider}\"\r\n+          >\r\n+              <option value=\"\">Select Provider</option>\r\n+              ${this.PROVIDERS.map(\r\n+                (p) => `\r\n+                  <option value=\"${p}\" ${provider === p ? \"selected\" : \"\"}>\r\n+                      ${p}\r\n+                  </option>\r\n+              `\r\n+              ).join(\"\")}\r\n+          </select>\r\n+          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n+      </div>\r\n+  `;\r\n   }\r\n \r\n+  /**\r\n+   * Renders the reference number input field\r\n+   */\r\n+  renderReferenceNumberField() {\r\n+    const { referenceNumber } = this.state;\r\n+    const error = this.state.validationErrors.referenceNumber;\r\n+\r\n+    return `\r\n+      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n+          <label for=\"referenceNumber\" class=\"form-label\">\r\n+              Enter your bill reference number\r\n+          </label>\r\n+          <input \r\n+              type=\"text\" \r\n+              id=\"referenceNumber\"\r\n+              name=\"referenceNumber\"\r\n+              class=\"form-input\"\r\n+              required\r\n+              pattern=\"[0-9]{10,14}\"\r\n+              value=\"${referenceNumber}\"\r\n+              placeholder=\"e.g., 1234567890\"\r\n+          />\r\n+          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n+      </div>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the phone number input field\r\n+   */\r\n+  renderPhoneField() {\r\n+    const { phone } = this.state;\r\n+    const error = this.state.validationErrors.phone;\r\n+\r\n+    return `\r\n+      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n+          <label for=\"phone\" class=\"form-label\">\r\n+              Enter your WhatsApp phone number\r\n+          </label>\r\n+          <input \r\n+              type=\"tel\" \r\n+              id=\"phone\"\r\n+              name=\"phone\"\r\n+              class=\"form-input\"\r\n+              required\r\n+              pattern=\"[+]?[0-9]{10,14}\"\r\n+              value=\"${phone}\"\r\n+              placeholder=\"+92 300 1234567\"\r\n+          />\r\n+          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n+      </div>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the submit button\r\n+   */\r\n+  renderSubmitButton() {\r\n+    return `\r\n+      <div class=\"form-group\">\r\n+          <button type=\"submit\" class=\"submit-button\" ${\r\n+            this.state.isLoading ? \"disabled\" : \"\"\r\n+          }>\r\n+              <span>${\r\n+                this.state.isLoading ? \"Processing...\" : \"Generate\"\r\n+              }</span>\r\n+              ${\r\n+                this.state.isLoading\r\n+                  ? this.createLoadingSpinner().outerHTML\r\n+                  : \"\"\r\n+              }\r\n+          </button>\r\n+      </div>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the wave decoration at the bottom\r\n+   */\r\n+  renderWaveDecoration() {\r\n+    return `\r\n+      <div class=\"wave-decoration\">\r\n+          <div class=\"wave wave-1\"></div>\r\n+          <div class=\"wave wave-2\"></div>\r\n+      </div>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the SVG icons\r\n+   */\r\n+  renderPhoneIcon() {\r\n+    return `\r\n+      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+          <path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"/>\r\n+      </svg>\r\n+  `;\r\n+  }\r\n+\r\n+  renderEmailIcon() {\r\n+    return `\r\n+      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+          <path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"/>\r\n+          <polyline points=\"22,6 12,13 2,6\"/>\r\n+      </svg>\r\n+  `;\r\n+  }\r\n+\r\n+  renderWhatsAppIcon() {\r\n+    return `\r\n+      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+          <path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"/>\r\n+      </svg>\r\n+  `;\r\n+  }\r\n+\r\n+  /**\r\n+   * Attaches event listeners to form elements\r\n+   */\r\n   attachEventListeners() {\r\n-      const form = document.getElementById('quote-form');\r\n-      const inputs = form.querySelectorAll('input');\r\n+    const form = document.getElementById(\"quote-form\");\r\n+    const inputs = form.querySelectorAll(\"input, select\");\r\n \r\n-      form.addEventListener('submit', this.handleSubmit.bind(this));\r\n-      inputs.forEach(input => {\r\n-          input.addEventListener('input', this.handleInput.bind(this));\r\n-      });\r\n+    // Form submission\r\n+    form.addEventListener(\"submit\", this.handleSubmit);\r\n+\r\n+    // Input events\r\n+    inputs.forEach((input) => {\r\n+      input.addEventListener(\"input\", this.handleInput);\r\n+      input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n+      input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n+    });\r\n+\r\n+    // Add resize listener for responsive adjustments\r\n+    window.addEventListener(\"resize\", this.handleResize.bind(this));\r\n   }\r\n \r\n+  /**\r\n+   * Handles form input changes\r\n+   * @param {Event} event - Input event\r\n+   */\r\n   handleInput(event) {\r\n-      const { id, value } = event.target;\r\n-      this.state[id] = value;\r\n+    const { name, value } = event.target;\r\n+    this.state[name] = value;\r\n+\r\n+    // Clear validation error when user starts typing\r\n+    this.state.validationErrors[name] = \"\";\r\n+\r\n+    // Remove error styling\r\n+    event.target.closest(\".form-group\").classList.remove(\"has-error\");\r\n   }\r\n \r\n-  async handleSubmit(event) {\r\n-      event.preventDefault();\r\n-      \r\n-      if (this.state.isLoading) return;\r\n+  /**\r\n+   * Handles input blur events\r\n+   * @param {Event} event - Blur event\r\n+   */\r\n+  handleBlur(event) {\r\n+    const { name, value } = event.target;\r\n \r\n-      if (!this.validateForm()) {\r\n-          alert('Please fill in all fields');\r\n-          return;\r\n-      }\r\n+    // Validate field on blur\r\n+    const error = this.validateField(name, value);\r\n+    if (error) {\r\n+      this.state.validationErrors[name] = error;\r\n+      event.target.closest(\".form-group\").classList.add(\"has-error\");\r\n+    }\r\n+  }\r\n \r\n-      try {\r\n-          this.state.isLoading = true;\r\n-          this.updateSubmitButton(true);\r\n+  /**\r\n+   * Handles input focus events\r\n+   * @param {Event} event - Focus event\r\n+   */\r\n+  handleFocus(event) {\r\n+    const formGroup = event.target.closest(\".form-group\");\r\n+    formGroup.classList.add(\"is-focused\");\r\n \r\n-          await fetchBillData(this.state.referenceNumber);\r\n-          window.router.push('/quote');\r\n-      } catch (error) {\r\n-          console.error('Error:', error);\r\n-          alert('Failed to generate quote. Please try again.');\r\n-      } finally {\r\n-          this.state.isLoading = false;\r\n-          this.updateSubmitButton(false);\r\n-      }\r\n+    // Add floating label animation\r\n+    const label = formGroup.querySelector(\".form-label\");\r\n+    if (label) {\r\n+      gsap.to(label, {\r\n+        y: -20,\r\n+        scale: 0.85,\r\n+        duration: 0.3,\r\n+        ease: \"power2.out\",\r\n+      });\r\n+    }\r\n   }\r\n \r\n-  validateForm() {\r\n-      return this.state.provider && \r\n-             this.state.referenceNumber && \r\n-             this.state.whatsapp;\r\n+  /**\r\n+   * Validates a single form field\r\n+   * @param {string} fieldName - Name of the field to validate\r\n+   * @param {string} value - Value to validate\r\n+   * @returns {string|null} Error message or null if valid\r\n+   */\r\n+  validateField(fieldName, value) {\r\n+    const rules = this.VALIDATION_RULES[fieldName];\r\n+    if (!rules) return null;\r\n+\r\n+    if (rules.required && !value) {\r\n+      return `${\r\n+        fieldName.charAt(0).toUpperCase() + fieldName.slice(1)\r\n+      } is required`;\r\n+    }\r\n+\r\n+    if (rules.pattern && !rules.pattern.test(value)) {\r\n+      return rules.message;\r\n+    }\r\n+\r\n+    if (rules.minLength && value.length < rules.minLength) {\r\n+      return `${\r\n+        fieldName.charAt(0).toUpperCase() + fieldName.slice(1)\r\n+      } must be at least ${rules.minLength} characters`;\r\n+    }\r\n+\r\n+    return null;\r\n   }\r\n \r\n-  updateSubmitButton(isLoading) {\r\n-      const button = document.querySelector('button[type=\"submit\"]');\r\n-      if (button) {\r\n-          button.innerHTML = isLoading \r\n-              ? `<span>Processing...</span>${this.renderSpinner()}`\r\n-              : '<span>Generate</span>';\r\n-          button.disabled = isLoading;\r\n+  /**\r\n+   * Validates the entire form\r\n+   * @returns {boolean} Whether the form is valid\r\n+   */\r\n+  validateForm() {\r\n+    let isValid = true;\r\n+    const formData = {\r\n+      provider: this.state.provider,\r\n+      referenceNumber: this.state.referenceNumber,\r\n+      phone: this.state.phone,\r\n+    };\r\n+\r\n+    // Validate each field\r\n+    Object.keys(formData).forEach((fieldName) => {\r\n+      const error = this.validateField(fieldName, formData[fieldName]);\r\n+      if (error) {\r\n+        this.state.validationErrors[fieldName] = error;\r\n+        isValid = false;\r\n+\r\n+        // Add error styling\r\n+        const formGroup = document\r\n+          .querySelector(`[name=\"${fieldName}\"]`)\r\n+          .closest(\".form-group\");\r\n+        formGroup.classList.add(\"has-error\");\r\n       }\r\n+    });\r\n+\r\n+    return isValid;\r\n   }\r\n+\r\n+  /**\r\n+   * Handles form submission\r\n+   * @param {Event} event - Submit event\r\n+   */\r\n+  async handleSubmit(event) {\r\n+    event.preventDefault();\r\n+\r\n+    if (this.state.isLoading) return;\r\n+\r\n+    if (!this.validateForm()) {\r\n+      this.showToast(\"Please fix the errors in the form\", \"error\");\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      this.setLoading(true);\r\n+      this.showToast(\"Generating your quote...\", \"info\");\r\n+\r\n+      // Submit the form data\r\n+      await fetchBillData(this.state.referenceNumber);\r\n+\r\n+      // Show success message\r\n+      this.showToast(\"Quote generated successfully!\", \"success\");\r\n+\r\n+      // Navigate to quote page\r\n+      window.router.push(\"/quote\");\r\n+    } catch (error) {\r\n+      console.error(\"Error submitting form:\", error);\r\n+      this.showToast(\"Failed to generate quote. Please try again.\", \"error\");\r\n+    } finally {\r\n+      this.setLoading(false);\r\n+    }\r\n+  }\r\n+\r\n+  /**\r\n+   * Handles window resize events\r\n+   */\r\n+  handleResize() {\r\n+    // Update layout classes based on window size\r\n+    const container = document.querySelector(\".container\");\r\n+    if (window.innerWidth < 768) {\r\n+      container.classList.remove(\"desktop-layout\");\r\n+      container.classList.add(\"mobile-layout\");\r\n+    } else {\r\n+      container.classList.remove(\"mobile-layout\");\r\n+      container.classList.add(\"desktop-layout\");\r\n+    }\r\n+  }\r\n+\r\n+  /**\r\n+   * Initializes page animations\r\n+   */\r\n+  initializeAnimations() {\r\n+    // Animate form elements\r\n+    gsap.from(\".form-title\", {\r\n+      y: 30,\r\n+      opacity: 0,\r\n+      duration: 0.8,\r\n+      ease: \"power3.out\",\r\n+    });\r\n+\r\n+    gsap.from(\".form-group\", {\r\n+      y: 20,\r\n+      opacity: 0,\r\n+      duration: 0.5,\r\n+      stagger: 0.1,\r\n+      ease: \"power2.out\",\r\n+    });\r\n+\r\n+    // Animate info section\r\n+    gsap.from(\".info-section\", {\r\n+      x: 50,\r\n+      opacity: 0,\r\n+      duration: 0.8,\r\n+      ease: \"power3.out\",\r\n+    });\r\n+\r\n+    // Animate wave decoration\r\n+    gsap.from(\".wave\", {\r\n+      scaleY: 0,\r\n+      transformOrigin: \"bottom\",\r\n+      duration: 1,\r\n+      ease: \"power2.out\",\r\n+      stagger: 0.2,\r\n+    });\r\n+  }\r\n+\r\n+  /**\r\n+   * Cleans up event listeners and animations\r\n+   */\r\n+  cleanup() {\r\n+    // Remove event listeners\r\n+    window.removeEventListener(\"resize\", this.handleResize);\r\n+\r\n+    // Kill all GSAP animations\r\n+    gsap.killTweensOf(\".form-title\");\r\n+    gsap.killTweensOf(\".form-group\");\r\n+    gsap.killTweensOf(\".info-section\");\r\n+    gsap.killTweensOf(\".wave\");\r\n+  }\r\n+\r\n+  /**\r\n+   * Renders the core styles for the page\r\n+   */\r\n+  renderStyles() {\r\n+    return `\r\n+      <style>\r\n+          /* CSS Reset and Variables */\r\n+          :root {\r\n+              --color-primary: #00a651;\r\n+              --color-primary-dark: #008c44;\r\n+              --color-primary-light: rgba(0, 166, 81, 0.1);\r\n+              --color-yellow: #ffde17;\r\n+              --color-error: #ef4444;\r\n+              --color-success: #10b981;\r\n+              --color-text: #2c3e50;\r\n+              --color-text-light: #7f8c8d;\r\n+              --color-background: #ffffff;\r\n+              --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\r\n+              --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n+              --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\r\n+              --border-radius: 0.5rem;\r\n+              --transition: all 0.3s ease;\r\n+          }\r\n+\r\n+          /* Base Styles */\r\n+          * {\r\n+              margin: 0;\r\n+              padding: 0;\r\n+              box-sizing: border-box;\r\n+          }\r\n+\r\n+          body {\r\n+              font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\r\n+              color: var(--color-text);\r\n+              line-height: 1.5;\r\n+              -webkit-font-smoothing: antialiased;\r\n+          }\r\n+\r\n+          /* Layout */\r\n+          .sap_form {\r\n+              min-height: 100vh;\r\n+              background-color: var(--color-background);\r\n+              position: relative;\r\n+              overflow: hidden;\r\n+          }\r\n+\r\n+          .container {\r\n+              max-width: 1200px;\r\n+              margin: 0 auto;\r\n+              padding: 0 1rem;\r\n+          }\r\n+\r\n+          .content-grid {\r\n+              display: grid;\r\n+              grid-template-columns: 2fr 1fr;\r\n+              gap: 2rem;\r\n+              position: relative;\r\n+              padding: 2rem 0;\r\n+          }\r\n+\r\n+          /* Header Styles */\r\n+          .header {\r\n+              padding: 1.5rem 0;\r\n+              border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n+          }\r\n+\r\n+          .logo-section {\r\n+              display: flex;\r\n+              align-items: center;\r\n+              gap: 1rem;\r\n+          }\r\n+\r\n+          .logo-icon {\r\n+              width: 60px;\r\n+              height: 50px;\r\n+              flex-shrink: 0;\r\n+          }\r\n+\r\n+          .logo-text h1 {\r\n+              font-size: 1.5rem;\r\n+              font-weight: bold;\r\n+              color: var(--color-text);\r\n+              line-height: 1.2;\r\n+          }\r\n+\r\n+          .logo-text p {\r\n+              font-size: 0.875rem;\r\n+              color: var(--color-text-light);\r\n+              font-style: italic;\r\n+          }\r\n+\r\n+          /* Contact Section Styles */\r\n+          .header-contacts {\r\n+              margin-top: 1rem;\r\n+          }\r\n+\r\n+          .contact-label {\r\n+              font-size: 1.125rem;\r\n+              color: var(--color-text-light);\r\n+              margin-bottom: 0.5rem;\r\n+          }\r\n+\r\n+          .contact-info {\r\n+              display: flex;\r\n+              justify-content: space-between;\r\n+              gap: 2rem;\r\n+          }\r\n+\r\n+          .contact-info a {\r\n+              color: var(--color-text-light);\r\n+              text-decoration: none;\r\n+              transition: var(--transition);\r\n+          }\r\n+\r\n+          .contact-info a:hover {\r\n+              color: var(--color-primary);\r\n+          }\r\n+\r\n+          .mobile-contacts {\r\n+              display: flex;\r\n+              gap: 1rem;\r\n+              justify-content: flex-end;\r\n+          }\r\n+\r\n+          .contact-icon {\r\n+              width: 40px;\r\n+              height: 40px;\r\n+              display: flex;\r\n+              align-items: center;\r\n+              justify-content: center;\r\n+              background-color: var(--color-primary-light);\r\n+              border-radius: 50%;\r\n+              color: var(--color-primary);\r\n+              transition: var(--transition);\r\n+          }\r\n+\r\n+          .contact-icon:hover {\r\n+              background-color: var(--color-primary);\r\n+              color: white;\r\n+              transform: translateY(-2px);\r\n+          }\r\n+\r\n+          .contact-icon svg {\r\n+              width: 20px;\r\n+              height: 20px;\r\n+          }\r\n+\r\n+          /* Form Section Styles */\r\n+          .form-section {\r\n+              padding: 2rem;\r\n+              background-color: var(--color-background);\r\n+              border-radius: var(--border-radius);\r\n+              box-shadow: var(--shadow-md);\r\n+          }\r\n+\r\n+          .form-title {\r\n+              font-size: 2.25rem;\r\n+              font-weight: bold;\r\n+              color: var(--color-primary);\r\n+              margin-bottom: 2rem;\r\n+              line-height: 1.2;\r\n+          }\r\n+\r\n+          .quote-form {\r\n+              display: flex;\r\n+              flex-direction: column;\r\n+              gap: 1.5rem;\r\n+          }\r\n+\r\n+          /* Right Info Section */\r\n+          .info-section {\r\n+              background-color: var(--color-primary);\r\n+              color: white;\r\n+              padding: 2rem;\r\n+              border-radius: var(--border-radius);\r\n+              position: relative;\r\n+          }\r\n+\r\n+          .info-content h3 {\r\n+              font-size: 1.5rem;\r\n+              line-height: 1.4;\r\n+              font-weight: normal;\r\n+              margin-bottom: 2rem;\r\n+          }\r\n+\r\n+          .powered-by {\r\n+              position: absolute;\r\n+              bottom: 2rem;\r\n+              font-size: 1.5rem;\r\n+              font-weight: bold;\r\n+          }\r\n+\r\n+          /* Wave Decoration */\r\n+          .wave-decoration {\r\n+              position: absolute;\r\n+              bottom: 0;\r\n+              left: 0;\r\n+              right: 0;\r\n+              height: 120px;\r\n+              overflow: hidden;\r\n+          }\r\n+\r\n+          .wave {\r\n+              position: absolute;\r\n+              bottom: 0;\r\n+              left: 0;\r\n+              right: 0;\r\n+              height: 100%;\r\n+          }\r\n+\r\n+          .wave-1 {\r\n+              background: var(--color-primary);\r\n+              opacity: 0.3;\r\n+              clip-path: path('M0,64 C200,44 400,84 600,64 S800,44 1200,64 L1200,100 L0,100 Z');\r\n+          }\r\n+\r\n+          .wave-2 {\r\n+              background: var(--color-yellow);\r\n+              opacity: 0.5;\r\n+              clip-path: path('M0,74 C200,54 400,94 600,74 S800,54 1200,74 L1200,100 L0,100 Z');\r\n+          }\r\n+      </style>\r\n+  `;\r\n+  }\r\n }\r\n-\r\n-export { ReferenceInputPage };\n"
                },
                {
                    "date": 1731007826706,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -164,725 +164,5 @@\n       </div>\r\n       ${this.renderStyles()}\r\n   `;\r\n   }\r\n-\r\n-  /**\r\n-   * Renders the header section with logo\r\n-   */\r\n-  renderHeader() {\r\n-    return `\r\n-      <header class=\"header\">\r\n-          <div class=\"container\">\r\n-              <div class=\"logo-section\">\r\n-                  ${this.renderLogo()}\r\n-                  <div class=\"logo-text\">\r\n-                      <h1>ENERGY COVE</h1>\r\n-                      <p>Energy for Life</p>\r\n-                  </div>\r\n-              </div>\r\n-              ${this.renderHeaderContacts()}\r\n-          </div>\r\n-      </header>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the logo SVG\r\n-   */\r\n-  renderLogo() {\r\n-    return `\r\n-      <svg class=\"logo-icon\" viewBox=\"0 0 60 50\" width=\"60\" height=\"50\">\r\n-          <path \r\n-              d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n-              fill=\"#00a651\"\r\n-          />\r\n-      </svg>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the header contact information\r\n-   */\r\n-  renderHeaderContacts() {\r\n-    return `\r\n-      <div class=\"header-contacts\">\r\n-          <!-- Mobile Contacts -->\r\n-          <div class=\"mobile-contacts md:hidden\">\r\n-              <a href=\"tel:+923001234567\" class=\"contact-icon\" aria-label=\"Call us\">\r\n-                  ${this.renderPhoneIcon()}\r\n-              </a>\r\n-              <a href=\"mailto:info@energycove.pk\" class=\"contact-icon\" aria-label=\"Email us\">\r\n-                  ${this.renderEmailIcon()}\r\n-              </a>\r\n-              <a href=\"https://wa.me/923001234567\" class=\"contact-icon\" aria-label=\"WhatsApp\">\r\n-                  ${this.renderWhatsAppIcon()}\r\n-              </a>\r\n-          </div>\r\n-          \r\n-          <!-- Desktop Contacts -->\r\n-          <div class=\"desktop-contacts hidden md:block\">\r\n-              <div class=\"contact-label\">Contact us</div>\r\n-              <div class=\"contact-info\">\r\n-                  <a href=\"https://wa.me/923001234567\">WhatsApp</a>\r\n-                  <a href=\"mailto:info@energycove.pk\">info@energycove.pk</a>\r\n-              </div>\r\n-          </div>\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the main content section\r\n-   */\r\n-  renderMainContent() {\r\n-    return `\r\n-      <main class=\"main-content\">\r\n-          <div class=\"container\">\r\n-              <div class=\"content-grid\">\r\n-                  <!-- Left Section: Form -->\r\n-                  <div class=\"form-section\">\r\n-                      <h2 class=\"form-title animate-slide-up\">\r\n-                          Get your solar quote\r\n-                      </h2>\r\n-                      ${this.renderForm()}\r\n-                  </div>\r\n-\r\n-                  <!-- Right Section: Info -->\r\n-                  <div class=\"info-section\">\r\n-                      <div class=\"info-content animate-fade-in\">\r\n-                          <h3>\r\n-                              Our AI tool quickly provides\r\n-                              the ideal system size and\r\n-                              savings estimateno\r\n-                              in-person consultation\r\n-                              needed. Get the fastest\r\n-                              solar quote in Pakistan!\r\n-                          </h3>\r\n-                          <div class=\"powered-by\">POWERED BY AI</div>\r\n-                      </div>\r\n-                  </div>\r\n-              </div>\r\n-          </div>\r\n-      </main>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the form element\r\n-   */\r\n-  renderForm() {\r\n-    return `\r\n-      <form id=\"quote-form\" class=\"quote-form animate-fade-in\" novalidate>\r\n-          ${this.renderProviderField()}\r\n-          ${this.renderReferenceNumberField()}\r\n-          ${this.renderPhoneField()}\r\n-          ${this.renderSubmitButton()}\r\n-      </form>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the provider selection field\r\n-   */\r\n-  renderProviderField() {\r\n-    const { provider } = this.state;\r\n-    const error = this.state.validationErrors.provider;\r\n-\r\n-    return `\r\n-      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n-          <label for=\"provider\" class=\"form-label\">\r\n-              Choose your electricity Provider\r\n-          </label>\r\n-          <select \r\n-              id=\"provider\" \r\n-              name=\"provider\"\r\n-              class=\"form-select\"\r\n-              required\r\n-              value=\"${provider}\"\r\n-          >\r\n-              <option value=\"\">Select Provider</option>\r\n-              ${this.PROVIDERS.map(\r\n-                (p) => `\r\n-                  <option value=\"${p}\" ${provider === p ? \"selected\" : \"\"}>\r\n-                      ${p}\r\n-                  </option>\r\n-              `\r\n-              ).join(\"\")}\r\n-          </select>\r\n-          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the reference number input field\r\n-   */\r\n-  renderReferenceNumberField() {\r\n-    const { referenceNumber } = this.state;\r\n-    const error = this.state.validationErrors.referenceNumber;\r\n-\r\n-    return `\r\n-      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n-          <label for=\"referenceNumber\" class=\"form-label\">\r\n-              Enter your bill reference number\r\n-          </label>\r\n-          <input \r\n-              type=\"text\" \r\n-              id=\"referenceNumber\"\r\n-              name=\"referenceNumber\"\r\n-              class=\"form-input\"\r\n-              required\r\n-              pattern=\"[0-9]{10,14}\"\r\n-              value=\"${referenceNumber}\"\r\n-              placeholder=\"e.g., 1234567890\"\r\n-          />\r\n-          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the phone number input field\r\n-   */\r\n-  renderPhoneField() {\r\n-    const { phone } = this.state;\r\n-    const error = this.state.validationErrors.phone;\r\n-\r\n-    return `\r\n-      <div class=\"form-group ${error ? \"has-error\" : \"\"}\">\r\n-          <label for=\"phone\" class=\"form-label\">\r\n-              Enter your WhatsApp phone number\r\n-          </label>\r\n-          <input \r\n-              type=\"tel\" \r\n-              id=\"phone\"\r\n-              name=\"phone\"\r\n-              class=\"form-input\"\r\n-              required\r\n-              pattern=\"[+]?[0-9]{10,14}\"\r\n-              value=\"${phone}\"\r\n-              placeholder=\"+92 300 1234567\"\r\n-          />\r\n-          ${error ? `<div class=\"error-message\">${error}</div>` : \"\"}\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the submit button\r\n-   */\r\n-  renderSubmitButton() {\r\n-    return `\r\n-      <div class=\"form-group\">\r\n-          <button type=\"submit\" class=\"submit-button\" ${\r\n-            this.state.isLoading ? \"disabled\" : \"\"\r\n-          }>\r\n-              <span>${\r\n-                this.state.isLoading ? \"Processing...\" : \"Generate\"\r\n-              }</span>\r\n-              ${\r\n-                this.state.isLoading\r\n-                  ? this.createLoadingSpinner().outerHTML\r\n-                  : \"\"\r\n-              }\r\n-          </button>\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the wave decoration at the bottom\r\n-   */\r\n-  renderWaveDecoration() {\r\n-    return `\r\n-      <div class=\"wave-decoration\">\r\n-          <div class=\"wave wave-1\"></div>\r\n-          <div class=\"wave wave-2\"></div>\r\n-      </div>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the SVG icons\r\n-   */\r\n-  renderPhoneIcon() {\r\n-    return `\r\n-      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-          <path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"/>\r\n-      </svg>\r\n-  `;\r\n-  }\r\n-\r\n-  renderEmailIcon() {\r\n-    return `\r\n-      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-          <path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"/>\r\n-          <polyline points=\"22,6 12,13 2,6\"/>\r\n-      </svg>\r\n-  `;\r\n-  }\r\n-\r\n-  renderWhatsAppIcon() {\r\n-    return `\r\n-      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-          <path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"/>\r\n-      </svg>\r\n-  `;\r\n-  }\r\n-\r\n-  /**\r\n-   * Attaches event listeners to form elements\r\n-   */\r\n-  attachEventListeners() {\r\n-    const form = document.getElementById(\"quote-form\");\r\n-    const inputs = form.querySelectorAll(\"input, select\");\r\n-\r\n-    // Form submission\r\n-    form.addEventListener(\"submit\", this.handleSubmit);\r\n-\r\n-    // Input events\r\n-    inputs.forEach((input) => {\r\n-      input.addEventListener(\"input\", this.handleInput);\r\n-      input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n-      input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n-    });\r\n-\r\n-    // Add resize listener for responsive adjustments\r\n-    window.addEventListener(\"resize\", this.handleResize.bind(this));\r\n-  }\r\n-\r\n-  /**\r\n-   * Handles form input changes\r\n-   * @param {Event} event - Input event\r\n-   */\r\n-  handleInput(event) {\r\n-    const { name, value } = event.target;\r\n-    this.state[name] = value;\r\n-\r\n-    // Clear validation error when user starts typing\r\n-    this.state.validationErrors[name] = \"\";\r\n-\r\n-    // Remove error styling\r\n-    event.target.closest(\".form-group\").classList.remove(\"has-error\");\r\n-  }\r\n-\r\n-  /**\r\n-   * Handles input blur events\r\n-   * @param {Event} event - Blur event\r\n-   */\r\n-  handleBlur(event) {\r\n-    const { name, value } = event.target;\r\n-\r\n-    // Validate field on blur\r\n-    const error = this.validateField(name, value);\r\n-    if (error) {\r\n-      this.state.validationErrors[name] = error;\r\n-      event.target.closest(\".form-group\").classList.add(\"has-error\");\r\n-    }\r\n-  }\r\n-\r\n-  /**\r\n-   * Handles input focus events\r\n-   * @param {Event} event - Focus event\r\n-   */\r\n-  handleFocus(event) {\r\n-    const formGroup = event.target.closest(\".form-group\");\r\n-    formGroup.classList.add(\"is-focused\");\r\n-\r\n-    // Add floating label animation\r\n-    const label = formGroup.querySelector(\".form-label\");\r\n-    if (label) {\r\n-      gsap.to(label, {\r\n-        y: -20,\r\n-        scale: 0.85,\r\n-        duration: 0.3,\r\n-        ease: \"power2.out\",\r\n-      });\r\n-    }\r\n-  }\r\n-\r\n-  /**\r\n-   * Validates a single form field\r\n-   * @param {string} fieldName - Name of the field to validate\r\n-   * @param {string} value - Value to validate\r\n-   * @returns {string|null} Error message or null if valid\r\n-   */\r\n-  validateField(fieldName, value) {\r\n-    const rules = this.VALIDATION_RULES[fieldName];\r\n-    if (!rules) return null;\r\n-\r\n-    if (rules.required && !value) {\r\n-      return `${\r\n-        fieldName.charAt(0).toUpperCase() + fieldName.slice(1)\r\n-      } is required`;\r\n-    }\r\n-\r\n-    if (rules.pattern && !rules.pattern.test(value)) {\r\n-      return rules.message;\r\n-    }\r\n-\r\n-    if (rules.minLength && value.length < rules.minLength) {\r\n-      return `${\r\n-        fieldName.charAt(0).toUpperCase() + fieldName.slice(1)\r\n-      } must be at least ${rules.minLength} characters`;\r\n-    }\r\n-\r\n-    return null;\r\n-  }\r\n-\r\n-  /**\r\n-   * Validates the entire form\r\n-   * @returns {boolean} Whether the form is valid\r\n-   */\r\n-  validateForm() {\r\n-    let isValid = true;\r\n-    const formData = {\r\n-      provider: this.state.provider,\r\n-      referenceNumber: this.state.referenceNumber,\r\n-      phone: this.state.phone,\r\n-    };\r\n-\r\n-    // Validate each field\r\n-    Object.keys(formData).forEach((fieldName) => {\r\n-      const error = this.validateField(fieldName, formData[fieldName]);\r\n-      if (error) {\r\n-        this.state.validationErrors[fieldName] = error;\r\n-        isValid = false;\r\n-\r\n-        // Add error styling\r\n-        const formGroup = document\r\n-          .querySelector(`[name=\"${fieldName}\"]`)\r\n-          .closest(\".form-group\");\r\n-        formGroup.classList.add(\"has-error\");\r\n-      }\r\n-    });\r\n-\r\n-    return isValid;\r\n-  }\r\n-\r\n-  /**\r\n-   * Handles form submission\r\n-   * @param {Event} event - Submit event\r\n-   */\r\n-  async handleSubmit(event) {\r\n-    event.preventDefault();\r\n-\r\n-    if (this.state.isLoading) return;\r\n-\r\n-    if (!this.validateForm()) {\r\n-      this.showToast(\"Please fix the errors in the form\", \"error\");\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      this.setLoading(true);\r\n-      this.showToast(\"Generating your quote...\", \"info\");\r\n-\r\n-      // Submit the form data\r\n-      await fetchBillData(this.state.referenceNumber);\r\n-\r\n-      // Show success message\r\n-      this.showToast(\"Quote generated successfully!\", \"success\");\r\n-\r\n-      // Navigate to quote page\r\n-      window.router.push(\"/quote\");\r\n-    } catch (error) {\r\n-      console.error(\"Error submitting form:\", error);\r\n-      this.showToast(\"Failed to generate quote. Please try again.\", \"error\");\r\n-    } finally {\r\n-      this.setLoading(false);\r\n-    }\r\n-  }\r\n-\r\n-  /**\r\n-   * Handles window resize events\r\n-   */\r\n-  handleResize() {\r\n-    // Update layout classes based on window size\r\n-    const container = document.querySelector(\".container\");\r\n-    if (window.innerWidth < 768) {\r\n-      container.classList.remove(\"desktop-layout\");\r\n-      container.classList.add(\"mobile-layout\");\r\n-    } else {\r\n-      container.classList.remove(\"mobile-layout\");\r\n-      container.classList.add(\"desktop-layout\");\r\n-    }\r\n-  }\r\n-\r\n-  /**\r\n-   * Initializes page animations\r\n-   */\r\n-  initializeAnimations() {\r\n-    // Animate form elements\r\n-    gsap.from(\".form-title\", {\r\n-      y: 30,\r\n-      opacity: 0,\r\n-      duration: 0.8,\r\n-      ease: \"power3.out\",\r\n-    });\r\n-\r\n-    gsap.from(\".form-group\", {\r\n-      y: 20,\r\n-      opacity: 0,\r\n-      duration: 0.5,\r\n-      stagger: 0.1,\r\n-      ease: \"power2.out\",\r\n-    });\r\n-\r\n-    // Animate info section\r\n-    gsap.from(\".info-section\", {\r\n-      x: 50,\r\n-      opacity: 0,\r\n-      duration: 0.8,\r\n-      ease: \"power3.out\",\r\n-    });\r\n-\r\n-    // Animate wave decoration\r\n-    gsap.from(\".wave\", {\r\n-      scaleY: 0,\r\n-      transformOrigin: \"bottom\",\r\n-      duration: 1,\r\n-      ease: \"power2.out\",\r\n-      stagger: 0.2,\r\n-    });\r\n-  }\r\n-\r\n-  /**\r\n-   * Cleans up event listeners and animations\r\n-   */\r\n-  cleanup() {\r\n-    // Remove event listeners\r\n-    window.removeEventListener(\"resize\", this.handleResize);\r\n-\r\n-    // Kill all GSAP animations\r\n-    gsap.killTweensOf(\".form-title\");\r\n-    gsap.killTweensOf(\".form-group\");\r\n-    gsap.killTweensOf(\".info-section\");\r\n-    gsap.killTweensOf(\".wave\");\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the core styles for the page\r\n-   */\r\n-  renderStyles() {\r\n-    return `\r\n-      <style>\r\n-          /* CSS Reset and Variables */\r\n-          :root {\r\n-              --color-primary: #00a651;\r\n-              --color-primary-dark: #008c44;\r\n-              --color-primary-light: rgba(0, 166, 81, 0.1);\r\n-              --color-yellow: #ffde17;\r\n-              --color-error: #ef4444;\r\n-              --color-success: #10b981;\r\n-              --color-text: #2c3e50;\r\n-              --color-text-light: #7f8c8d;\r\n-              --color-background: #ffffff;\r\n-              --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\r\n-              --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n-              --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\r\n-              --border-radius: 0.5rem;\r\n-              --transition: all 0.3s ease;\r\n-          }\r\n-\r\n-          /* Base Styles */\r\n-          * {\r\n-              margin: 0;\r\n-              padding: 0;\r\n-              box-sizing: border-box;\r\n-          }\r\n-\r\n-          body {\r\n-              font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\r\n-              color: var(--color-text);\r\n-              line-height: 1.5;\r\n-              -webkit-font-smoothing: antialiased;\r\n-          }\r\n-\r\n-          /* Layout */\r\n-          .sap_form {\r\n-              min-height: 100vh;\r\n-              background-color: var(--color-background);\r\n-              position: relative;\r\n-              overflow: hidden;\r\n-          }\r\n-\r\n-          .container {\r\n-              max-width: 1200px;\r\n-              margin: 0 auto;\r\n-              padding: 0 1rem;\r\n-          }\r\n-\r\n-          .content-grid {\r\n-              display: grid;\r\n-              grid-template-columns: 2fr 1fr;\r\n-              gap: 2rem;\r\n-              position: relative;\r\n-              padding: 2rem 0;\r\n-          }\r\n-\r\n-          /* Header Styles */\r\n-          .header {\r\n-              padding: 1.5rem 0;\r\n-              border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n-          }\r\n-\r\n-          .logo-section {\r\n-              display: flex;\r\n-              align-items: center;\r\n-              gap: 1rem;\r\n-          }\r\n-\r\n-          .logo-icon {\r\n-              width: 60px;\r\n-              height: 50px;\r\n-              flex-shrink: 0;\r\n-          }\r\n-\r\n-          .logo-text h1 {\r\n-              font-size: 1.5rem;\r\n-              font-weight: bold;\r\n-              color: var(--color-text);\r\n-              line-height: 1.2;\r\n-          }\r\n-\r\n-          .logo-text p {\r\n-              font-size: 0.875rem;\r\n-              color: var(--color-text-light);\r\n-              font-style: italic;\r\n-          }\r\n-\r\n-          /* Contact Section Styles */\r\n-          .header-contacts {\r\n-              margin-top: 1rem;\r\n-          }\r\n-\r\n-          .contact-label {\r\n-              font-size: 1.125rem;\r\n-              color: var(--color-text-light);\r\n-              margin-bottom: 0.5rem;\r\n-          }\r\n-\r\n-          .contact-info {\r\n-              display: flex;\r\n-              justify-content: space-between;\r\n-              gap: 2rem;\r\n-          }\r\n-\r\n-          .contact-info a {\r\n-              color: var(--color-text-light);\r\n-              text-decoration: none;\r\n-              transition: var(--transition);\r\n-          }\r\n-\r\n-          .contact-info a:hover {\r\n-              color: var(--color-primary);\r\n-          }\r\n-\r\n-          .mobile-contacts {\r\n-              display: flex;\r\n-              gap: 1rem;\r\n-              justify-content: flex-end;\r\n-          }\r\n-\r\n-          .contact-icon {\r\n-              width: 40px;\r\n-              height: 40px;\r\n-              display: flex;\r\n-              align-items: center;\r\n-              justify-content: center;\r\n-              background-color: var(--color-primary-light);\r\n-              border-radius: 50%;\r\n-              color: var(--color-primary);\r\n-              transition: var(--transition);\r\n-          }\r\n-\r\n-          .contact-icon:hover {\r\n-              background-color: var(--color-primary);\r\n-              color: white;\r\n-              transform: translateY(-2px);\r\n-          }\r\n-\r\n-          .contact-icon svg {\r\n-              width: 20px;\r\n-              height: 20px;\r\n-          }\r\n-\r\n-          /* Form Section Styles */\r\n-          .form-section {\r\n-              padding: 2rem;\r\n-              background-color: var(--color-background);\r\n-              border-radius: var(--border-radius);\r\n-              box-shadow: var(--shadow-md);\r\n-          }\r\n-\r\n-          .form-title {\r\n-              font-size: 2.25rem;\r\n-              font-weight: bold;\r\n-              color: var(--color-primary);\r\n-              margin-bottom: 2rem;\r\n-              line-height: 1.2;\r\n-          }\r\n-\r\n-          .quote-form {\r\n-              display: flex;\r\n-              flex-direction: column;\r\n-              gap: 1.5rem;\r\n-          }\r\n-\r\n-          /* Right Info Section */\r\n-          .info-section {\r\n-              background-color: var(--color-primary);\r\n-              color: white;\r\n-              padding: 2rem;\r\n-              border-radius: var(--border-radius);\r\n-              position: relative;\r\n-          }\r\n-\r\n-          .info-content h3 {\r\n-              font-size: 1.5rem;\r\n-              line-height: 1.4;\r\n-              font-weight: normal;\r\n-              margin-bottom: 2rem;\r\n-          }\r\n-\r\n-          .powered-by {\r\n-              position: absolute;\r\n-              bottom: 2rem;\r\n-              font-size: 1.5rem;\r\n-              font-weight: bold;\r\n-          }\r\n-\r\n-          /* Wave Decoration */\r\n-          .wave-decoration {\r\n-              position: absolute;\r\n-              bottom: 0;\r\n-              left: 0;\r\n-              right: 0;\r\n-              height: 120px;\r\n-              overflow: hidden;\r\n-          }\r\n-\r\n-          .wave {\r\n-              position: absolute;\r\n-              bottom: 0;\r\n-              left: 0;\r\n-              right: 0;\r\n-              height: 100%;\r\n-          }\r\n-\r\n-          .wave-1 {\r\n-              background: var(--color-primary);\r\n-              opacity: 0.3;\r\n-              clip-path: path('M0,64 C200,44 400,84 600,64 S800,44 1200,64 L1200,100 L0,100 Z');\r\n-          }\r\n-\r\n-          .wave-2 {\r\n-              background: var(--color-yellow);\r\n-              opacity: 0.5;\r\n-              clip-path: path('M0,74 C200,54 400,94 600,74 S800,54 1200,74 L1200,100 L0,100 Z');\r\n-          }\r\n-      </style>\r\n-  `;\r\n-  }\r\n-}\n\\ No newline at end of file\n+}\r\n"
                },
                {
                    "date": 1731007834220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,436 @@\n+import {\r\n+  fetchBillData,\r\n+  getIsLoading,\r\n+  getError,\r\n+} from \"../store/solarSizingState.js\";\r\n+\r\n+export class ReferenceInputPage {\r\n+  constructor() {\r\n+    this.name = \"\";\r\n+    this.phone = \"\";\r\n+    this.email = \"\";\r\n+    this.referenceNumber = \"\";\r\n+    this.isLoading = false;\r\n+    this.error = null;\r\n+  }\r\n+\r\n+  render() {\r\n+    const app = document.getElementById(\"app\");\r\n+    app.innerHTML = `\r\n+        <div class=\"sap_form\">\r\n+          <div class=\"container mx-auto px-6 md:px-10\">\r\n+            <!-- Mobile Contact Icons -->\r\n+            <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n+              <p>\r\n+                <a href=\"tel:+14155551234\" class=\"contact-icon phn_mb animate-bounce\" aria-label=\"Solar System Sizing Phone\"></a>\r\n+              </p>\r\n+              <p>\r\n+                <a href=\"mailto:info@solarsizing.com\" class=\"contact-icon eml_mb animate-bounce\" aria-label=\"Solar System Sizing Email\"></a>\r\n+              </p>\r\n+              <p>\r\n+                <a href=\"https://t.me/solarsizing\" class=\"contact-icon tg_mb animate-bounce\" aria-label=\"Solar System Sizing Telegram\"></a>\r\n+              </p>\r\n+            </div>\r\n+  \r\n+            <!-- Desktop Contact Label -->\r\n+            <div class=\"hidden md:flex pt-4 animate-fadeIn\">\r\n+              <div class=\"w-full\">\r\n+                <p class=\"text-black opacity-20 text-xl tracking-tight\">Contact us</p>\r\n+              </div>\r\n+            </div>\r\n+  \r\n+            <!-- Desktop Contact Details -->\r\n+            <div class=\"mt-6 hidden md:flex justify-between animate-fadeIn\">\r\n+              <div class=\"flex items-center\">\r\n+                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n+                  <a href=\"https://t.me/solarsizing\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Telegram\">\r\n+                    Telegram\r\n+                  </a>\r\n+                </p>\r\n+              </div>\r\n+              <div class=\"flex items-center\">\r\n+                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n+                  <a href=\"mailto:info@solarsizing.com\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Email\">\r\n+                    info@solarsizing.com\r\n+                  </a>\r\n+                </p>\r\n+              </div>\r\n+            </div>\r\n+  \r\n+            <!-- Form Title -->\r\n+            <div class=\"mt-20 animate-slideInLeft\">\r\n+              <h2 class=\"hidden md:block text-5xl font-normal tracking-tight\">\r\n+                Solar System Sizing Tool -\r\n+                <span class=\"block\">Enter Your Details</span>\r\n+              </h2>\r\n+              <h2 class=\"block md:hidden text-3xl font-normal tracking-tight\">\r\n+                Solar System Sizing Tool -\r\n+                <span class=\"block\">Enter Your Details</span>\r\n+              </h2>\r\n+            </div>\r\n+  \r\n+            <!-- Form -->\r\n+            <div class=\"mt-24 animate-fadeIn\">\r\n+              <form id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n+                <!-- Name Field -->\r\n+                <div class=\"relative\">\r\n+                  <input type=\"text\" id=\"name\" name=\"NAME\" placeholder=\" \" required aria-label=\"NAME\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                  <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                    Your name\r\n+                  </label>\r\n+                </div>\r\n+  \r\n+                <!-- Phone and Email Fields -->\r\n+                <div class=\"grid md:grid-cols-2 gap-6\">\r\n+                  <div class=\"relative\">\r\n+                    <input type=\"tel\" id=\"phone\" name=\"PHONE\" placeholder=\" \" required aria-label=\"PHONE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                    <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                      Phone\r\n+                    </label>\r\n+                  </div>\r\n+                  <div class=\"relative\">\r\n+                    <input type=\"email\" id=\"email\" name=\"EMAIL\" placeholder=\" \" required aria-label=\"EMAIL\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                    <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                      E-mail\r\n+                    </label>\r\n+                  </div>\r\n+                </div>\r\n+  \r\n+                <!-- Reference Number -->\r\n+                <div class=\"relative\">\r\n+                  <input type=\"text\" id=\"referenceNumber\" name=\"REFERENCE\" placeholder=\" \" required aria-label=\"REFERENCE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n+                  <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n+                    MEPCO Bill Reference Number\r\n+                  </label>\r\n+                </div>\r\n+  \r\n+                <!-- File Upload -->\r\n+                <div class=\"mt-8 animate-slideInRight\">\r\n+                  <div class=\"flex flex-wrap items-start max-w-full\">\r\n+                    <ul class=\"list_dwn flex flex-wrap mt-4 w-full\"></ul>\r\n+                    <div class=\"relative\">\r\n+                      <div class=\"dwn text-lg text-black cursor-pointer px-4 py-2 hover:text-gray-400 transition-colors duration-300\">\r\n+                        Add attachment\r\n+                      </div>\r\n+                      <input type=\"file\" name=\"files[]\" data-url=\"/user_files/\" class=\"hidden\">\r\n+                      <div class=\"progress bg-gray-400 mt-2 relative h-0.5 w-full max-w-full\" role=\"progressbar\" aria-label=\"File Upload Progress\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\">\r\n+                        <div class=\"progress-bar-success bg-green-500 absolute top-0 left-0 h-full\" style=\"width: 0%\"></div>\r\n+                      </div>\r\n+                      <div class=\"progress_txt mt-4 text-sm text-black\">\r\n+                        <div>Supported formats: jpg, png, pdf, doc(x), xls(x), ppt(x)</div>\r\n+                        <div>Maximum file size 20 MB</div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </div>\r\n+                </div>\r\n+  \r\n+                <!-- Error message -->\r\n+                <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n+  \r\n+                <!-- Submit button -->\r\n+                <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n+                  <span>Get Quote</span>\r\n+                </button>\r\n+              </form>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      `;\r\n+\r\n+    this.attachEventListeners();\r\n+    this.attachStyles();\r\n+  }\r\n+\r\n+  attachEventListeners() {\r\n+    const form = document.getElementById(\"solar-sizing-form\");\r\n+    form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n+\r\n+    const inputs = form.querySelectorAll(\"input\");\r\n+    inputs.forEach((input) => {\r\n+      input.addEventListener(\"input\", this.handleInput.bind(this));\r\n+      input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n+      input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n+    });\r\n+  }\r\n+\r\n+  handleInput(event) {\r\n+    this[event.target.id] = event.target.value;\r\n+  }\r\n+\r\n+  handleFocus(event) {\r\n+    event.target.parentElement.classList.add(\"focused\");\r\n+  }\r\n+\r\n+  handleBlur(event) {\r\n+    if (!event.target.value) {\r\n+      event.target.parentElement.classList.remove(\"focused\");\r\n+    }\r\n+  }\r\n+\r\n+  async handleSubmit(event) {\r\n+    event.preventDefault();\r\n+\r\n+    if (this.isFormValid()) {\r\n+      this.isLoading = true;\r\n+      this.renderLoadingState();\r\n+\r\n+      try {\r\n+        await fetchBillData(this.referenceNumber);\r\n+        console.log(\"Navigating to /quote\");\r\n+        window.router.push(\"/quote\");\r\n+      } catch (err) {\r\n+        console.error(\"Error generating quote:\", err);\r\n+        this.error = \"Error generating quote. Please try again.\";\r\n+        this.renderError();\r\n+      } finally {\r\n+        this.isLoading = false;\r\n+        this.renderLoadingState();\r\n+      }\r\n+    } else {\r\n+      this.error = \"Please fill in all required fields.\";\r\n+      this.renderError();\r\n+    }\r\n+  }\r\n+\r\n+  isFormValid() {\r\n+    return this.name && this.phone && this.email && this.referenceNumber;\r\n+  }\r\n+\r\n+  renderLoadingState() {\r\n+    const button = document.querySelector(\".get_go\");\r\n+    if (this.isLoading) {\r\n+      button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n+      button.disabled = true;\r\n+    } else {\r\n+      button.innerHTML = \"<span>Get Quote</span>\";\r\n+      button.disabled = false;\r\n+    }\r\n+  }\r\n+\r\n+  renderError() {\r\n+    const errorMessage = document.getElementById(\"error-message\");\r\n+    if (this.error) {\r\n+      errorMessage.textContent = this.error;\r\n+      errorMessage.classList.remove(\"hidden\");\r\n+      errorMessage.classList.add(\"animate-shake\");\r\n+      setTimeout(() => {\r\n+        errorMessage.classList.remove(\"animate-shake\");\r\n+      }, 500);\r\n+    } else {\r\n+      errorMessage.classList.add(\"hidden\");\r\n+    }\r\n+  }\r\n+\r\n+  attachStyles() {\r\n+    const style = document.createElement(\"style\");\r\n+    style.textContent = `\r\n+        /* Base styles */\r\n+:root {\r\n+  --color-primary: #00a651;\r\n+  --color-primary-light: rgba(0, 166, 81, 0.1);\r\n+  --color-yellow: #ffde17;\r\n+  --color-text: #2c3e50;\r\n+  --color-text-light: #7f8c8d;\r\n+}\r\n+\r\n+.sap_form {\r\n+  min-height: 100vh;\r\n+  background-color: #ffffff;\r\n+  position: relative;\r\n+  overflow: hidden;\r\n+}\r\n+\r\n+/* Container */\r\n+.container {\r\n+  max-width: 1200px;\r\n+  margin: 0 auto;\r\n+  display: grid;\r\n+  grid-template-columns: 2fr 1fr;\r\n+  gap: 2rem;\r\n+  position: relative;\r\n+}\r\n+\r\n+/* Logo Section */\r\n+.logo-section {\r\n+  display: flex;\r\n+  align-items: center;\r\n+  gap: 1rem;\r\n+  padding: 2rem 0;\r\n+}\r\n+\r\n+.logo-icon {\r\n+  width: 60px;\r\n+  height: 60px;\r\n+}\r\n+\r\n+.logo-text h1 {\r\n+  font-size: 1.5rem;\r\n+  font-weight: bold;\r\n+  color: var(--color-text);\r\n+}\r\n+\r\n+.logo-text p {\r\n+  font-size: 0.875rem;\r\n+  color: var(--color-text-light);\r\n+  font-style: italic;\r\n+}\r\n+\r\n+/* Form Section */\r\n+.form-container {\r\n+  padding: 2rem;\r\n+  max-width: 600px;\r\n+}\r\n+\r\n+.form-title {\r\n+  color: var(--color-primary);\r\n+  font-size: 2.25rem;\r\n+  font-weight: bold;\r\n+  margin-bottom: 2rem;\r\n+}\r\n+\r\n+.input-group {\r\n+  margin-bottom: 1.5rem;\r\n+}\r\n+\r\n+.input-group label {\r\n+  display: block;\r\n+  font-size: 0.875rem;\r\n+  color: var(--color-text);\r\n+  margin-bottom: 0.5rem;\r\n+}\r\n+\r\n+.input-group input {\r\n+  width: 100%;\r\n+  padding: 0.75rem;\r\n+  border: 1px solid #e2e8f0;\r\n+  border-radius: 0.375rem;\r\n+  font-size: 1rem;\r\n+  transition: all 0.3s ease;\r\n+}\r\n+\r\n+.input-group input:focus {\r\n+  outline: none;\r\n+  border-color: var(--color-primary);\r\n+  box-shadow: 0 0 0 3px var(--color-primary-light);\r\n+}\r\n+\r\n+/* Right Side Content */\r\n+.right-content {\r\n+  background-color: var(--color-primary);\r\n+  padding: 4rem 2rem;\r\n+  color: white;\r\n+  position: absolute;\r\n+  right: 0;\r\n+  top: 0;\r\n+  bottom: 0;\r\n+  width: 33.333%;\r\n+}\r\n+\r\n+.right-content h3 {\r\n+  font-size: 1.5rem;\r\n+  line-height: 1.4;\r\n+  margin-bottom: 2rem;\r\n+}\r\n+\r\n+.powered-by {\r\n+  position: absolute;\r\n+  bottom: 4rem;\r\n+  font-weight: bold;\r\n+  font-size: 1.5rem;\r\n+}\r\n+\r\n+/* Submit Button */\r\n+.submit-button {\r\n+  width: 100%;\r\n+  padding: 1rem;\r\n+  background-color: var(--color-primary);\r\n+  color: white;\r\n+  border: none;\r\n+  border-radius: 9999px;\r\n+  font-size: 1.125rem;\r\n+  font-weight: 500;\r\n+  cursor: pointer;\r\n+  transition: all 0.3s ease;\r\n+}\r\n+\r\n+.submit-button:hover {\r\n+  transform: scale(1.02);\r\n+  background-color: #008c44;\r\n+}\r\n+\r\n+/* Decorative Waves */\r\n+.wave-decoration {\r\n+  position: absolute;\r\n+  bottom: 0;\r\n+  left: 0;\r\n+  right: 0;\r\n+  height: 120px;\r\n+  overflow: hidden;\r\n+}\r\n+\r\n+.wave {\r\n+  position: absolute;\r\n+  bottom: 0;\r\n+  left: 0;\r\n+  right: 0;\r\n+  height: 100%;\r\n+}\r\n+\r\n+.wave-1 {\r\n+  background: var(--color-primary);\r\n+  opacity: 0.3;\r\n+  clip-path: path('M0,64 C200,44 400,84 600,64 S800,44 1200,64 L1200,100 L0,100 Z');\r\n+}\r\n+\r\n+.wave-2 {\r\n+  background: var(--color-yellow);\r\n+  opacity: 0.5;\r\n+  clip-path: path('M0,74 C200,54 400,94 600,74 S800,54 1200,74 L1200,100 L0,100 Z');\r\n+}\r\n+\r\n+/* Responsive Design */\r\n+@media (max-width: 768px) {\r\n+  .container {\r\n+    grid-template-columns: 1fr;\r\n+    padding: 1rem;\r\n+  }\r\n+\r\n+  .right-content {\r\n+    position: relative;\r\n+    width: 100%;\r\n+    padding: 2rem 1rem;\r\n+  }\r\n+\r\n+  .form-title {\r\n+    font-size: 1.875rem;\r\n+  }\r\n+\r\n+  .powered-by {\r\n+    position: relative;\r\n+    bottom: auto;\r\n+    margin-top: 2rem;\r\n+  }\r\n+}\r\n+\r\n+/* Animations */\r\n+@keyframes fadeIn {\r\n+  from { opacity: 0; }\r\n+  to { opacity: 1; }\r\n+}\r\n+\r\n+@keyframes slideUp {\r\n+  from { transform: translateY(20px); opacity: 0; }\r\n+  to { transform: translateY(0); opacity: 1; }\r\n+}\r\n+\r\n+.animate-fade-in {\r\n+  animation: fadeIn 0.5s ease-out;\r\n+}\r\n+\r\n+.animate-slide-up {\r\n+  animation: slideUp 0.5s ease-out;\r\n+}\r\n+      `;\r\n+    document.head.appendChild(style);\r\n+  }\r\n+}\r\n"
                },
                {
                    "date": 1731007840315,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,23 @@\n import {\r\n-  fetchBillData,\r\n-  getIsLoading,\r\n-  getError,\r\n-} from \"../store/solarSizingState.js\";\r\n-\r\n-export class ReferenceInputPage {\r\n-  constructor() {\r\n-    this.name = \"\";\r\n-    this.phone = \"\";\r\n-    this.email = \"\";\r\n-    this.referenceNumber = \"\";\r\n-    this.isLoading = false;\r\n-    this.error = null;\r\n-  }\r\n-\r\n-  render() {\r\n-    const app = document.getElementById(\"app\");\r\n-    app.innerHTML = `\r\n+    fetchBillData,\r\n+    getIsLoading,\r\n+    getError,\r\n+  } from \"../store/solarSizingState.js\";\r\n+  \r\n+  export class ReferenceInputPage {\r\n+    constructor() {\r\n+      this.name = \"\";\r\n+      this.phone = \"\";\r\n+      this.email = \"\";\r\n+      this.referenceNumber = \"\";\r\n+      this.isLoading = false;\r\n+      this.error = null;\r\n+    }\r\n+  \r\n+    render() {\r\n+      const app = document.getElementById(\"app\");\r\n+      app.innerHTML = `\r\n         <div class=\"sap_form\">\r\n           <div class=\"container mx-auto px-6 md:px-10\">\r\n             <!-- Mobile Contact Icons -->\r\n             <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n@@ -135,470 +135,109 @@\n             </div>\r\n           </div>\r\n         </div>\r\n       `;\r\n-\r\n-    this.attachEventListeners();\r\n-    this.attachStyles();\r\n-  }\r\n-\r\n-  attachEventListeners() {\r\n-    const form = document.getElementById(\"solar-sizing-form\");\r\n-    form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n-\r\n-    const inputs = form.querySelectorAll(\"input\");\r\n-    inputs.forEach((input) => {\r\n-      input.addEventListener(\"input\", this.handleInput.bind(this));\r\n-      input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n-      input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n-    });\r\n-  }\r\n-\r\n-  handleInput(event) {\r\n-    this[event.target.id] = event.target.value;\r\n-  }\r\n-\r\n-  handleFocus(event) {\r\n-    event.target.parentElement.classList.add(\"focused\");\r\n-  }\r\n-\r\n-  handleBlur(event) {\r\n-    if (!event.target.value) {\r\n-      event.target.parentElement.classList.remove(\"focused\");\r\n+  \r\n+      this.attachEventListeners();\r\n+      this.attachStyles();\r\n     }\r\n-  }\r\n-\r\n-  async handleSubmit(event) {\r\n-    event.preventDefault();\r\n-\r\n-    if (this.isFormValid()) {\r\n-      this.isLoading = true;\r\n-      this.renderLoadingState();\r\n-\r\n-      try {\r\n-        await fetchBillData(this.referenceNumber);\r\n-        console.log(\"Navigating to /quote\");\r\n-        window.router.push(\"/quote\");\r\n-      } catch (err) {\r\n-        console.error(\"Error generating quote:\", err);\r\n-        this.error = \"Error generating quote. Please try again.\";\r\n+  \r\n+    attachEventListeners() {\r\n+      const form = document.getElementById(\"solar-sizing-form\");\r\n+      form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n+  \r\n+      const inputs = form.querySelectorAll(\"input\");\r\n+      inputs.forEach((input) => {\r\n+        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n+        input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n+        input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n+      });\r\n+    }\r\n+  \r\n+    handleInput(event) {\r\n+      this[event.target.id] = event.target.value;\r\n+    }\r\n+  \r\n+    handleFocus(event) {\r\n+      event.target.parentElement.classList.add(\"focused\");\r\n+    }\r\n+  \r\n+    handleBlur(event) {\r\n+      if (!event.target.value) {\r\n+        event.target.parentElement.classList.remove(\"focused\");\r\n+      }\r\n+    }\r\n+  \r\n+    async handleSubmit(event) {\r\n+      event.preventDefault();\r\n+  \r\n+      if (this.isFormValid()) {\r\n+        this.isLoading = true;\r\n+        this.renderLoadingState();\r\n+  \r\n+        try {\r\n+          await fetchBillData(this.referenceNumber);\r\n+          console.log(\"Navigating to /quote\");\r\n+          window.router.push(\"/quote\");\r\n+        } catch (err) {\r\n+          console.error(\"Error generating quote:\", err);\r\n+          this.error = \"Error generating quote. Please try again.\";\r\n+          this.renderError();\r\n+        } finally {\r\n+          this.isLoading = false;\r\n+          this.renderLoadingState();\r\n+        }\r\n+      } else {\r\n+        this.error = \"Please fill in all required fields.\";\r\n         this.renderError();\r\n-      } finally {\r\n-        this.isLoading = false;\r\n-        this.renderLoadingState();\r\n       }\r\n-    } else {\r\n-      this.error = \"Please fill in all required fields.\";\r\n-      this.renderError();\r\n     }\r\n-  }\r\n-\r\n-  isFormValid() {\r\n-    return this.name && this.phone && this.email && this.referenceNumber;\r\n-  }\r\n-\r\n-  renderLoadingState() {\r\n-    const button = document.querySelector(\".get_go\");\r\n-    if (this.isLoading) {\r\n-      button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n-      button.disabled = true;\r\n-    } else {\r\n-      button.innerHTML = \"<span>Get Quote</span>\";\r\n-      button.disabled = false;\r\n+  \r\n+    isFormValid() {\r\n+      return this.name && this.phone && this.email && this.referenceNumber;\r\n     }\r\n-  }\r\n-\r\n-  renderError() {\r\n-    const errorMessage = document.getElementById(\"error-message\");\r\n-    if (this.error) {\r\n-      errorMessage.textContent = this.error;\r\n-      errorMessage.classList.remove(\"hidden\");\r\n-      errorMessage.classList.add(\"animate-shake\");\r\n-      setTimeout(() => {\r\n-        errorMessage.classList.remove(\"animate-shake\");\r\n-      }, 500);\r\n-    } else {\r\n-      errorMessage.classList.add(\"hidden\");\r\n+  \r\n+    renderLoadingState() {\r\n+      const button = document.querySelector(\".get_go\");\r\n+      if (this.isLoading) {\r\n+        button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n+        button.disabled = true;\r\n+      } else {\r\n+        button.innerHTML = \"<span>Get Quote</span>\";\r\n+        button.disabled = false;\r\n+      }\r\n     }\r\n-  }\r\n-\r\n-  attachStyles() {\r\n-    const style = document.createElement(\"style\");\r\n-    style.textContent = `\r\n-        /* Base styles */\r\n-:root {\r\n-  --color-primary: #00a651;\r\n-  --color-primary-light: rgba(0, 166, 81, 0.1);\r\n-  --color-yellow: #ffde17;\r\n-  --color-text: #2c3e50;\r\n-  --color-text-light: #7f8c8d;\r\n-}\r\n-\r\n-.sap_form {\r\n-  min-height: 100vh;\r\n-  background-color: #ffffff;\r\n-  position: relative;\r\n-  overflow: hidden;\r\n-}\r\n-\r\n-/* Container */\r\n-.container {\r\n-  max-width: 1200px;\r\n-  margin: 0 auto;\r\n-  display: grid;\r\n-  grid-template-columns: 2fr 1fr;\r\n-  gap: 2rem;\r\n-  position: relative;\r\n-}\r\n-\r\n-/* Logo Section */\r\n-.logo-section {\r\n-  display: flex;\r\n-  align-items: center;\r\n-  gap: 1rem;\r\n-  padding: 2rem 0;\r\n-}\r\n-\r\n-.logo-icon {\r\n-  width: 60px;\r\n-  height: 60px;\r\n-}\r\n-\r\n-.logo-text h1 {\r\n-  font-size: 1.5rem;\r\n-  font-weight: bold;\r\n-  color: var(--color-text);\r\n-}\r\n-\r\n-.logo-text p {\r\n-  font-size: 0.875rem;\r\n-  color: var(--color-text-light);\r\n-  font-style: italic;\r\n-}\r\n-\r\n-/* Form Section */\r\n-.form-container {\r\n-  padding: 2rem;\r\n-  max-width: 600px;\r\n-}\r\n-\r\n-.form-title {\r\n-  color: var(--color-primary);\r\n-  font-size: 2.25rem;\r\n-  font-weight: bold;\r\n-  margin-bottom: 2rem;\r\n-}\r\n-\r\n-.input-group {\r\n-  margin-bottom: 1.5rem;\r\n-}\r\n-\r\n-.input-group label {\r\n-  display: block;\r\n-  font-size: 0.875rem;\r\n-  color: var(--color-text);\r\n-  margin-bottom: 0.5rem;\r\n-}\r\n-\r\n-.input-group input {\r\n-  width: 100%;\r\n-  padding: 0.75rem;\r\n-  border: 1px solid #e2e8f0;\r\n-  border-radius: 0.375rem;\r\n-  font-size: 1rem;\r\n-  transition: all 0.3s ease;\r\n-}\r\n-\r\n-.input-group input:focus {\r\n-  outline: none;\r\n-  border-color: var(--color-primary);\r\n-  box-shadow: 0 0 0 3px var(--color-primary-light);\r\n-}\r\n-\r\n-/* Right Side Content */\r\n-.right-content {\r\n-  background-color: var(--color-primary);\r\n-  padding: 4rem 2rem;\r\n-  color: white;\r\n-  position: absolute;\r\n-  right: 0;\r\n-  top: 0;\r\n-  bottom: 0;\r\n-  width: 33.333%;\r\n-}\r\n-\r\n-.right-content h3 {\r\n-  font-size: 1.5rem;\r\n-  line-height: 1.4;\r\n-  margin-bottom: 2rem;\r\n-}\r\n-\r\n-.powered-by {\r\n-  position: absolute;\r\n-  bottom: 4rem;\r\n-  font-weight: bold;\r\n-  font-size: 1.5rem;\r\n-}\r\n-\r\n-/* Submit Button */\r\n-.submit-button {\r\n-  width: 100%;\r\n-  padding: 1rem;\r\n-  background-color: var(--color-primary);\r\n-  color: white;\r\n-  border: none;\r\n-  border-radius: 9999px;\r\n-  font-size: 1.125rem;\r\n-  font-weight: 500;\r\n-  cursor: pointer;\r\n-  transition: all 0.3s ease;\r\n-}\r\n-\r\n-.submit-button:hover {\r\n-  transform: scale(1.02);\r\n-  background-color: #008c44;\r\n-}\r\n-\r\n-/* Decorative Waves */\r\n-.wave-decoration {\r\n-  position: absolute;\r\n-  bottom: 0;\r\n-  left: 0;\r\n-  right: 0;\r\n-  height: 120px;\r\n-  overflow: hidden;\r\n-}\r\n-\r\n-.wave {\r\n-  position: absolute;\r\n-  bottom: 0;\r\n-  left: 0;\r\n-  right: 0;\r\n-  height: 100%;\r\n-}\r\n-\r\n-.wave-1 {\r\n-  background: var(--color-primary);\r\n-  opacity: 0.3;\r\n-  clip-path: path('M0,64 C200,44 400,84 600,64 S800,44 1200,64 L1200,100 L0,100 Z');\r\n-}\r\n-\r\n-.wave-2 {\r\n-  background: var(--color-yellow);\r\n-  opacity: 0.5;\r\n-  clip-path: path('M0,74 C200,54 400,94 600,74 S800,54 1200,74 L1200,100 L0,100 Z');\r\n-}\r\n-\r\n-/* Responsive Design */\r\n-@media (max-width: 768px) {\r\n-  .container {\r\n-    grid-template-columns: 1fr;\r\n-    padding: 1rem;\r\n-  }\r\n-\r\n-  .right-content {\r\n-    position: relative;\r\n-    width: 100%;\r\n-    padding: 2rem 1rem;\r\n-  }\r\n-\r\n-  .form-title {\r\n-    font-size: 1.875rem;\r\n-  }\r\n-\r\n-  .powered-by {\r\n-    position: relative;\r\n-    bottom: auto;\r\n-    margin-top: 2rem;\r\n-  }\r\n-}\r\n-\r\n-/* Animations */\r\n-@keyframes fadeIn {\r\n-  from { opacity: 0; }\r\n-  to { opacity: 1; }\r\n-}\r\n-\r\n-@keyframes slideUp {\r\n-  from { transform: translateY(20px); opacity: 0; }\r\n-  to { transform: translateY(0); opacity: 1; }\r\n-}\r\n-\r\n-.animate-fade-in {\r\n-  animation: fadeIn 0.5s ease-out;\r\n-}\r\n-\r\n-.animate-slide-up {\r\n-  animation: slideUp 0.5s ease-out;\r\n-}\r\n-      `;\r\n-    document.head.appendChild(style);\r\n-  }\r\n-}\r\n-// ReferenceInputPage.js\r\n-\r\n-import {\r\n-  fetchBillData,\r\n-  getIsLoading,\r\n-  getError,\r\n-} from \"../store/solarSizingState.js\";\r\n-import { gsap } from \"gsap\";\r\n-\r\n-export class ReferenceInputPage {\r\n-  constructor() {\r\n-    // Form data\r\n-    this.state = {\r\n-      provider: \"\",\r\n-      referenceNumber: \"\",\r\n-      phone: \"\",\r\n-      isLoading: false,\r\n-      error: null,\r\n-      validationErrors: {\r\n-        provider: \"\",\r\n-        referenceNumber: \"\",\r\n-        phone: \"\",\r\n-      },\r\n-    };\r\n-\r\n-    // Constants for validation\r\n-    this.VALIDATION_RULES = {\r\n-      provider: {\r\n-        required: true,\r\n-        minLength: 2,\r\n-        message: \"Please select a valid electricity provider\",\r\n-      },\r\n-      referenceNumber: {\r\n-        required: true,\r\n-        pattern: /^[0-9]{10,14}$/,\r\n-        message: \"Please enter a valid reference number (10-14 digits)\",\r\n-      },\r\n-      phone: {\r\n-        required: true,\r\n-        pattern: /^\\+?[0-9]{10,14}$/,\r\n-        message: \"Please enter a valid phone number\",\r\n-      },\r\n-    };\r\n-\r\n-    // Available electricity providers\r\n-    this.PROVIDERS = [\r\n-      \"MEPCO\",\r\n-      \"LESCO\",\r\n-      \"IESCO\",\r\n-      \"GEPCO\",\r\n-      \"FESCO\",\r\n-      \"PESCO\",\r\n-      \"QESCO\",\r\n-      \"SEPCO\",\r\n-      \"K-Electric\",\r\n-    ];\r\n-\r\n-    // Bind methods\r\n-    this.handleInput = this.handleInput.bind(this);\r\n-    this.handleSubmit = this.handleSubmit.bind(this);\r\n-    this.validateField = this.validateField.bind(this);\r\n-    this.showToast = this.showToast.bind(this);\r\n-  }\r\n-\r\n-  /**\r\n-   * Initialize the page\r\n-   */\r\n-  async init() {\r\n-    await this.render();\r\n-    this.attachEventListeners();\r\n-    this.initializeAnimations();\r\n-  }\r\n-\r\n-  /**\r\n-   * Shows a toast message\r\n-   * @param {string} message - Message to display\r\n-   * @param {string} type - Type of toast (success, error, info)\r\n-   */\r\n-  showToast(message, type = \"info\") {\r\n-    const toast = document.createElement(\"div\");\r\n-    toast.className = `toast toast-${type}`;\r\n-    toast.textContent = message;\r\n-\r\n-    const container =\r\n-      document.querySelector(\".toast-container\") || this.createToastContainer();\r\n-    container.appendChild(toast);\r\n-\r\n-    // Animate toast\r\n-    gsap.fromTo(\r\n-      toast,\r\n-      { opacity: 0, y: 20 },\r\n-      { opacity: 1, y: 0, duration: 0.3 }\r\n-    );\r\n-\r\n-    // Remove toast after delay\r\n-    setTimeout(() => {\r\n-      gsap.to(toast, {\r\n-        opacity: 0,\r\n-        y: -20,\r\n-        duration: 0.3,\r\n-        onComplete: () => toast.remove(),\r\n-      });\r\n-    }, 3000);\r\n-  }\r\n-\r\n-  /**\r\n-   * Creates a container for toast messages\r\n-   * @returns {HTMLElement} Toast container element\r\n-   */\r\n-  createToastContainer() {\r\n-    const container = document.createElement(\"div\");\r\n-    container.className = \"toast-container\";\r\n-    document.body.appendChild(container);\r\n-    return container;\r\n-  }\r\n-\r\n-  /**\r\n-   * Updates the loading state of the form\r\n-   * @param {boolean} isLoading - Whether the form is loading\r\n-   */\r\n-  setLoading(isLoading) {\r\n-    this.state.isLoading = isLoading;\r\n-    const submitButton = document.querySelector(\".submit-button\");\r\n-    const loadingSpinner = document.querySelector(\".loading-spinner\");\r\n-\r\n-    if (submitButton && loadingSpinner) {\r\n-      if (isLoading) {\r\n-        submitButton.disabled = true;\r\n-        submitButton.querySelector(\"span\").textContent = \"Processing...\";\r\n-        loadingSpinner.style.display = \"inline-block\";\r\n+  \r\n+    renderError() {\r\n+      const errorMessage = document.getElementById(\"error-message\");\r\n+      if (this.error) {\r\n+        errorMessage.textContent = this.error;\r\n+        errorMessage.classList.remove(\"hidden\");\r\n+        errorMessage.classList.add(\"animate-shake\");\r\n+        setTimeout(() => {\r\n+          errorMessage.classList.remove(\"animate-shake\");\r\n+        }, 500);\r\n       } else {\r\n-        submitButton.disabled = false;\r\n-        submitButton.querySelector(\"span\").textContent = \"Generate\";\r\n-        loadingSpinner.style.display = \"none\";\r\n+        errorMessage.classList.add(\"hidden\");\r\n       }\r\n     }\r\n-  }\r\n-\r\n-  /**\r\n-   * Creates a loading spinner element\r\n-   * @returns {HTMLElement} Spinner element\r\n-   */\r\n-  createLoadingSpinner() {\r\n-    const spinner = document.createElement(\"div\");\r\n-    spinner.className = \"loading-spinner\";\r\n-    spinner.innerHTML = `\r\n-            <svg viewBox=\"0 0 50 50\" class=\"spinner-svg\">\r\n-                <circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke-width=\"5\"></circle>\r\n-            </svg>\r\n-        `;\r\n-    return spinner;\r\n-  }\r\n-\r\n-  /**\r\n-   * Renders the page content\r\n-   */\r\n-  async render() {\r\n-    const app = document.getElementById(\"app\");\r\n-    app.innerHTML = `\r\n-      <div class=\"sap_form\">\r\n-          ${this.renderHeader()}\r\n-          ${this.renderMainContent()}\r\n-          ${this.renderWaveDecoration()}\r\n-      </div>\r\n-      ${this.renderStyles()}\r\n-  `;\r\n-  }\r\n-}\r\n+  \r\n+    attachStyles() {\r\n+      const style = document.createElement(\"style\");\r\n+      style.textContent = `\r\n+        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n+        @keyframes slideInLeft { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n+        @keyframes slideInRight { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n+        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n+        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); } 20%, 40%, 60%, 80% { transform: translateX(10px); } }\r\n+        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }\r\n+  \r\n+        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\r\n+        .animate-slideInLeft { animation: slideInLeft 0.5s ease-out; }\r\n+        .animate-slideInRight { animation: slideInRight 0.5s ease-out; }\r\n+        .animate-bounce { animation: bounce 2s infinite; }\r\n+        .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }\r\n+        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\r\n+      `;\r\n+      document.head.appendChild(style);\r\n+    }\r\n+  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731007923644,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,243 +1,248 @@\n-import {\r\n-    fetchBillData,\r\n-    getIsLoading,\r\n-    getError,\r\n-  } from \"../store/solarSizingState.js\";\r\n-  \r\n-  export class ReferenceInputPage {\r\n-    constructor() {\r\n-      this.name = \"\";\r\n-      this.phone = \"\";\r\n-      this.email = \"\";\r\n-      this.referenceNumber = \"\";\r\n-      this.isLoading = false;\r\n-      this.error = null;\r\n-    }\r\n-  \r\n-    render() {\r\n+class ReferenceInputPage {\r\n+  constructor() {\r\n+      this.state = {\r\n+          provider: '',\r\n+          referenceNumber: '',\r\n+          whatsapp: '',\r\n+          isLoading: false\r\n+      };\r\n+\r\n+      // Inject CSS when the class is instantiated\r\n+      this.injectStyles();\r\n+  }\r\n+\r\n+  injectStyles() {\r\n+      const style = document.createElement('style');\r\n+      style.textContent = `\r\n+          iframe {\r\n+              border-radius: 20px !important;\r\n+          }\r\n+          .player {\r\n+              border-radius: 10px !important;\r\n+          }\r\n+          .main-content:before {\r\n+              animation: grain 4s steps(10) infinite;\r\n+              background-image: url(https://old.yamateos.fr/wp-content/uploads/2021/10/Sans-titre-noise2.jpg);\r\n+              content: \"\";\r\n+              height: 350%;\r\n+              left: -50%;\r\n+              opacity: 0.02;\r\n+              position: fixed;\r\n+              top: -150%;\r\n+              width: 300%;\r\n+              z-index: 999 !important;\r\n+              pointer-events: none;\r\n+          }\r\n+\r\n+          @keyframes grain {\r\n+              0%, 100% {\r\n+                  transform: translate(0, 0);\r\n+              }\r\n+              10% {\r\n+                  transform: translate(-5%, -10%);\r\n+              }\r\n+              20% {\r\n+                  transform: translate(-15%, 5%);\r\n+              }\r\n+              30% {\r\n+                  transform: translate(7%, -25%);\r\n+              }\r\n+              40% {\r\n+                  transform: translate(-5%, 25%);\r\n+              }\r\n+              50% {\r\n+                  transform: translate(-15%, 10%);\r\n+              }\r\n+              60% {\r\n+                  transform: translate(15%, 0%);\r\n+              }\r\n+              70% {\r\n+                  transform: translate(0%, 15%);\r\n+              }\r\n+              80% {\r\n+                  transform: translate(3%, 35%);\r\n+              }\r\n+              90% {\r\n+                  transform: translate(-10%, 10%);\r\n+              }\r\n+          }\r\n+\r\n+          .char {\r\n+              transform: translateY(115px);\r\n+              transition: transform 0.5s;\r\n+          }\r\n+\r\n+          ::selection {\r\n+              background-color: #e95012;\r\n+          }\r\n+      `;\r\n+      document.head.appendChild(style);\r\n+  }\r\n+\r\n+  render() {\r\n       const app = document.getElementById(\"app\");\r\n       app.innerHTML = `\r\n-        <div class=\"sap_form\">\r\n-          <div class=\"container mx-auto px-6 md:px-10\">\r\n-            <!-- Mobile Contact Icons -->\r\n-            <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n-              <p>\r\n-                <a href=\"tel:+14155551234\" class=\"contact-icon phn_mb animate-bounce\" aria-label=\"Solar System Sizing Phone\"></a>\r\n-              </p>\r\n-              <p>\r\n-                <a href=\"mailto:info@solarsizing.com\" class=\"contact-icon eml_mb animate-bounce\" aria-label=\"Solar System Sizing Email\"></a>\r\n-              </p>\r\n-              <p>\r\n-                <a href=\"https://t.me/solarsizing\" class=\"contact-icon tg_mb animate-bounce\" aria-label=\"Solar System Sizing Telegram\"></a>\r\n-              </p>\r\n-            </div>\r\n-  \r\n-            <!-- Desktop Contact Label -->\r\n-            <div class=\"hidden md:flex pt-4 animate-fadeIn\">\r\n-              <div class=\"w-full\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">Contact us</p>\r\n+          <div class=\"relative w-full h-screen bg-white overflow-hidden main-content\">\r\n+              <!-- Logo Section -->\r\n+              <div class=\"absolute top-8 left-12 flex items-center gap-2 z-10\">\r\n+                  <svg class=\"w-12 h-12 player\" viewBox=\"0 0 60 50\">\r\n+                      <path d=\"M30,20 C25,10 35,0 45,10 L55,20 C65,30 55,40 45,30 Z\" \r\n+                          class=\"fill-emerald-500\"/>\r\n+                  </svg>\r\n+                  <div>\r\n+                      <h1 class=\"text-2xl font-bold text-gray-800\">ENERGY COVE</h1>\r\n+                      <p class=\"text-sm italic text-gray-600\">Energy for Life</p>\r\n+                  </div>\r\n               </div>\r\n-            </div>\r\n-  \r\n-            <!-- Desktop Contact Details -->\r\n-            <div class=\"mt-6 hidden md:flex justify-between animate-fadeIn\">\r\n-              <div class=\"flex items-center\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n-                  <a href=\"https://t.me/solarsizing\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Telegram\">\r\n-                    Telegram\r\n-                  </a>\r\n-                </p>\r\n-              </div>\r\n-              <div class=\"flex items-center\">\r\n-                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n-                  <a href=\"mailto:info@solarsizing.com\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Email\">\r\n-                    info@solarsizing.com\r\n-                  </a>\r\n-                </p>\r\n-              </div>\r\n-            </div>\r\n-  \r\n-            <!-- Form Title -->\r\n-            <div class=\"mt-20 animate-slideInLeft\">\r\n-              <h2 class=\"hidden md:block text-5xl font-normal tracking-tight\">\r\n-                Solar System Sizing Tool -\r\n-                <span class=\"block\">Enter Your Details</span>\r\n-              </h2>\r\n-              <h2 class=\"block md:hidden text-3xl font-normal tracking-tight\">\r\n-                Solar System Sizing Tool -\r\n-                <span class=\"block\">Enter Your Details</span>\r\n-              </h2>\r\n-            </div>\r\n-  \r\n-            <!-- Form -->\r\n-            <div class=\"mt-24 animate-fadeIn\">\r\n-              <form id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n-                <!-- Name Field -->\r\n-                <div class=\"relative\">\r\n-                  <input type=\"text\" id=\"name\" name=\"NAME\" placeholder=\" \" required aria-label=\"NAME\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                  <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                    Your name\r\n-                  </label>\r\n-                </div>\r\n-  \r\n-                <!-- Phone and Email Fields -->\r\n-                <div class=\"grid md:grid-cols-2 gap-6\">\r\n-                  <div class=\"relative\">\r\n-                    <input type=\"tel\" id=\"phone\" name=\"PHONE\" placeholder=\" \" required aria-label=\"PHONE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                    <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                      Phone\r\n-                    </label>\r\n+\r\n+              <!-- Main Content Grid -->\r\n+              <div class=\"flex h-full\">\r\n+                  <!-- Left Section (2/3) -->\r\n+                  <div class=\"w-2/3 p-8 flex items-center justify-center\">\r\n+                      <div class=\"max-w-md w-full\">\r\n+                          <!-- Form Section -->\r\n+                          <h2 class=\"text-4xl font-bold text-emerald-500 mb-8\">Get your quote</h2>\r\n+                          <form id=\"quote-form\" class=\"space-y-6\">\r\n+                              <!-- Provider Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n+                                      Choose your electricity Provider\r\n+                                  </label>\r\n+                                  <input type=\"text\" \r\n+                                      id=\"provider\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      placeholder=\"e.g., MEPCO\">\r\n+                              </div>\r\n+\r\n+                              <!-- Reference Number Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n+                                      Enter your bill reference number\r\n+                                  </label>\r\n+                                  <input type=\"text\" \r\n+                                      id=\"referenceNumber\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      placeholder=\"Enter reference number\">\r\n+                              </div>\r\n+\r\n+                              <!-- WhatsApp Field -->\r\n+                              <div class=\"space-y-2\">\r\n+                                  <label class=\"block text-sm text-gray-600\">\r\n+                                      Enter your WhatsApp phone Number\r\n+                                  </label>\r\n+                                  <input type=\"tel\" \r\n+                                      id=\"whatsapp\"\r\n+                                      class=\"w-full h-10 px-4 rounded border border-gray-300 focus:outline-none focus:border-emerald-500 transition-colors\"\r\n+                                      placeholder=\"+92 XXX XXXXXXX\">\r\n+                              </div>\r\n+\r\n+                              <!-- Submit Button -->\r\n+                              <button type=\"submit\" \r\n+                                  class=\"w-full h-12 bg-emerald-500 text-white rounded-full font-medium hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2\">\r\n+                                  <span>Generate</span>\r\n+                                  ${this.state.isLoading ? this.renderSpinner() : ''}\r\n+                              </button>\r\n+                          </form>\r\n+                      </div>\r\n                   </div>\r\n-                  <div class=\"relative\">\r\n-                    <input type=\"email\" id=\"email\" name=\"EMAIL\" placeholder=\" \" required aria-label=\"EMAIL\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                    <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                      E-mail\r\n-                    </label>\r\n-                  </div>\r\n-                </div>\r\n-  \r\n-                <!-- Reference Number -->\r\n-                <div class=\"relative\">\r\n\\ No newline at end of file\n-                  <input type=\"text\" id=\"referenceNumber\" name=\"REFERENCE\" placeholder=\" \" required aria-label=\"REFERENCE\" class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\">\r\n-                  <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n-                    MEPCO Bill Reference Number\r\n-                  </label>\r\n-                </div>\r\n-  \r\n-                <!-- File Upload -->\r\n-                <div class=\"mt-8 animate-slideInRight\">\r\n-                  <div class=\"flex flex-wrap items-start max-w-full\">\r\n-                    <ul class=\"list_dwn flex flex-wrap mt-4 w-full\"></ul>\r\n-                    <div class=\"relative\">\r\n-                      <div class=\"dwn text-lg text-black cursor-pointer px-4 py-2 hover:text-gray-400 transition-colors duration-300\">\r\n-                        Add attachment\r\n+\r\n+                  <!-- Right Section (1/3) -->\r\n+                  <div class=\"w-1/3 bg-emerald-500 p-8 flex flex-col relative\">\r\n+                      <div class=\"text-white mt-16 space-y-2\">\r\n+                          <p class=\"text-2xl leading-relaxed\">\r\n+                              Our AI tool quickly provides\r\n+                              <br />the ideal system size and\r\n+                              <br />savings estimateno\r\n+                              <br />in-person consultation\r\n+                              <br />needed. Get the fastest\r\n+                              <br />solar quote in Pakistan!\r\n+                          </p>\r\n                       </div>\r\n-                      <input type=\"file\" name=\"files[]\" data-url=\"/user_files/\" class=\"hidden\">\r\n-                      <div class=\"progress bg-gray-400 mt-2 relative h-0.5 w-full max-w-full\" role=\"progressbar\" aria-label=\"File Upload Progress\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\">\r\n-                        <div class=\"progress-bar-success bg-green-500 absolute top-0 left-0 h-full\" style=\"width: 0%\"></div>\r\n+                      <div class=\"absolute bottom-24 text-white\">\r\n+                          <p class=\"text-2xl font-bold\">POWERED BY AI</p>\r\n                       </div>\r\n-                      <div class=\"progress_txt mt-4 text-sm text-black\">\r\n-                        <div>Supported formats: jpg, png, pdf, doc(x), xls(x), ppt(x)</div>\r\n-                        <div>Maximum file size 20 MB</div>\r\n-                      </div>\r\n-                    </div>\r\n                   </div>\r\n-                </div>\r\n-  \r\n-                <!-- Error message -->\r\n-                <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n-  \r\n-                <!-- Submit button -->\r\n-                <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n-                  <span>Get Quote</span>\r\n-                </button>\r\n-              </form>\r\n-            </div>\r\n+              </div>\r\n+\r\n+              <!-- Decorative Waves -->\r\n+              <div class=\"absolute bottom-0 w-full\">\r\n+                  <svg class=\"w-full h-24\" viewBox=\"0 0 1200 100\" preserveAspectRatio=\"none\">\r\n+                      <path d=\"M0,20 C200,0 400,40 600,20 S800,0 1200,20 L1200,100 L0,100 Z\"\r\n+                          class=\"fill-emerald-500 opacity-30\"/>\r\n+                      <path d=\"M0,40 C200,20 400,60 600,40 S800,20 1200,40 L1200,100 L0,100 Z\"\r\n+                          class=\"fill-yellow-400 opacity-50\"/>\r\n+                  </svg>\r\n+              </div>\r\n           </div>\r\n-        </div>\r\n       `;\r\n-  \r\n+\r\n       this.attachEventListeners();\r\n-      this.attachStyles();\r\n-    }\r\n-  \r\n-    attachEventListeners() {\r\n-      const form = document.getElementById(\"solar-sizing-form\");\r\n-      form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n-  \r\n-      const inputs = form.querySelectorAll(\"input\");\r\n-      inputs.forEach((input) => {\r\n-        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n-        input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n-        input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n+  }\r\n+\r\n+  renderSpinner() {\r\n+      return `\r\n+          <svg class=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n+              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n+              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n+          </svg>\r\n+      `;\r\n+  }\r\n+\r\n+  attachEventListeners() {\r\n+      const form = document.getElementById('quote-form');\r\n+      const inputs = form.querySelectorAll('input');\r\n+\r\n+      form.addEventListener('submit', this.handleSubmit.bind(this));\r\n+      inputs.forEach(input => {\r\n+          input.addEventListener('input', this.handleInput.bind(this));\r\n       });\r\n-    }\r\n-  \r\n-    handleInput(event) {\r\n-      this[event.target.id] = event.target.value;\r\n-    }\r\n-  \r\n-    handleFocus(event) {\r\n-      event.target.parentElement.classList.add(\"focused\");\r\n-    }\r\n-  \r\n-    handleBlur(event) {\r\n-      if (!event.target.value) {\r\n-        event.target.parentElement.classList.remove(\"focused\");\r\n-      }\r\n-    }\r\n-  \r\n-    async handleSubmit(event) {\r\n+  }\r\n+\r\n+  handleInput(event) {\r\n+      const { id, value } = event.target;\r\n+      this.state[id] = value;\r\n+  }\r\n+\r\n+  async handleSubmit(event) {\r\n       event.preventDefault();\r\n-  \r\n-      if (this.isFormValid()) {\r\n-        this.isLoading = true;\r\n-        this.renderLoadingState();\r\n-  \r\n-        try {\r\n-          await fetchBillData(this.referenceNumber);\r\n-          console.log(\"Navigating to /quote\");\r\n-          window.router.push(\"/quote\");\r\n-        } catch (err) {\r\n-          console.error(\"Error generating quote:\", err);\r\n-          this.error = \"Error generating quote. Please try again.\";\r\n-          this.renderError();\r\n-        } finally {\r\n-          this.isLoading = false;\r\n-          this.renderLoadingState();\r\n-        }\r\n-      } else {\r\n-        this.error = \"Please fill in all required fields.\";\r\n-        this.renderError();\r\n+      \r\n+      if (this.state.isLoading) return;\r\n+\r\n+      if (!this.validateForm()) {\r\n+          alert('Please fill in all fields');\r\n+          return;\r\n       }\r\n-    }\r\n-  \r\n-    isFormValid() {\r\n-      return this.name && this.phone && this.email && this.referenceNumber;\r\n-    }\r\n-  \r\n-    renderLoadingState() {\r\n-      const button = document.querySelector(\".get_go\");\r\n-      if (this.isLoading) {\r\n-        button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n-        button.disabled = true;\r\n-      } else {\r\n-        button.innerHTML = \"<span>Get Quote</span>\";\r\n-        button.disabled = false;\r\n+\r\n+      try {\r\n+          this.state.isLoading = true;\r\n+          this.updateSubmitButton(true);\r\n+\r\n+          await fetchBillData(this.state.referenceNumber);\r\n+          window.router.push('/quote');\r\n+      } catch (error) {\r\n+          console.error('Error:', error);\r\n+          alert('Failed to generate quote. Please try again.');\r\n+      } finally {\r\n+          this.state.isLoading = false;\r\n+          this.updateSubmitButton(false);\r\n       }\r\n-    }\r\n-  \r\n-    renderError() {\r\n-      const errorMessage = document.getElementById(\"error-message\");\r\n-      if (this.error) {\r\n-        errorMessage.textContent = this.error;\r\n-        errorMessage.classList.remove(\"hidden\");\r\n-        errorMessage.classList.add(\"animate-shake\");\r\n-        setTimeout(() => {\r\n-          errorMessage.classList.remove(\"animate-shake\");\r\n-        }, 500);\r\n-      } else {\r\n-        errorMessage.classList.add(\"hidden\");\r\n+  }\r\n+\r\n+  validateForm() {\r\n+      return this.state.provider && \r\n+             this.state.referenceNumber && \r\n+             this.state.whatsapp;\r\n+  }\r\n+\r\n+  updateSubmitButton(isLoading) {\r\n+      const button = document.querySelector('button[type=\"submit\"]');\r\n+      if (button) {\r\n+          button.innerHTML = isLoading \r\n+              ? `<span>Processing...</span>${this.renderSpinner()}` \r\n+              : '<span>Generate</span>';\r\n+          button.disabled = isLoading;\r\n       }\r\n-    }\r\n-  \r\n-    attachStyles() {\r\n-      const style = document.createElement(\"style\");\r\n-      style.textContent = `\r\n-        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n-        @keyframes slideInLeft { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n-        @keyframes slideInRight { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n-        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n-        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); } 20%, 40%, 60%, 80% { transform: translateX(10px); } }\r\n-        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }\r\n-  \r\n-        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\r\n-        .animate-slideInLeft { animation: slideInLeft 0.5s ease-out; }\r\n-        .animate-slideInRight { animation: slideInRight 0.5s ease-out; }\r\n-        .animate-bounce { animation: bounce 2s infinite; }\r\n-        .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }\r\n-        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\r\n-      `;\r\n-      document.head.appendChild(style);\r\n-    }\r\n-  }\n+  }\r\n+}\r\n+\r\n+export { ReferenceInputPage };\r\n"
                }
            ],
            "date": 1729002611707,
            "name": "Commit-0",
            "content": "import {\r\n  fetchBillData,\r\n  getIsLoading,\r\n  getError,\r\n} from \"../store/solarSizingState.js\";\r\n\r\nexport class ReferenceInputPage {\r\n  constructor() {\r\n    this.name = \"\";\r\n    this.phone = \"\";\r\n    this.email = \"\";\r\n    this.referenceNumber = \"\";\r\n    this.isLoading = false;\r\n    this.error = null;\r\n  }\r\n\r\n  render() {\r\n    const app = document.getElementById(\"app\");\r\n    app.innerHTML = `\r\n        <div class=\"sap_form\">\r\n          <div class=\"container mx-auto px-6 md:px-10\">\r\n            <!-- Mobile Contact Icons -->\r\n            <div class=\"flex md:hidden pt-5 space-x-1 animate-fadeIn\">\r\n              <p>\r\n                <a href=\"tel:+14155551234\" class=\"contact-icon phn_mb animate-bounce\" aria-label=\"Solar System Sizing Phone\"></a>\r\n              </p>\r\n              <p>\r\n                <a href=\"mailto:info@solarsizing.com\" class=\"contact-icon eml_mb animate-bounce\" aria-label=\"Solar System Sizing Email\"></a>\r\n              </p>\r\n              <p>\r\n                <a href=\"https://t.me/solarsizing\" class=\"contact-icon tg_mb animate-bounce\" aria-label=\"Solar System Sizing Telegram\"></a>\r\n              </p>\r\n            </div>\r\n  \r\n            <!-- Desktop Contact Label -->\r\n            <div class=\"hidden md:flex pt-4 animate-fadeIn\">\r\n              <div class=\"w-full\">\r\n                <p class=\"text-black opacity-20 text-xl tracking-tight\">Contact us</p>\r\n              </div>\r\n            </div>\r\n  \r\n            <!-- Desktop Contact Details -->\r\n            <div class=\"mt-6 hidden md:flex justify-between animate-fadeIn\">\r\n              <div class=\"flex items-center\">\r\n                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n                  <a href=\"https://t.me/solarsizing\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Telegram\">\r\n                    Telegram\r\n                  </a>\r\n                </p>\r\n              </div>\r\n              <div class=\"flex items-center\">\r\n                <p class=\"text-black opacity-20 text-xl tracking-tight\">\r\n                  <a href=\"mailto:info@solarsizing.com\" class=\"hover:text-gray-400 transition-colors duration-300\" aria-label=\"Solar System Sizing Email\">\r\n                    info@solarsizing.com\r\n                  </a>\r\n                </p>\r\n              </div>\r\n            </div>\r\n  \r\n            <!-- Form Title -->\r\n            <div class=\"mt-20 animate-slideInLeft\">\r\n              <h2 class=\"hidden md:block text-5xl font-normal tracking-tight\">\r\n                Solar System Sizing Tool -\r\n                <span class=\"block\">Enter Your Details</span>\r\n              </h2>\r\n              <h2 class=\"block md:hidden text-3xl font-normal tracking-tight\">\r\n                Solar System Sizing Tool -\r\n                <span class=\"block\">Enter Your Details</span>\r\n              </h2>\r\n            </div>\r\n  \r\n            <!-- Form -->\r\n    <div class=\"mt-24 animate-fadeIn\">\r\n      <form @submit.prevent=\"handleSubmit\" id=\"solar-sizing-form\" class=\"space-y-6\" novalidate>\r\n        <!-- Name Field -->\r\n        <div class=\"relative\">\r\n          <input \r\n            type=\"text\" \r\n            id=\"name\" \r\n            v-model=\"formData.name\" \r\n            @input=\"handleInput\" \r\n            @focus=\"handleFocus\" \r\n            @blur=\"handleBlur\" \r\n            placeholder=\" \" \r\n            required \r\n            aria-label=\"NAME\" \r\n            class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\"\r\n          >\r\n          <label for=\"name\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n            Your name\r\n          </label>\r\n        </div>\r\n\r\n        <!-- Phone and Email Fields -->\r\n        <div class=\"grid md:grid-cols-2 gap-6\">\r\n          <div class=\"relative\">\r\n            <input \r\n              type=\"tel\" \r\n              id=\"phone\" \r\n              v-model=\"formData.phone\" \r\n              @input=\"handleInput\" \r\n              @focus=\"handleFocus\" \r\n              @blur=\"handleBlur\" \r\n              placeholder=\" \" \r\n              required \r\n              aria-label=\"PHONE\" \r\n              class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\"\r\n            >\r\n            <label for=\"phone\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n              Phone\r\n            </label>\r\n          </div>\r\n          <div class=\"relative\">\r\n            <input \r\n              type=\"email\" \r\n              id=\"email\" \r\n              v-model=\"formData.email\" \r\n              @input=\"handleInput\" \r\n              @focus=\"handleFocus\" \r\n              @blur=\"handleBlur\" \r\n              placeholder=\" \" \r\n              required \r\n              aria-label=\"EMAIL\" \r\n              class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\"\r\n            >\r\n            <label for=\"email\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n              E-mail\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Reference Number -->\r\n        <div class=\"relative\">\r\n          <input \r\n            type=\"text\" \r\n            id=\"referenceNumber\" \r\n            v-model=\"formData.referenceNumber\" \r\n            @input=\"handleInput\" \r\n            @focus=\"handleFocus\" \r\n            @blur=\"handleBlur\" \r\n            placeholder=\" \" \r\n            required \r\n            aria-label=\"REFERENCE\" \r\n            class=\"peer w-full bg-transparent border-b border-black text-black text-lg p-2 focus:outline-none focus:border-blue-500 transition-colors duration-300\"\r\n          >\r\n          <label for=\"referenceNumber\" class=\"absolute left-0 top-0 text-black text-lg transition-all duration-300 -translate-y-6 scale-75 transform origin-left peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6\">\r\n            MEPCO Bill Reference Number\r\n          </label>\r\n        </div>\r\n                <!-- File Upload -->\r\n                <div class=\"mt-8 animate-slideInRight\">\r\n                  <div class=\"flex flex-wrap items-start max-w-full\">\r\n                    <ul class=\"list_dwn flex flex-wrap mt-4 w-full\"></ul>\r\n                    <div class=\"relative\">\r\n                      <div class=\"dwn text-lg text-black cursor-pointer px-4 py-2 hover:text-gray-400 transition-colors duration-300\">\r\n                        Add attachment\r\n                      </div>\r\n                      <input type=\"file\" name=\"files[]\" data-url=\"/user_files/\" class=\"hidden\">\r\n                      <div class=\"progress bg-gray-400 mt-2 relative h-0.5 w-full max-w-full\" role=\"progressbar\" aria-label=\"File Upload Progress\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"0\">\r\n                        <div class=\"progress-bar-success bg-green-500 absolute top-0 left-0 h-full\" style=\"width: 0%\"></div>\r\n                      </div>\r\n                      <div class=\"progress_txt mt-4 text-sm text-black\">\r\n                        <div>Supported formats: jpg, png, pdf, doc(x), xls(x), ppt(x)</div>\r\n                        <div>Maximum file size 20 MB</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n  \r\n                <!-- Error message -->\r\n                <div id=\"error-message\" class=\"text-red-500 mt-4 hidden\"></div>\r\n  \r\n                <!-- Submit button -->\r\n                <button type=\"submit\" class=\"get_go w-full bg-black text-white font-medium text-lg rounded-full px-8 py-3 hover:bg-gray-400 transition-all duration-300 transform hover:scale-105 disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-default\">\r\n                  <span>Get Quote</span>\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\r\n\r\n    this.attachEventListeners();\r\n    this.attachStyles();\r\n  }\r\n\r\n  attachEventListeners() {\r\n    const form = document.getElementById(\"solar-sizing-form\");\r\n    form.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n\r\n    const inputs = form.querySelectorAll(\"input\");\r\n    inputs.forEach((input) => {\r\n      input.addEventListener(\"input\", this.handleInput.bind(this));\r\n      input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n      input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n    });\r\n  }\r\n\r\n  handleInput(event) {\r\n    this[event.target.id] = event.target.value;\r\n  }\r\n\r\n  handleFocus(event) {\r\n    event.target.parentElement.classList.add(\"focused\");\r\n  }\r\n\r\n  handleBlur(event) {\r\n    if (!event.target.value) {\r\n      event.target.parentElement.classList.remove(\"focused\");\r\n    }\r\n  }\r\n\r\n  async handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    if (this.isFormValid()) {\r\n      this.isLoading = true;\r\n      this.renderLoadingState();\r\n\r\n      try {\r\n        await fetchBillData(this.referenceNumber);\r\n        console.log(\"Navigating to /quote\");\r\n        window.router.push(\"/quote\");\r\n      } catch (err) {\r\n        console.error(\"Error generating quote:\", err);\r\n        this.error = \"Error generating quote. Please try again.\";\r\n        this.renderError();\r\n      } finally {\r\n        this.isLoading = false;\r\n        this.renderLoadingState();\r\n      }\r\n    } else {\r\n      this.error = \"Please fill in all required fields.\";\r\n      this.renderError();\r\n    }\r\n  }\r\n\r\n  isFormValid() {\r\n    return this.name && this.phone && this.email && this.referenceNumber;\r\n  }\r\n\r\n  renderLoadingState() {\r\n    const button = document.querySelector(\".get_go\");\r\n    if (this.isLoading) {\r\n      button.innerHTML = '<span class=\"animate-pulse\">Loading...</span>';\r\n      button.disabled = true;\r\n    } else {\r\n      button.innerHTML = \"<span>Get Quote</span>\";\r\n      button.disabled = false;\r\n    }\r\n  }\r\n\r\n  renderError() {\r\n    const errorMessage = document.getElementById(\"error-message\");\r\n    if (this.error) {\r\n      errorMessage.textContent = this.error;\r\n      errorMessage.classList.remove(\"hidden\");\r\n      errorMessage.classList.add(\"animate-shake\");\r\n      setTimeout(() => {\r\n        errorMessage.classList.remove(\"animate-shake\");\r\n      }, 500);\r\n    } else {\r\n      errorMessage.classList.add(\"hidden\");\r\n    }\r\n  }\r\n\r\n  attachStyles() {\r\n    const style = document.createElement(\"style\");\r\n    style.textContent = `\r\n        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n        @keyframes slideInLeft { from { transform: translateX(-50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n        @keyframes slideInRight { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\r\n        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n        @keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); } 20%, 40%, 60%, 80% { transform: translateX(10px); } }\r\n        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }\r\n  \r\n        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }\r\n        .animate-slideInLeft { animation: slideInLeft 0.5s ease-out; }\r\n        .animate-slideInRight { animation: slideInRight 0.5s ease-out; }\r\n        .animate-bounce { animation: bounce 2s infinite; }\r\n        .animate-shake { animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }\r\n        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\r\n      `;\r\n    document.head.appendChild(style);\r\n  }\r\n}\r\n"
        }
    ]
}