{
    "sourceFile": "src/js/components/BillReviewPage.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 35,
            "patches": [
                {
                    "date": 1731478811255,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1731478822395,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,2 +1,3 @@\n import { gsap } from \"gsap\";\r\n-import { getBillData }  from \"../store/solarSizingState\";\n\\ No newline at end of file\n+import { getBillData }  from \"../store/solarSizingState\";\r\n+import { BillPreview } from \"./BillPreview\";\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731478851648,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,3 +1,15 @@\n import { gsap } from \"gsap\";\r\n import { getBillData }  from \"../store/solarSizingState\";\r\n-import { BillPreview } from \"./BillPreview\";\n\\ No newline at end of file\n+import { BillPreview } from \"./BillPreview\";\r\n+\r\n+export class BillReviewPage {\r\n+  constructor() {\r\n+    this.billData = getBillData();\r\n+    this.billPreview = new BillPreview();\r\n+  }\r\n+\r\n+  render() {\r\n+    const billData = getBillData();\r\n+    this.billPreview.render(billData);\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731479078247,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,12 +4,85 @@\n \r\n export class BillReviewPage {\r\n   constructor() {\r\n     this.billData = getBillData();\r\n-    this.billPreview = new BillPreview();\r\n+    if (!this.billDatall) {\r\n+      throw new Error(\"Bill data is not available\");    \r\n   }\r\n+}\r\n \r\n   render() {\r\n-    const billData = getBillData();\r\n-    this.billPreview.render(billData);\r\n-  }\r\n+    const app = document.getElementById(\"app\");\r\n+    app.innerHTML = `\r\n+        <div class=\"h-screen w-screen bg-white transition-colors duration-1000 overflow-hidden\">\r\n+        <!-- Main Content -->\r\n+        <div class=\"h-full w-full flex relative\">\r\n+          <!-- Bill Preview Side -->\r\n+          <div class=\"w-1/2 h-full\" id=\"bill-preview-container\">\r\n+            <div id=\"bill-preview\" class=\"h-full\"></div>\r\n+          </div>\r\n+\r\n+          <!-- Insights Side -->\r\n+          <div class=\"w-1/2 h-full bg-gray-50 p-8 flex flex-col\">\r\n+            <div class=\"flex-1\">\r\n+              <h2 class=\"text-2xl font-bold text-gray-800 mb-6\">Bill Analysis</h2>\r\n+              \r\n+              <!-- Key Metrics -->\r\n+              <div class=\"space-y-6\">\r\n+                ${this.renderKeyMetric(\r\n+                  \"Monthly Consumption\",\r\n+                  `${this.billData.unitsConsumed} kWh`,\r\n+                  \"This is how much electricity you used last month\"\r\n+                )}\r\n+                \r\n+                ${this.renderKeyMetric(\r\n+                  \"Current Bill Amount\",\r\n+                  `Rs. ${this.billData.totalAmount}`,\r\n+                  \"Your total electricity charges including taxes\"\r\n+                )}\r\n+                \r\n+                ${this.renderKeyMetric(\r\n+                  \"Rate per Unit\",\r\n+                  `Rs. ${this.billData.ratePerUnit}/kWh`,\r\n+                  \"Your current electricity rate\"\r\n+                )}\r\n+              </div>\r\n+\r\n+              <!-- Analysis Summary -->\r\n+              <div class=\"mt-8 p-6 bg-white rounded-lg shadow-sm\">\r\n+                <h3 class=\"text-lg font-semibold text-gray-800 mb-3\">What This Means</h3>\r\n+                <p class=\"text-gray-600\">\r\n+                  Based on your consumption pattern, you could benefit from a solar installation.\r\n+                  Let's see how much you could save!\r\n+                </p>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <!-- Next Button -->\r\n+            <div class=\"mt-6\">\r\n+              <button \r\n+                id=\"proceed-to-quote\" \r\n+                class=\"w-full bg-primary text-white px-6 py-3 rounded-full font-medium hover:bg-primary-dark transition-colors duration-300\"\r\n+              >\r\n+                Generate My Solar Quote â†’\r\n+              </button>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    `;\r\n+\r\n+    this.attachEventListeners();\r\n+    this.renderBillPreview();\r\n+    this.initializeAnimations();\r\n+    }\r\n+\r\n+    renderKeyMetric(title, value, description) {\r\n+      return `\r\n+        <div class=\"metric-card opacity-0\">\r\n+          <h3 class=\"text-lg font-semibold text-gray-800 mb-3\">${title}</h3>\r\n+          <p class=\"text-gray-600\">${value}</p>\r\n+          <p class=\"text-gray-500 text-sm\">${description}</p>\r\n+        </div>\r\n+      `;\r\n+    }\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731479103764,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,13 +76,15 @@\n     this.initializeAnimations();\r\n     }\r\n \r\n     renderKeyMetric(title, value, description) {\r\n-      return `\r\n+        return `\r\n         <div class=\"metric-card opacity-0\">\r\n-          <h3 class=\"text-lg font-semibold text-gray-800 mb-3\">${title}</h3>\r\n-          <p class=\"text-gray-600\">${value}</p>\r\n-          <p class=\"text-gray-500 text-sm\">${description}</p>\r\n+          <div class=\"flex justify-between items-start\">\r\n+            <h3 class=\"text-gray-600 font-medium\">${title}</h3>\r\n+            <span class=\"text-xl font-bold text-gray-900\">${value}</span>\r\n+          </div>\r\n+          <p class=\"text-sm text-gray-500 mt-1\">${description}</p>\r\n         </div>\r\n       `;\r\n     }\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731479208128,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,5 +86,21 @@\n           <p class=\"text-sm text-gray-500 mt-1\">${description}</p>\r\n         </div>\r\n       `;\r\n     }\r\n+\r\n+    renderBillPreview() {\r\n+        const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n+        const billPreview = new BillPreview(this.billData);\r\n+        billPreview.render(billPreviewContainer);\r\n+    }\r\n+\r\n+    attachEventListeners() {\r\n+        const proceedButton = document.getElementById(\"proceed-to-quote\");\r\n+        proceedButton.addEventListener(\"click\", () => {\r\n+          window.router.push(\"/quote\");\r\n+        });\r\n+    }\r\n+\r\n+\r\n+    \r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731479232340,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,7 +100,35 @@\n           window.router.push(\"/quote\");\r\n         });\r\n     }\r\n \r\n+    initializeAnimations() {\r\n+        // Fade in metrics one by one\r\n+        gsap.fromTo(\r\n+          \".metric-card\",\r\n+          { opacity: 0, y: 20 },\r\n+          { \r\n+            opacity: 1, \r\n+            y: 0, \r\n+            duration: 0.5,\r\n+            stagger: 0.2,\r\n+            ease: \"power2.out\"\r\n+          }\r\n+        );\r\n+    \r\n+        // Animate the bill preview\r\n+        const billPreviewContainer = document.getElementById(\"bill-preview-container\");\r\n+        gsap.fromTo(\r\n+          billPreviewContainer,\r\n+          { opacity: 0, scale: 0.95 },\r\n+          { \r\n+            opacity: 1, \r\n+            scale: 1, \r\n+            duration: 0.8,\r\n+            ease: \"power2.out\"\r\n+          }\r\n+        );\r\n+      }\r\n \r\n+\r\n     \r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731479238791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -128,7 +128,21 @@\n           }\r\n         );\r\n       }\r\n \r\n+      addBaseStyles() {\r\n+        const style = document.createElement(\"style\");\r\n+        style.textContent = `\r\n+          :root {\r\n+            --color-primary: #00a651;\r\n+            --color-primary-dark: #008c44;\r\n+          }\r\n+          \r\n+          .bg-primary { background-color: var(--color-primary); }\r\n+          .hover\\\\:bg-primary-dark:hover { background-color: var(--color-primary-dark); }\r\n+        `;\r\n+        document.head.appendChild(style);\r\n+      }\r\n \r\n+\r\n     \r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731480059668,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,14 +2,11 @@\n import { getBillData }  from \"../store/solarSizingState\";\r\n import { BillPreview } from \"./BillPreview\";\r\n \r\n export class BillReviewPage {\r\n-  constructor() {\r\n-    this.billData = getBillData();\r\n-    if (!this.billDatall) {\r\n-      throw new Error(\"Bill data is not available\");    \r\n-  }\r\n-}\r\n+    constructor() {\r\n+      this.billData = getBillData();\r\n+    }\r\n \r\n   render() {\r\n     const app = document.getElementById(\"app\");\r\n     app.innerHTML = `\r\n"
                },
                {
                    "date": 1731480077147,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,21 @@\n import { gsap } from \"gsap\";\r\n-import { getBillData }  from \"../store/solarSizingState\";\r\n+import { getBillData } from \"../store/solarSizingState\";\r\n import { BillPreview } from \"./BillPreview\";\r\n \r\n export class BillReviewPage {\r\n-    constructor() {\r\n-      this.billData = getBillData();\r\n-    }\r\n+  constructor() {\r\n+    this.billData = getBillData();\r\n+  }\r\n \r\n   render() {\r\n     const app = document.getElementById(\"app\");\r\n+\r\n+    if (!this.billData) {\r\n+      this.renderError(app);\r\n+      return;\r\n+    }\r\n+\r\n     app.innerHTML = `\r\n         <div class=\"h-screen w-screen bg-white transition-colors duration-1000 overflow-hidden\">\r\n         <!-- Main Content -->\r\n         <div class=\"h-full w-full flex relative\">\r\n@@ -70,76 +76,75 @@\n \r\n     this.attachEventListeners();\r\n     this.renderBillPreview();\r\n     this.initializeAnimations();\r\n-    }\r\n+  }\r\n \r\n-    renderKeyMetric(title, value, description) {\r\n-        return `\r\n+  renderKeyMetric(title, value, description) {\r\n+    return `\r\n         <div class=\"metric-card opacity-0\">\r\n           <div class=\"flex justify-between items-start\">\r\n             <h3 class=\"text-gray-600 font-medium\">${title}</h3>\r\n             <span class=\"text-xl font-bold text-gray-900\">${value}</span>\r\n           </div>\r\n           <p class=\"text-sm text-gray-500 mt-1\">${description}</p>\r\n         </div>\r\n       `;\r\n-    }\r\n+  }\r\n \r\n-    renderBillPreview() {\r\n-        const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n-        const billPreview = new BillPreview(this.billData);\r\n-        billPreview.render(billPreviewContainer);\r\n-    }\r\n+  renderBillPreview() {\r\n+    const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n+    const billPreview = new BillPreview(this.billData);\r\n+    billPreview.render(billPreviewContainer);\r\n+  }\r\n \r\n-    attachEventListeners() {\r\n-        const proceedButton = document.getElementById(\"proceed-to-quote\");\r\n-        proceedButton.addEventListener(\"click\", () => {\r\n-          window.router.push(\"/quote\");\r\n-        });\r\n-    }\r\n+  attachEventListeners() {\r\n+    const proceedButton = document.getElementById(\"proceed-to-quote\");\r\n+    proceedButton.addEventListener(\"click\", () => {\r\n+      window.router.push(\"/quote\");\r\n+    });\r\n+  }\r\n \r\n-    initializeAnimations() {\r\n-        // Fade in metrics one by one\r\n-        gsap.fromTo(\r\n-          \".metric-card\",\r\n-          { opacity: 0, y: 20 },\r\n-          { \r\n-            opacity: 1, \r\n-            y: 0, \r\n-            duration: 0.5,\r\n-            stagger: 0.2,\r\n-            ease: \"power2.out\"\r\n-          }\r\n-        );\r\n-    \r\n-        // Animate the bill preview\r\n-        const billPreviewContainer = document.getElementById(\"bill-preview-container\");\r\n-        gsap.fromTo(\r\n-          billPreviewContainer,\r\n-          { opacity: 0, scale: 0.95 },\r\n-          { \r\n-            opacity: 1, \r\n-            scale: 1, \r\n-            duration: 0.8,\r\n-            ease: \"power2.out\"\r\n-          }\r\n-        );\r\n+  initializeAnimations() {\r\n+    // Fade in metrics one by one\r\n+    gsap.fromTo(\r\n+      \".metric-card\",\r\n\\ No newline at end of file\n+      { opacity: 0, y: 20 },\r\n+      {\r\n+        opacity: 1,\r\n+        y: 0,\r\n+        duration: 0.5,\r\n+        stagger: 0.2,\r\n+        ease: \"power2.out\",\r\n       }\r\n+    );\r\n \r\n-      addBaseStyles() {\r\n-        const style = document.createElement(\"style\");\r\n-        style.textContent = `\r\n+    // Animate the bill preview\r\n+    const billPreviewContainer = document.getElementById(\r\n+      \"bill-preview-container\"\r\n+    );\r\n+    gsap.fromTo(\r\n+      billPreviewContainer,\r\n+      { opacity: 0, scale: 0.95 },\r\n+      {\r\n+        opacity: 1,\r\n+        scale: 1,\r\n+        duration: 0.8,\r\n+        ease: \"power2.out\",\r\n+      }\r\n+    );\r\n+  }\r\n+\r\n+  addBaseStyles() {\r\n+    const style = document.createElement(\"style\");\r\n+    style.textContent = `\r\n           :root {\r\n             --color-primary: #00a651;\r\n             --color-primary-dark: #008c44;\r\n           }\r\n           \r\n           .bg-primary { background-color: var(--color-primary); }\r\n           .hover\\\\:bg-primary-dark:hover { background-color: var(--color-primary-dark); }\r\n         `;\r\n-        document.head.appendChild(style);\r\n-      }\r\n-\r\n-\r\n-    \r\n-}\n+    document.head.appendChild(style);\r\n+  }\r\n+}\r\n"
                },
                {
                    "date": 1731480092759,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,8 +90,24 @@\n         </div>\r\n       `;\r\n   }\r\n \r\n+  renderError(container) {\r\n+    container.innerHTML = `\r\n+      <div class=\"h-screen w-screen flex items-center justify-center bg-gray-50\">\r\n+        <div class=\"text-center\">\r\n+          <h2 class=\"text-2xl font-bold text-gray-800 mb-4\">No Bill Data Available</h2>\r\n+          <p class=\"text-gray-600 mb-6\">Please enter your reference number to get started.</p>\r\n+          <button \r\n+            class=\"px-6 py-3 bg-primary text-white rounded-full hover:bg-primary-dark transition-colors\"\r\n+            onclick=\"window.router.push('/')\">\r\n+            Go Back\r\n+          </button>\r\n+        </div>\r\n+      </div>\r\n+    `;\r\n+  }\r\n+\r\n   renderBillPreview() {\r\n     const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n     const billPreview = new BillPreview(this.billData);\r\n     billPreview.render(billPreviewContainer);\r\n@@ -146,5 +162,5 @@\n           .hover\\\\:bg-primary-dark:hover { background-color: var(--color-primary-dark); }\r\n         `;\r\n     document.head.appendChild(style);\r\n   }\r\n-}\n\\ No newline at end of file\n+}\r\n"
                },
                {
                    "date": 1731480131574,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,166 @@\n+import { gsap } from \"gsap\";\r\n+import { getBillData } from \"../store/solarSizingState\";\r\n+import { BillPreview } from \"./BillPreview\";\r\n+\r\n+export class BillReviewPage {\r\n+  constructor() {\r\n+    this.billData = getBillData();\r\n+  }\r\n+\r\n+  render() {\r\n+    const app = document.getElementById(\"app\");\r\n+\r\n+    if (!this.billData) {\r\n+      this.renderError(app);\r\n+      return;\r\n+    }\r\n+\r\n+    app.innerHTML = `\r\n+        <div class=\"h-screen w-screen bg-white transition-colors duration-1000 overflow-hidden\">\r\n+        <!-- Main Content -->\r\n+        <div class=\"h-full w-full flex relative\">\r\n+          <!-- Bill Preview Side -->\r\n+          <div class=\"w-1/2 h-full\" id=\"bill-preview-container\">\r\n+            <div id=\"bill-preview\" class=\"h-full\"></div>\r\n+          </div>\r\n+\r\n+          <!-- Insights Side -->\r\n+          <div class=\"w-1/2 h-full bg-gray-50 p-8 flex flex-col\">\r\n+            <div class=\"flex-1\">\r\n+              <h2 class=\"text-2xl font-bold text-gray-800 mb-6\">Bill Analysis</h2>\r\n+              \r\n+              <!-- Key Metrics -->\r\n+              <div class=\"space-y-6\">\r\n+                ${this.renderKeyMetric(\r\n+                  \"Monthly Consumption\",\r\n+                  `${this.billData.unitsConsumed} kWh`,\r\n+                  \"This is how much electricity you used last month\"\r\n+                )}\r\n+                \r\n+                ${this.renderKeyMetric(\r\n+                  \"Current Bill Amount\",\r\n+                  `Rs. ${this.billData.totalAmount}`,\r\n+                  \"Your total electricity charges including taxes\"\r\n+                )}\r\n+                \r\n+                ${this.renderKeyMetric(\r\n+                  \"Rate per Unit\",\r\n+                  `Rs. ${this.billData.ratePerUnit}/kWh`,\r\n+                  \"Your current electricity rate\"\r\n+                )}\r\n+              </div>\r\n+\r\n+              <!-- Analysis Summary -->\r\n+              <div class=\"mt-8 p-6 bg-white rounded-lg shadow-sm\">\r\n+                <h3 class=\"text-lg font-semibold text-gray-800 mb-3\">What This Means</h3>\r\n+                <p class=\"text-gray-600\">\r\n+                  Based on your consumption pattern, you could benefit from a solar installation.\r\n+                  Let's see how much you could save!\r\n+                </p>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <!-- Next Button -->\r\n+            <div class=\"mt-6\">\r\n+              <button \r\n+                id=\"proceed-to-quote\" \r\n+                class=\"w-full bg-primary text-white px-6 py-3 rounded-full font-medium hover:bg-primary-dark transition-colors duration-300\"\r\n+              >\r\n+                Generate My Solar Quote â†’\r\n+              </button>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    `;\r\n+\r\n+    this.attachEventListeners();\r\n+    this.renderBillPreview();\r\n+    this.initializeAnimations();\r\n+  }\r\n+\r\n+  renderKeyMetric(title, value, description) {\r\n+    return `\r\n+        <div class=\"metric-card opacity-0\">\r\n+          <div class=\"flex justify-between items-start\">\r\n+            <h3 class=\"text-gray-600 font-medium\">${title}</h3>\r\n+            <span class=\"text-xl font-bold text-gray-900\">${value}</span>\r\n+          </div>\r\n+          <p class=\"text-sm text-gray-500 mt-1\">${description}</p>\r\n+        </div>\r\n+      `;\r\n+  }\r\n+\r\n+  renderError(container) {\r\n+    container.innerHTML = `\r\n+      <div class=\"h-screen w-screen flex items-center justify-center bg-gray-50\">\r\n+        <div class=\"text-center\">\r\n+          <h2 class=\"text-2xl font-bold text-gray-800 mb-4\">No Bill Data Available</h2>\r\n+          <p class=\"text-gray-600 mb-6\">Please enter your reference number to get started.</p>\r\n+          <button \r\n+            class=\"px-6 py-3 bg-primary text-white rounded-full hover:bg-primary-dark transition-colors\"\r\n+            onclick=\"window.router.push('/')\">\r\n+            Go Back\r\n+          </button>\r\n+        </div>\r\n+      </div>\r\n+    `;\r\n+  }\r\n+\r\n+  renderBillPreview() {\r\n+    const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n+    const billPreview = new BillPreview(this.billData);\r\n+    billPreview.render(billPreviewContainer);\r\n+  }\r\n+\r\n+  attachEventListeners() {\r\n+    const proceedButton = document.getElementById(\"proceed-to-quote\");\r\n+    proceedButton.addEventListener(\"click\", () => {\r\n+      window.router.push(\"/quote\");\r\n+    });\r\n+  }\r\n+\r\n+  initializeAnimations() {\r\n+    // Fade in metrics one by one\r\n+    gsap.fromTo(\r\n+      \".metric-card\",\r\n+      { opacity: 0, y: 20 },\r\n+      {\r\n+        opacity: 1,\r\n+        y: 0,\r\n+        duration: 0.5,\r\n+        stagger: 0.2,\r\n+        ease: \"power2.out\",\r\n+      }\r\n+    );\r\n+\r\n+    // Animate the bill preview\r\n+    const billPreviewContainer = document.getElementById(\r\n+      \"bill-preview-container\"\r\n+    );\r\n+    gsap.fromTo(\r\n+      billPreviewContainer,\r\n+      { opacity: 0, scale: 0.95 },\r\n+      {\r\n+        opacity: 1,\r\n+        scale: 1,\r\n+        duration: 0.8,\r\n+        ease: \"power2.out\",\r\n+      }\r\n+    );\r\n+  }\r\n+\r\n+  addBaseStyles() {\r\n+    const style = document.createElement(\"style\");\r\n+    style.textContent = `\r\n+          :root {\r\n+            --color-primary: #00a651;\r\n+            --color-primary-dark: #008c44;\r\n+          }\r\n+          \r\n+          .bg-primary { background-color: var(--color-primary); }\r\n+          .hover\\\\:bg-primary-dark:hover { background-color: var(--color-primary-dark); }\r\n+        `;\r\n+    document.head.appendChild(style);\r\n+  }\r\n+}\r\n"
                },
                {
                    "date": 1731480354520,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,179 @@\n+// src/js/components/BillReviewPage.js\r\n+import { gsap } from \"gsap\";\r\n+import { getBillData } from \"../store/solarSizingState.js\";\r\n+import { BillPreview } from \"./BillPreview.js\";\r\n+\r\n+export class BillReviewPage {\r\n+  constructor() {\r\n+    this.billData = getBillData();\r\n+  }\r\n+\r\n+  render() {\r\n+    const app = document.getElementById(\"app\");\r\n+    \r\n+    if (!this.billData) {\r\n+      this.renderError(app);\r\n+      return;\r\n+    }\r\n+\r\n+    app.innerHTML = `\r\n+      <div class=\"h-screen w-screen bg-white transition-colors duration-1000 overflow-hidden\">\r\n+        <!-- Main Content -->\r\n+        <div class=\"h-full w-full flex relative\" id=\"main-content\">\r\n+          <!-- Bill Preview Side -->\r\n+          <div class=\"w-1/2 h-full\" id=\"bill-preview-container\">\r\n+            <div id=\"bill-preview\" class=\"h-full\"></div>\r\n+          </div>\r\n+\r\n+          <!-- Loading Indicator -->\r\n+          <div class=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center z-10\" \r\n+               id=\"loading-indicator\">\r\n+            <div class=\"w-10 h-10 border-4 border-primary border-l-transparent rounded-full animate-spin mb-2\"></div>\r\n+            <p class=\"text-primary font-medium\">Analyzing your bill...</p>\r\n+          </div>\r\n+\r\n+          <!-- Insights Side -->\r\n+          <div class=\"w-1/2 h-full bg-gray-50 p-8 flex flex-col\" id=\"insights-container\">\r\n+            <div class=\"flex-1\">\r\n+              <h2 class=\"text-2xl font-bold text-gray-800 mb-6 opacity-0\">Bill Analysis</h2>\r\n+              \r\n+              <!-- Key Metrics -->\r\n+              <div class=\"space-y-6\">\r\n+                ${this.renderKeyMetric(\r\n+                  \"Monthly Consumption\",\r\n+                  `${this.billData.unitsConsumed} kWh`,\r\n+                  \"This is how much electricity you used last month\"\r\n+                )}\r\n+                \r\n+                ${this.renderKeyMetric(\r\n+                  \"Current Bill Amount\",\r\n+                  `Rs. ${this.billData.totalAmount}`,\r\n+                  \"Your total electricity charges including taxes\"\r\n+                )}\r\n+                \r\n+                ${this.renderKeyMetric(\r\n+                  \"Rate per Unit\",\r\n+                  `Rs. ${this.billData.ratePerUnit}/kWh`,\r\n+                  \"Your current electricity rate\"\r\n+                )}\r\n+              </div>\r\n+\r\n+              <!-- Next Step Card -->\r\n+              <div class=\"mt-8 p-6 bg-white rounded-lg shadow-sm opacity-0\" id=\"next-step-card\">\r\n+                <h3 class=\"text-lg font-semibold text-gray-800 mb-3\">Ready For Your Solar Quote?</h3>\r\n+                <p class=\"text-gray-600 mb-4\">\r\n+                  We've analyzed your bill. Now let's see how much you could save with solar!\r\n+                </p>\r\n+                <button \r\n+                  id=\"proceed-to-quote\" \r\n+                  class=\"w-full bg-primary text-white px-6 py-3 rounded-full font-medium hover:bg-primary-dark transition-colors duration-300\"\r\n+                >\r\n+                  Generate My Solar Quote â†’\r\n+                </button>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    `;\r\n+\r\n+    this.attachEventListeners();\r\n+    this.renderBillPreview();\r\n+    this.startAnimation();\r\n+  }\r\n+\r\n+  renderKeyMetric(title, value, description) {\r\n+    return `\r\n+      <div class=\"metric-card opacity-0\">\r\n+        <div class=\"flex justify-between items-start\">\r\n+          <h3 class=\"text-gray-600 font-medium\">${title}</h3>\r\n+          <span class=\"text-xl font-bold text-gray-900\">${value}</span>\r\n+        </div>\r\n+        <p class=\"text-sm text-gray-500 mt-1\">${description}</p>\r\n+      </div>\r\n+    `;\r\n+  }\r\n+\r\n+  renderBillPreview() {\r\n+    const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n+    const billPreview = new BillPreview(this.billData);\r\n+    billPreview.render(billPreviewContainer);\r\n+  }\r\n+\r\n+  async startAnimation() {\r\n+    const billPreviewContainer = document.getElementById(\"bill-preview-container\");\r\n+    const loadingIndicator = document.getElementById(\"loading-indicator\");\r\n+    const insightsContainer = document.getElementById(\"insights-container\");\r\n+    const metrics = document.querySelectorAll(\".metric-card\");\r\n+    const nextStepCard = document.getElementById(\"next-step-card\");\r\n+    const pageTitle = document.querySelector(\"h2\");\r\n+\r\n+    // Initial states\r\n+    gsap.set([billPreviewContainer, loadingIndicator, metrics, nextStepCard, pageTitle], {\r\n+      opacity: 0\r\n+    });\r\n+    gsap.set(billPreviewContainer, {\r\n+      scale: 0.9,\r\n+      position: 'absolute',\r\n+      left: '50%',\r\n+      top: '50%',\r\n+      xPercent: -50,\r\n+      yPercent: -50,\r\n+      width: \"47.5%\"\r\n+    });\r\n+\r\n+    // Animation sequence\r\n+    const tl = gsap.timeline({\r\n+      defaults: { duration: 0.8, ease: \"power2.out\" }\r\n+    });\r\n+\r\n+    await tl\r\n+      .to(billPreviewContainer, {\r\n+        opacity: 1,\r\n+        scale: 1,\r\n+        duration: 1\r\n+      })\r\n+      .to(loadingIndicator, {\r\n+        opacity: 1,\r\n+        scale: 1,\r\n+        duration: 0.5\r\n+      })\r\n+      .to(loadingIndicator, {\r\n+        opacity: 0,\r\n+        scale: 0.5,\r\n+        delay: 1\r\n+      })\r\n+      .to(billPreviewContainer, {\r\n+        left: \"0%\",\r\n+        top: \"0%\",\r\n+        xPercent: 0,\r\n+        yPercent: 0,\r\n+        width: \"50%\",\r\n+        position: 'relative'\r\n+      }, \"-=0.3\")\r\n+      // Fade in insights section\r\n+      .to(pageTitle, {\r\n+        opacity: 1,\r\n+        y: 0,\r\n+        duration: 0.5\r\n+      })\r\n+      .to(metrics, {\r\n+        opacity: 1,\r\n+        y: 0,\r\n+        stagger: 0.2,\r\n+        duration: 0.5\r\n+      })\r\n+      .to(nextStepCard, {\r\n+        opacity: 1,\r\n+        y: 0,\r\n+        duration: 0.5\r\n+      });\r\n+  }\r\n+\r\n+  attachEventListeners() {\r\n+    const proceedButton = document.getElementById(\"proceed-to-quote\");\r\n+    proceedButton.addEventListener(\"click\", () => {\r\n+      window.router.push(\"/quote\");\r\n+    });\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731480481880,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n   }\r\n \r\n   render() {\r\n     const app = document.getElementById(\"app\");\r\n-    \r\n+\r\n     if (!this.billData) {\r\n       this.renderError(app);\r\n       return;\r\n     }\r\n@@ -32,44 +32,84 @@\n             <p class=\"text-primary font-medium\">Analyzing your bill...</p>\r\n           </div>\r\n \r\n           <!-- Insights Side -->\r\n-          <div class=\"w-1/2 h-full bg-gray-50 p-8 flex flex-col\" id=\"insights-container\">\r\n+          <div class=\"w-1/2 h-full bg-gradient-to-br from-gray-50 to-white p-8 flex flex-col\" id=\"insights-container\">\r\n             <div class=\"flex-1\">\r\n-              <h2 class=\"text-2xl font-bold text-gray-800 mb-6 opacity-0\">Bill Analysis</h2>\r\n+              <div class=\"flex items-center space-x-3 mb-8 opacity-0\" id=\"page-header\">\r\n+                <div class=\"w-1 h-8 bg-primary rounded-full\"></div>\r\n+                <h2 class=\"text-2xl font-bold text-gray-800\">Bill Analysis</h2>\r\n+              </div>\r\n               \r\n-              <!-- Key Metrics -->\r\n-              <div class=\"space-y-6\">\r\n+              <!-- Progress Bar -->\r\n+              <div class=\"mb-8 flex items-center justify-between text-sm opacity-0\" id=\"progress-bar\">\r\n+                <div class=\"flex items-center\">\r\n+                  <div class=\"w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center font-semibold\">1</div>\r\n+                  <div class=\"ml-3\">\r\n+                    <p class=\"font-medium text-gray-800\">Bill Review</p>\r\n+                    <p class=\"text-gray-500\">Analyzing your consumption</p>\r\n+                  </div>\r\n+                </div>\r\n+                <div class=\"flex items-center\">\r\n+                  <div class=\"w-8 h-8 rounded-full bg-gray-200 text-gray-400 flex items-center justify-center font-semibold\">2</div>\r\n+                  <div class=\"ml-3\">\r\n+                    <p class=\"font-medium text-gray-400\">Solar Quote</p>\r\n+                    <p class=\"text-gray-400\">Up next</p>\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+\r\n+              <!-- Key Metrics Grid -->\r\n+              <div class=\"grid grid-cols-2 gap-4 mb-8\">\r\n                 ${this.renderKeyMetric(\r\n                   \"Monthly Consumption\",\r\n-                  `${this.billData.unitsConsumed} kWh`,\r\n-                  \"This is how much electricity you used last month\"\r\n+                  `${this.billData.unitsConsumed}`,\r\n+                  \"kWh\",\r\n+                  \"This is how much electricity you used last month\",\r\n+                  \"lightning-bolt\"\r\n                 )}\r\n                 \r\n                 ${this.renderKeyMetric(\r\n-                  \"Current Bill Amount\",\r\n-                  `Rs. ${this.billData.totalAmount}`,\r\n-                  \"Your total electricity charges including taxes\"\r\n+                  \"Current Bill\",\r\n+                  `${this.billData.totalAmount}`,\r\n+                  \"Rs.\",\r\n+                  \"Your total electricity charges including taxes\",\r\n+                  \"cash\"\r\n                 )}\r\n                 \r\n                 ${this.renderKeyMetric(\r\n                   \"Rate per Unit\",\r\n-                  `Rs. ${this.billData.ratePerUnit}/kWh`,\r\n-                  \"Your current electricity rate\"\r\n+                  `${this.billData.ratePerUnit}`,\r\n+                  \"Rs/kWh\",\r\n+                  \"Your current electricity rate\",\r\n+                  \"chart-bar\"\r\n                 )}\r\n+                \r\n+                ${this.renderKeyMetric(\r\n+                  \"Bill Due Date\",\r\n+                  `${this.billData.dueDate}`,\r\n+                  \"\",\r\n+                  \"Make sure to pay before this date\",\r\n+                  \"calendar\"\r\n+                )}\r\n               </div>\r\n \r\n               <!-- Next Step Card -->\r\n-              <div class=\"mt-8 p-6 bg-white rounded-lg shadow-sm opacity-0\" id=\"next-step-card\">\r\n-                <h3 class=\"text-lg font-semibold text-gray-800 mb-3\">Ready For Your Solar Quote?</h3>\r\n+              <div class=\"relative mt-auto p-6 bg-white rounded-2xl shadow-sm opacity-0 border border-gray-100\" id=\"next-step-card\">\r\n+                <div class=\"absolute -top-3 -right-3 w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center\">\r\n+                  <svg class=\"w-8 h-8 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 7l5 5m0 0l-5 5m5-5H6\"></path>\r\n+                  </svg>\r\n+                </div>\r\n+                <h3 class=\"text-lg font-semibold text-gray-800 mb-2\">Ready For Your Solar Quote?</h3>\r\n                 <p class=\"text-gray-600 mb-4\">\r\n                   We've analyzed your bill. Now let's see how much you could save with solar!\r\n                 </p>\r\n                 <button \r\n                   id=\"proceed-to-quote\" \r\n-                  class=\"w-full bg-primary text-white px-6 py-3 rounded-full font-medium hover:bg-primary-dark transition-colors duration-300\"\r\n+                  class=\"w-full bg-gradient-to-r from-primary to-primary-dark text-white px-6 py-3.5 rounded-xl font-medium hover:from-primary-dark hover:to-primary-dark transition-all duration-300 shadow-sm hover:shadow-md\"\r\n                 >\r\n-                  Generate My Solar Quote â†’\r\n+                  Generate My Solar Quote\r\n                 </button>\r\n               </div>\r\n             </div>\r\n           </div>\r\n@@ -100,74 +140,89 @@\n     billPreview.render(billPreviewContainer);\r\n   }\r\n \r\n   async startAnimation() {\r\n-    const billPreviewContainer = document.getElementById(\"bill-preview-container\");\r\n+    const billPreviewContainer = document.getElementById(\r\n+      \"bill-preview-container\"\r\n+    );\r\n     const loadingIndicator = document.getElementById(\"loading-indicator\");\r\n     const insightsContainer = document.getElementById(\"insights-container\");\r\n     const metrics = document.querySelectorAll(\".metric-card\");\r\n     const nextStepCard = document.getElementById(\"next-step-card\");\r\n     const pageTitle = document.querySelector(\"h2\");\r\n \r\n     // Initial states\r\n-    gsap.set([billPreviewContainer, loadingIndicator, metrics, nextStepCard, pageTitle], {\r\n-      opacity: 0\r\n-    });\r\n+    gsap.set(\r\n+      [\r\n+        billPreviewContainer,\r\n+        loadingIndicator,\r\n+        metrics,\r\n+        nextStepCard,\r\n+        pageTitle,\r\n+      ],\r\n+      {\r\n+        opacity: 0,\r\n+      }\r\n+    );\r\n     gsap.set(billPreviewContainer, {\r\n       scale: 0.9,\r\n-      position: 'absolute',\r\n-      left: '50%',\r\n-      top: '50%',\r\n+      position: \"absolute\",\r\n+      left: \"50%\",\r\n+      top: \"50%\",\r\n       xPercent: -50,\r\n       yPercent: -50,\r\n-      width: \"47.5%\"\r\n+      width: \"47.5%\",\r\n     });\r\n \r\n     // Animation sequence\r\n     const tl = gsap.timeline({\r\n-      defaults: { duration: 0.8, ease: \"power2.out\" }\r\n+      defaults: { duration: 0.8, ease: \"power2.out\" },\r\n     });\r\n \r\n     await tl\r\n       .to(billPreviewContainer, {\r\n         opacity: 1,\r\n         scale: 1,\r\n-        duration: 1\r\n+        duration: 1,\r\n       })\r\n       .to(loadingIndicator, {\r\n         opacity: 1,\r\n         scale: 1,\r\n-        duration: 0.5\r\n+        duration: 0.5,\r\n       })\r\n       .to(loadingIndicator, {\r\n         opacity: 0,\r\n         scale: 0.5,\r\n-        delay: 1\r\n+        delay: 1,\r\n       })\r\n-      .to(billPreviewContainer, {\r\n-        left: \"0%\",\r\n-        top: \"0%\",\r\n-        xPercent: 0,\r\n-        yPercent: 0,\r\n-        width: \"50%\",\r\n-        position: 'relative'\r\n-      }, \"-=0.3\")\r\n+      .to(\r\n+        billPreviewContainer,\r\n+        {\r\n+          left: \"0%\",\r\n+          top: \"0%\",\r\n+          xPercent: 0,\r\n+          yPercent: 0,\r\n+          width: \"50%\",\r\n+          position: \"relative\",\r\n+        },\r\n+        \"-=0.3\"\r\n+      )\r\n       // Fade in insights section\r\n       .to(pageTitle, {\r\n         opacity: 1,\r\n         y: 0,\r\n-        duration: 0.5\r\n+        duration: 0.5,\r\n       })\r\n       .to(metrics, {\r\n         opacity: 1,\r\n         y: 0,\r\n         stagger: 0.2,\r\n-        duration: 0.5\r\n+        duration: 0.5,\r\n       })\r\n       .to(nextStepCard, {\r\n         opacity: 1,\r\n         y: 0,\r\n-        duration: 0.5\r\n+        duration: 0.5,\r\n       });\r\n   }\r\n \r\n   attachEventListeners() {\r\n@@ -175,337 +230,5 @@\n     proceedButton.addEventListener(\"click\", () => {\r\n       window.router.push(\"/quote\");\r\n     });\r\n   }\r\n-}\n-import { gsap } from \"gsap\";\r\n-import { getBillData } from \"../store/solarSizingState\";\r\n-import { BillPreview } from \"./BillPreview\";\r\n-\r\n-export class BillReviewPage {\r\n-  constructor() {\r\n-    this.billData = getBillData();\r\n-  }\r\n-\r\n-  render() {\r\n-    const app = document.getElementById(\"app\");\r\n-\r\n-    if (!this.billData) {\r\n-      this.renderError(app);\r\n-      return;\r\n-    }\r\n-\r\n-    app.innerHTML = `\r\n-        <div class=\"h-screen w-screen bg-white transition-colors duration-1000 overflow-hidden\">\r\n-        <!-- Main Content -->\r\n-        <div class=\"h-full w-full flex relative\">\r\n-          <!-- Bill Preview Side -->\r\n-          <div class=\"w-1/2 h-full\" id=\"bill-preview-container\">\r\n-            <div id=\"bill-preview\" class=\"h-full\"></div>\r\n-          </div>\r\n-\r\n-          <!-- Insights Side -->\r\n-          <div class=\"w-1/2 h-full bg-gray-50 p-8 flex flex-col\">\r\n-            <div class=\"flex-1\">\r\n-              <h2 class=\"text-2xl font-bold text-gray-800 mb-6\">Bill Analysis</h2>\r\n-              \r\n-              <!-- Key Metrics -->\r\n-              <div class=\"space-y-6\">\r\n-                ${this.renderKeyMetric(\r\n-                  \"Monthly Consumption\",\r\n-                  `${this.billData.unitsConsumed} kWh`,\r\n-                  \"This is how much electricity you used last month\"\r\n-                )}\r\n-                \r\n-                ${this.renderKeyMetric(\r\n-                  \"Current Bill Amount\",\r\n-                  `Rs. ${this.billData.totalAmount}`,\r\n-                  \"Your total electricity charges including taxes\"\r\n-                )}\r\n-                \r\n-                ${this.renderKeyMetric(\r\n-                  \"Rate per Unit\",\r\n-                  `Rs. ${this.billData.ratePerUnit}/kWh`,\r\n-                  \"Your current electricity rate\"\r\n-                )}\r\n-              </div>\r\n-\r\n-              <!-- Analysis Summary -->\r\n-              <div class=\"mt-8 p-6 bg-white rounded-lg shadow-sm\">\r\n-                <h3 class=\"text-lg font-semibold text-gray-800 mb-3\">What This Means</h3>\r\n-                <p class=\"text-gray-600\">\r\n-                  Based on your consumption pattern, you could benefit from a solar installation.\r\n-                  Let's see how much you could save!\r\n-                </p>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <!-- Next Button -->\r\n-            <div class=\"mt-6\">\r\n-              <button \r\n-                id=\"proceed-to-quote\" \r\n-                class=\"w-full bg-primary text-white px-6 py-3 rounded-full font-medium hover:bg-primary-dark transition-colors duration-300\"\r\n-              >\r\n-                Generate My Solar Quote â†’\r\n-              </button>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    `;\r\n-\r\n-    this.attachEventListeners();\r\n-    this.renderBillPreview();\r\n-    this.initializeAnimations();\r\n-  }\r\n-\r\n-  renderKeyMetric(title, value, description) {\r\n-    return `\r\n-        <div class=\"metric-card opacity-0\">\r\n-          <div class=\"flex justify-between items-start\">\r\n-            <h3 class=\"text-gray-600 font-medium\">${title}</h3>\r\n-            <span class=\"text-xl font-bold text-gray-900\">${value}</span>\r\n-          </div>\r\n-          <p class=\"text-sm text-gray-500 mt-1\">${description}</p>\r\n-        </div>\r\n-      `;\r\n-  }\r\n-\r\n-  renderError(container) {\r\n-    container.innerHTML = `\r\n-      <div class=\"h-screen w-screen flex items-center justify-center bg-gray-50\">\r\n-        <div class=\"text-center\">\r\n-          <h2 class=\"text-2xl font-bold text-gray-800 mb-4\">No Bill Data Available</h2>\r\n-          <p class=\"text-gray-600 mb-6\">Please enter your reference number to get started.</p>\r\n-          <button \r\n-            class=\"px-6 py-3 bg-primary text-white rounded-full hover:bg-primary-dark transition-colors\"\r\n-            onclick=\"window.router.push('/')\">\r\n-            Go Back\r\n-          </button>\r\n-        </div>\r\n-      </div>\r\n-    `;\r\n-  }\r\n-\r\n-  renderBillPreview() {\r\n-    const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n-    const billPreview = new BillPreview(this.billData);\r\n-    billPreview.render(billPreviewContainer);\r\n-  }\r\n-\r\n-  attachEventListeners() {\r\n-    const proceedButton = document.getElementById(\"proceed-to-quote\");\r\n-    proceedButton.addEventListener(\"click\", () => {\r\n-      window.router.push(\"/quote\");\r\n-    });\r\n-  }\r\n-\r\n-  initializeAnimations() {\r\n-    // Fade in metrics one by one\r\n-    gsap.fromTo(\r\n-      \".metric-card\",\r\n-      { opacity: 0, y: 20 },\r\n-      {\r\n-        opacity: 1,\r\n-        y: 0,\r\n-        duration: 0.5,\r\n-        stagger: 0.2,\r\n-        ease: \"power2.out\",\r\n-      }\r\n-    );\r\n-\r\n-    // Animate the bill preview\r\n-    const billPreviewContainer = document.getElementById(\r\n-      \"bill-preview-container\"\r\n-    );\r\n-    gsap.fromTo(\r\n-      billPreviewContainer,\r\n-      { opacity: 0, scale: 0.95 },\r\n-      {\r\n-        opacity: 1,\r\n-        scale: 1,\r\n-        duration: 0.8,\r\n-        ease: \"power2.out\",\r\n-      }\r\n-    );\r\n-  }\r\n-\r\n-  addBaseStyles() {\r\n-    const style = document.createElement(\"style\");\r\n-    style.textContent = `\r\n-          :root {\r\n-            --color-primary: #00a651;\r\n-            --color-primary-dark: #008c44;\r\n-          }\r\n-          \r\n-          .bg-primary { background-color: var(--color-primary); }\r\n-          .hover\\\\:bg-primary-dark:hover { background-color: var(--color-primary-dark); }\r\n-        `;\r\n-    document.head.appendChild(style);\r\n-  }\r\n }\r\n-import { gsap } from \"gsap\";\r\n-import { getBillData } from \"../store/solarSizingState\";\r\n-import { BillPreview } from \"./BillPreview\";\r\n-\r\n-export class BillReviewPage {\r\n-  constructor() {\r\n-    this.billData = getBillData();\r\n-  }\r\n-\r\n-  render() {\r\n-    const app = document.getElementById(\"app\");\r\n-\r\n-    if (!this.billData) {\r\n-      this.renderError(app);\r\n-      return;\r\n-    }\r\n-\r\n-    app.innerHTML = `\r\n-        <div class=\"h-screen w-screen bg-white transition-colors duration-1000 overflow-hidden\">\r\n-        <!-- Main Content -->\r\n-        <div class=\"h-full w-full flex relative\">\r\n-          <!-- Bill Preview Side -->\r\n-          <div class=\"w-1/2 h-full\" id=\"bill-preview-container\">\r\n-            <div id=\"bill-preview\" class=\"h-full\"></div>\r\n-          </div>\r\n-\r\n-          <!-- Insights Side -->\r\n-          <div class=\"w-1/2 h-full bg-gray-50 p-8 flex flex-col\">\r\n-            <div class=\"flex-1\">\r\n-              <h2 class=\"text-2xl font-bold text-gray-800 mb-6\">Bill Analysis</h2>\r\n-              \r\n-              <!-- Key Metrics -->\r\n-              <div class=\"space-y-6\">\r\n-                ${this.renderKeyMetric(\r\n-                  \"Monthly Consumption\",\r\n-                  `${this.billData.unitsConsumed} kWh`,\r\n-                  \"This is how much electricity you used last month\"\r\n-                )}\r\n-                \r\n-                ${this.renderKeyMetric(\r\n-                  \"Current Bill Amount\",\r\n-                  `Rs. ${this.billData.totalAmount}`,\r\n-                  \"Your total electricity charges including taxes\"\r\n-                )}\r\n-                \r\n-                ${this.renderKeyMetric(\r\n-                  \"Rate per Unit\",\r\n-                  `Rs. ${this.billData.ratePerUnit}/kWh`,\r\n-                  \"Your current electricity rate\"\r\n-                )}\r\n-              </div>\r\n-\r\n-              <!-- Analysis Summary -->\r\n-              <div class=\"mt-8 p-6 bg-white rounded-lg shadow-sm\">\r\n-                <h3 class=\"text-lg font-semibold text-gray-800 mb-3\">What This Means</h3>\r\n-                <p class=\"text-gray-600\">\r\n-                  Based on your consumption pattern, you could benefit from a solar installation.\r\n-                  Let's see how much you could save!\r\n-                </p>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <!-- Next Button -->\r\n-            <div class=\"mt-6\">\r\n-              <button \r\n-                id=\"proceed-to-quote\" \r\n-                class=\"w-full bg-primary text-white px-6 py-3 rounded-full font-medium hover:bg-primary-dark transition-colors duration-300\"\r\n-              >\r\n-                Generate My Solar Quote â†’\r\n-              </button>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    `;\r\n-\r\n-    this.attachEventListeners();\r\n-    this.renderBillPreview();\r\n-    this.initializeAnimations();\r\n-  }\r\n-\r\n-  renderKeyMetric(title, value, description) {\r\n-    return `\r\n-        <div class=\"metric-card opacity-0\">\r\n-          <div class=\"flex justify-between items-start\">\r\n-            <h3 class=\"text-gray-600 font-medium\">${title}</h3>\r\n-            <span class=\"text-xl font-bold text-gray-900\">${value}</span>\r\n-          </div>\r\n-          <p class=\"text-sm text-gray-500 mt-1\">${description}</p>\r\n-        </div>\r\n-      `;\r\n-  }\r\n-\r\n-  renderError(container) {\r\n-    container.innerHTML = `\r\n-      <div class=\"h-screen w-screen flex items-center justify-center bg-gray-50\">\r\n-        <div class=\"text-center\">\r\n-          <h2 class=\"text-2xl font-bold text-gray-800 mb-4\">No Bill Data Available</h2>\r\n-          <p class=\"text-gray-600 mb-6\">Please enter your reference number to get started.</p>\r\n-          <button \r\n-            class=\"px-6 py-3 bg-primary text-white rounded-full hover:bg-primary-dark transition-colors\"\r\n-            onclick=\"window.router.push('/')\">\r\n-            Go Back\r\n-          </button>\r\n-        </div>\r\n-      </div>\r\n-    `;\r\n-  }\r\n-\r\n-  renderBillPreview() {\r\n-    const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n-    const billPreview = new BillPreview(this.billData);\r\n-    billPreview.render(billPreviewContainer);\r\n-  }\r\n-\r\n-  attachEventListeners() {\r\n-    const proceedButton = document.getElementById(\"proceed-to-quote\");\r\n-    proceedButton.addEventListener(\"click\", () => {\r\n-      window.router.push(\"/quote\");\r\n-    });\r\n-  }\r\n-\r\n-  initializeAnimations() {\r\n-    // Fade in metrics one by one\r\n-    gsap.fromTo(\r\n-      \".metric-card\",\r\n-      { opacity: 0, y: 20 },\r\n-      {\r\n-        opacity: 1,\r\n-        y: 0,\r\n-        duration: 0.5,\r\n-        stagger: 0.2,\r\n-        ease: \"power2.out\",\r\n-      }\r\n-    );\r\n-\r\n-    // Animate the bill preview\r\n-    const billPreviewContainer = document.getElementById(\r\n-      \"bill-preview-container\"\r\n-    );\r\n-    gsap.fromTo(\r\n-      billPreviewContainer,\r\n-      { opacity: 0, scale: 0.95 },\r\n-      {\r\n-        opacity: 1,\r\n-        scale: 1,\r\n-        duration: 0.8,\r\n-        ease: \"power2.out\",\r\n-      }\r\n-    );\r\n-  }\r\n-\r\n-  addBaseStyles() {\r\n-    const style = document.createElement(\"style\");\r\n-    style.textContent = `\r\n-          :root {\r\n-            --color-primary: #00a651;\r\n-            --color-primary-dark: #008c44;\r\n-          }\r\n-          \r\n-          .bg-primary { background-color: var(--color-primary); }\r\n-          .hover\\\\:bg-primary-dark:hover { background-color: var(--color-primary-dark); }\r\n-        `;\r\n-    document.head.appendChild(style);\r\n-  }\r\n-}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731480519020,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,15 +121,32 @@\n     this.renderBillPreview();\r\n     this.startAnimation();\r\n   }\r\n \r\n-  renderKeyMetric(title, value, description) {\r\n+  renderKeyMetric(title, value, unit, description, icon) {\r\n+    const icons = {\r\n+      \"lightning-bolt\": `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />`,\r\n+      cash: `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />`,\r\n+      \"chart-bar\": `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />`,\r\n+      calendar: `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />`,\r\n+    };\r\n+\r\n     return `\r\n-      <div class=\"metric-card opacity-0\">\r\n-        <div class=\"flex justify-between items-start\">\r\n-          <h3 class=\"text-gray-600 font-medium\">${title}</h3>\r\n-          <span class=\"text-xl font-bold text-gray-900\">${value}</span>\r\n+      <div class=\"metric-card opacity-0 p-4 bg-white rounded-xl border border-gray-100 hover:shadow-md transition-shadow duration-300\">\r\n+        <div class=\"flex items-start justify-between mb-3\">\r\n+          <div class=\"flex items-center space-x-3\">\r\n+            <div class=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center\">\r\n+              <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                ${icons[icon]}\r\n+              </svg>\r\n+            </div>\r\n+            <h3 class=\"text-sm font-medium text-gray-600\">${title}</h3>\r\n+          </div>\r\n         </div>\r\n+        <div class=\"flex items-baseline space-x-1\">\r\n+          <span class=\"text-2xl font-bold text-gray-900\">${value}</span>\r\n+          <span class=\"text-sm font-medium text-gray-500\">${unit}</span>\r\n+        </div>\r\n         <p class=\"text-sm text-gray-500 mt-1\">${description}</p>\r\n       </div>\r\n     `;\r\n   }\r\n"
                },
                {
                    "date": 1731480575425,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -166,8 +166,10 @@\n     const metrics = document.querySelectorAll(\".metric-card\");\r\n     const nextStepCard = document.getElementById(\"next-step-card\");\r\n     const pageTitle = document.querySelector(\"h2\");\r\n \r\n+    \r\n+\r\n     // Initial states\r\n     gsap.set(\r\n       [\r\n         billPreviewContainer,\r\n@@ -223,24 +225,29 @@\n         },\r\n         \"-=0.3\"\r\n       )\r\n       // Fade in insights section\r\n-      .to(pageTitle, {\r\n+      .to(\"#page-header\", {\r\n         opacity: 1,\r\n         y: 0,\r\n-        duration: 0.5,\r\n+        duration: 0.5\r\n       })\r\n-      .to(metrics, {\r\n+      .to(\"#progress-bar\", {\r\n         opacity: 1,\r\n         y: 0,\r\n-        stagger: 0.2,\r\n-        duration: 0.5,\r\n-      })\r\n-      .to(nextStepCard, {\r\n+        duration: 0.5\r\n+      }, \"-=0.3\")\r\n+      .to(\".metric-card\", {\r\n         opacity: 1,\r\n         y: 0,\r\n-        duration: 0.5,\r\n-      });\r\n+        stagger: 0.15,\r\n+        duration: 0.5\r\n+      }, \"-=0.2\")\r\n+      .to(\"#next-step-card\", {\r\n+        opacity: 1,\r\n+        y: 0,\r\n+        duration: 0.5\r\n+      }, \"-=0.2\");\r\n   }\r\n \r\n   attachEventListeners() {\r\n     const proceedButton = document.getElementById(\"proceed-to-quote\");\r\n"
                },
                {
                    "date": 1731480803609,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,258 +1,256 @@\n-// src/js/components/BillReviewPage.js\r\n-import { gsap } from \"gsap\";\r\n-import { getBillData } from \"../store/solarSizingState.js\";\r\n-import { BillPreview } from \"./BillPreview.js\";\r\n+// Enhanced insights section in BillReviewPage class\r\n \r\n-export class BillReviewPage {\r\n-  constructor() {\r\n-    this.billData = getBillData();\r\n-  }\r\n-\r\n-  render() {\r\n-    const app = document.getElementById(\"app\");\r\n-\r\n-    if (!this.billData) {\r\n-      this.renderError(app);\r\n-      return;\r\n-    }\r\n-\r\n-    app.innerHTML = `\r\n-      <div class=\"h-screen w-screen bg-white transition-colors duration-1000 overflow-hidden\">\r\n-        <!-- Main Content -->\r\n-        <div class=\"h-full w-full flex relative\" id=\"main-content\">\r\n-          <!-- Bill Preview Side -->\r\n-          <div class=\"w-1/2 h-full\" id=\"bill-preview-container\">\r\n-            <div id=\"bill-preview\" class=\"h-full\"></div>\r\n+renderInsights() {\r\n+    const insightsContainer = document.querySelector(\"#insights-container\");\r\n+    if (!insightsContainer) return;\r\n+  \r\n+    // Generate trend data\r\n+    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];\r\n+    const trendData = months.map(month => ({\r\n+      month,\r\n+      consumption: Math.floor(this.billData.unitsConsumed * (0.8 + Math.random() * 0.4))\r\n+    }));\r\n+  \r\n+    insightsContainer.innerHTML = `\r\n+      <div class=\"flex-1\">\r\n+        <!-- Header -->\r\n+        <div class=\"flex items-center space-x-3 mb-8 opacity-0\" id=\"page-header\">\r\n+          <div class=\"w-1 h-8 bg-blue-600 rounded-full\"></div>\r\n+          <h2 class=\"text-2xl font-bold text-gray-800\">Bill Analysis</h2>\r\n+        </div>\r\n+        \r\n+        <!-- Progress Bar -->\r\n+        <div class=\"mb-8 flex items-center justify-between text-sm opacity-0 bg-white rounded-xl p-6 shadow-sm\" id=\"progress-container\">\r\n+          <div class=\"flex items-center\">\r\n+            <div class=\"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold\">1</div>\r\n+            <div class=\"ml-3\">\r\n+              <p class=\"font-medium text-gray-800\">Bill Review</p>\r\n+              <p class=\"text-gray-500\">Analyzing your consumption</p>\r\n+            </div>\r\n           </div>\r\n-\r\n-          <!-- Loading Indicator -->\r\n-          <div class=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center z-10\" \r\n-               id=\"loading-indicator\">\r\n-            <div class=\"w-10 h-10 border-4 border-primary border-l-transparent rounded-full animate-spin mb-2\"></div>\r\n-            <p class=\"text-primary font-medium\">Analyzing your bill...</p>\r\n+          <div class=\"flex items-center\">\r\n+            <div class=\"w-8 h-8 rounded-full bg-gray-200 text-gray-400 flex items-center justify-center font-semibold\">2</div>\r\n+            <div class=\"ml-3\">\r\n+              <p class=\"font-medium text-gray-400\">Solar Quote</p>\r\n+              <p class=\"text-gray-400\">Up next</p>\r\n+            </div>\r\n           </div>\r\n-\r\n-          <!-- Insights Side -->\r\n-          <div class=\"w-1/2 h-full bg-gradient-to-br from-gray-50 to-white p-8 flex flex-col\" id=\"insights-container\">\r\n-            <div class=\"flex-1\">\r\n-              <div class=\"flex items-center space-x-3 mb-8 opacity-0\" id=\"page-header\">\r\n-                <div class=\"w-1 h-8 bg-primary rounded-full\"></div>\r\n-                <h2 class=\"text-2xl font-bold text-gray-800\">Bill Analysis</h2>\r\n+        </div>\r\n+  \r\n+        <!-- Consumption Trend Chart -->\r\n+        <div class=\"mb-8 bg-white rounded-xl p-6 shadow-sm border border-gray-100 opacity-0\" id=\"trend-chart-container\">\r\n+          <div class=\"flex items-center justify-between mb-4\">\r\n+            <div class=\"flex items-center gap-3\">\r\n+              <div class=\"p-2 bg-blue-100 rounded-lg\">\r\n+                <svg class=\"w-5 h-5 text-blue-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+                  <path d=\"M23 6l-9.5 9.5-5-5L1 18\" />\r\n+                </svg>\r\n               </div>\r\n-              \r\n-              <!-- Progress Bar -->\r\n-              <div class=\"mb-8 flex items-center justify-between text-sm opacity-0\" id=\"progress-bar\">\r\n-                <div class=\"flex items-center\">\r\n-                  <div class=\"w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center font-semibold\">1</div>\r\n-                  <div class=\"ml-3\">\r\n-                    <p class=\"font-medium text-gray-800\">Bill Review</p>\r\n-                    <p class=\"text-gray-500\">Analyzing your consumption</p>\r\n-                  </div>\r\n-                </div>\r\n-                <div class=\"flex items-center\">\r\n-                  <div class=\"w-8 h-8 rounded-full bg-gray-200 text-gray-400 flex items-center justify-center font-semibold\">2</div>\r\n-                  <div class=\"ml-3\">\r\n-                    <p class=\"font-medium text-gray-400\">Solar Quote</p>\r\n-                    <p class=\"text-gray-400\">Up next</p>\r\n-                  </div>\r\n-                </div>\r\n+              <div>\r\n+                <h3 class=\"font-medium text-gray-900\">Consumption Trend</h3>\r\n+                <p class=\"text-sm text-gray-500\">Last 6 months analysis</p>\r\n               </div>\r\n-\r\n-              <!-- Key Metrics Grid -->\r\n-              <div class=\"grid grid-cols-2 gap-4 mb-8\">\r\n-                ${this.renderKeyMetric(\r\n-                  \"Monthly Consumption\",\r\n-                  `${this.billData.unitsConsumed}`,\r\n-                  \"kWh\",\r\n-                  \"This is how much electricity you used last month\",\r\n-                  \"lightning-bolt\"\r\n-                )}\r\n-                \r\n-                ${this.renderKeyMetric(\r\n-                  \"Current Bill\",\r\n-                  `${this.billData.totalAmount}`,\r\n-                  \"Rs.\",\r\n-                  \"Your total electricity charges including taxes\",\r\n-                  \"cash\"\r\n-                )}\r\n-                \r\n-                ${this.renderKeyMetric(\r\n-                  \"Rate per Unit\",\r\n-                  `${this.billData.ratePerUnit}`,\r\n-                  \"Rs/kWh\",\r\n-                  \"Your current electricity rate\",\r\n-                  \"chart-bar\"\r\n-                )}\r\n-                \r\n-                ${this.renderKeyMetric(\r\n-                  \"Bill Due Date\",\r\n-                  `${this.billData.dueDate}`,\r\n-                  \"\",\r\n-                  \"Make sure to pay before this date\",\r\n-                  \"calendar\"\r\n-                )}\r\n+            </div>\r\n+          </div>\r\n+          <div class=\"h-48\">\r\n+            <canvas id=\"consumption-trend-chart\"></canvas>\r\n+          </div>\r\n+        </div>\r\n+  \r\n+        <!-- Key Metrics Grid -->\r\n+        <div class=\"grid grid-cols-2 gap-4 mb-8\">\r\n+          <!-- Current Bill Card -->\r\n+          <div class=\"metric-card opacity-0 bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300\">\r\n+            <div class=\"flex items-center gap-3 mb-4\">\r\n+              <div class=\"p-2 bg-green-100 rounded-lg\">\r\n+                <svg class=\"w-5 h-5 text-green-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+                  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\r\n+                  <path d=\"M12 6v6l4 2\"/>\r\n+                </svg>\r\n               </div>\r\n-\r\n-              <!-- Next Step Card -->\r\n-              <div class=\"relative mt-auto p-6 bg-white rounded-2xl shadow-sm opacity-0 border border-gray-100\" id=\"next-step-card\">\r\n-                <div class=\"absolute -top-3 -right-3 w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center\">\r\n-                  <svg class=\"w-8 h-8 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n-                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 7l5 5m0 0l-5 5m5-5H6\"></path>\r\n-                  </svg>\r\n-                </div>\r\n-                <h3 class=\"text-lg font-semibold text-gray-800 mb-2\">Ready For Your Solar Quote?</h3>\r\n-                <p class=\"text-gray-600 mb-4\">\r\n-                  We've analyzed your bill. Now let's see how much you could save with solar!\r\n-                </p>\r\n-                <button \r\n-                  id=\"proceed-to-quote\" \r\n-                  class=\"w-full bg-gradient-to-r from-primary to-primary-dark text-white px-6 py-3.5 rounded-xl font-medium hover:from-primary-dark hover:to-primary-dark transition-all duration-300 shadow-sm hover:shadow-md\"\r\n-                >\r\n-                  Generate My Solar Quote\r\n-                </button>\r\n+              <div>\r\n+                <p class=\"text-sm text-gray-600\">Current Bill</p>\r\n+                <p class=\"text-2xl font-bold text-gray-900\">${this.formatCurrency(this.billData.totalAmount)}</p>\r\n               </div>\r\n             </div>\r\n+            <div class=\"flex items-center gap-2 text-sm\">\r\n+              <div class=\"px-3 py-1 bg-green-100 text-green-700 rounded-full\">\r\n+                Due in ${this.calculateDueDays()} days\r\n+              </div>\r\n+            </div>\r\n           </div>\r\n-        </div>\r\n-      </div>\r\n-    `;\r\n-\r\n-    this.attachEventListeners();\r\n-    this.renderBillPreview();\r\n-    this.startAnimation();\r\n-  }\r\n-\r\n-  renderKeyMetric(title, value, unit, description, icon) {\r\n-    const icons = {\r\n-      \"lightning-bolt\": `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />`,\r\n-      cash: `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />`,\r\n-      \"chart-bar\": `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />`,\r\n-      calendar: `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />`,\r\n-    };\r\n-\r\n-    return `\r\n-      <div class=\"metric-card opacity-0 p-4 bg-white rounded-xl border border-gray-100 hover:shadow-md transition-shadow duration-300\">\r\n-        <div class=\"flex items-start justify-between mb-3\">\r\n-          <div class=\"flex items-center space-x-3\">\r\n-            <div class=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center\">\r\n-              <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n-                ${icons[icon]}\r\n-              </svg>\r\n+  \r\n+          <!-- Units Consumed Card -->\r\n+          <div class=\"metric-card opacity-0 bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300\">\r\n+            <div class=\"flex items-center gap-3 mb-4\">\r\n+              <div class=\"p-2 bg-yellow-100 rounded-lg\">\r\n+                <svg class=\"w-5 h-5 text-yellow-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+                  <path d=\"M13 2L3 14h9l-1 8 10-12h-9l1-8z\"/>\r\n+                </svg>\r\n+              </div>\r\n+              <div>\r\n+                <p class=\"text-sm text-gray-600\">Units Consumed</p>\r\n+                <p class=\"text-2xl font-bold text-gray-900\">${this.billData.unitsConsumed} kWh</p>\r\n+              </div>\r\n             </div>\r\n-            <h3 class=\"text-sm font-medium text-gray-600\">${title}</h3>\r\n+            <div class=\"flex items-center gap-2 text-sm\">\r\n+              <span class=\"text-gray-600\">Rate:</span>\r\n+              <span class=\"font-medium text-gray-900\">${this.formatCurrency(this.billData.ratePerUnit)}/kWh</span>\r\n+            </div>\r\n           </div>\r\n         </div>\r\n-        <div class=\"flex items-baseline space-x-1\">\r\n-          <span class=\"text-2xl font-bold text-gray-900\">${value}</span>\r\n-          <span class=\"text-sm font-medium text-gray-500\">${unit}</span>\r\n+  \r\n+        <!-- Next Step Card -->\r\n+        <div class=\"relative mt-auto p-6 bg-gradient-to-br from-blue-50 to-white rounded-2xl shadow-sm opacity-0 border border-blue-100\" id=\"next-step-card\">\r\n+          <div class=\"absolute -top-3 -right-3 w-16 h-16 bg-blue-500 bg-opacity-10 rounded-full flex items-center justify-center\">\r\n+            <svg class=\"w-8 h-8 text-blue-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+              <circle cx=\"12\" cy=\"12\" r=\"5\"/>\r\n+              <path d=\"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42\"/>\r\n+            </svg>\r\n+          </div>\r\n+          <h3 class=\"text-lg font-semibold text-gray-800 mb-2\">Ready For Your Solar Quote?</h3>\r\n+          <p class=\"text-gray-600 mb-4\">\r\n+            We've analyzed your bill. Now let's see how much you could save with solar!\r\n+          </p>\r\n+          <button \r\n+            id=\"proceed-to-quote\" \r\n+            class=\"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3.5 rounded-xl font-medium \r\n+                   hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-sm hover:shadow-md\r\n+                   flex items-center justify-center gap-2\"\r\n+          >\r\n+            Generate My Solar Quote\r\n+            <svg class=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n+              <path d=\"M5 12h14M12 5l7 7-7 7\"/>\r\n+            </svg>\r\n+          </button>\r\n         </div>\r\n-        <p class=\"text-sm text-gray-500 mt-1\">${description}</p>\r\n       </div>\r\n     `;\r\n+  \r\n+    // Initialize consumption trend chart\r\n+    this.initConsumptionTrendChart(trendData);\r\n+    \r\n+    // Start animations\r\n+    this.startInsightAnimations();\r\n   }\r\n-\r\n-  renderBillPreview() {\r\n-    const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n-    const billPreview = new BillPreview(this.billData);\r\n-    billPreview.render(billPreviewContainer);\r\n-  }\r\n-\r\n-  async startAnimation() {\r\n-    const billPreviewContainer = document.getElementById(\r\n-      \"bill-preview-container\"\r\n-    );\r\n-    const loadingIndicator = document.getElementById(\"loading-indicator\");\r\n-    const insightsContainer = document.getElementById(\"insights-container\");\r\n-    const metrics = document.querySelectorAll(\".metric-card\");\r\n-    const nextStepCard = document.getElementById(\"next-step-card\");\r\n-    const pageTitle = document.querySelector(\"h2\");\r\n-\r\n-    \r\n-\r\n-    // Initial states\r\n-    gsap.set(\r\n-      [\r\n-        billPreviewContainer,\r\n-        loadingIndicator,\r\n-        metrics,\r\n-        nextStepCard,\r\n-        pageTitle,\r\n-      ],\r\n-      {\r\n-        opacity: 0,\r\n+  \r\n+  initConsumptionTrendChart(trendData) {\r\n+    const ctx = document.getElementById('consumption-trend-chart');\r\n+    if (!ctx) return;\r\n+  \r\n+    const chart = new Chart(ctx, {\r\n+      type: 'line',\r\n+      data: {\r\n+        labels: trendData.map(d => d.month),\r\n+        datasets: [{\r\n+          label: 'Consumption (kWh)',\r\n+          data: trendData.map(d => d.consumption),\r\n+          borderColor: '#2563eb',\r\n+          backgroundColor: 'rgba(37, 99, 235, 0.1)',\r\n+          tension: 0.4,\r\n+          fill: true,\r\n+          pointRadius: 4,\r\n+          pointHoverRadius: 6\r\n+        }]\r\n+      },\r\n+      options: {\r\n+        responsive: true,\r\n+        maintainAspectRatio: false,\r\n+        plugins: {\r\n+          legend: {\r\n+            display: false\r\n+          },\r\n+          tooltip: {\r\n+            mode: 'index',\r\n+            intersect: false,\r\n+            backgroundColor: 'white',\r\n+            titleColor: '#111827',\r\n+            bodyColor: '#4b5563',\r\n+            borderColor: '#e5e7eb',\r\n+            borderWidth: 1,\r\n+            padding: 8,\r\n+            bodyFont: {\r\n+              size: 13\r\n+            },\r\n+            callbacks: {\r\n+              label: (context) => `${context.parsed.y} kWh`\r\n+            }\r\n+          }\r\n+        },\r\n+        scales: {\r\n+          x: {\r\n+            grid: {\r\n+              display: false\r\n+            }\r\n+          },\r\n+          y: {\r\n+            beginAtZero: true,\r\n+            grid: {\r\n+              color: 'rgba(0, 0, 0, 0.05)'\r\n+            },\r\n+            ticks: {\r\n+              callback: (value) => `${value} kWh`\r\n+            }\r\n+          }\r\n+        }\r\n       }\r\n-    );\r\n-    gsap.set(billPreviewContainer, {\r\n-      scale: 0.9,\r\n-      position: \"absolute\",\r\n-      left: \"50%\",\r\n-      top: \"50%\",\r\n-      xPercent: -50,\r\n-      yPercent: -50,\r\n-      width: \"47.5%\",\r\n     });\r\n-\r\n-    // Animation sequence\r\n-    const tl = gsap.timeline({\r\n-      defaults: { duration: 0.8, ease: \"power2.out\" },\r\n-    });\r\n-\r\n-    await tl\r\n-      .to(billPreviewContainer, {\r\n-        opacity: 1,\r\n-        scale: 1,\r\n-        duration: 1,\r\n-      })\r\n-      .to(loadingIndicator, {\r\n-        opacity: 1,\r\n-        scale: 1,\r\n-        duration: 0.5,\r\n-      })\r\n-      .to(loadingIndicator, {\r\n-        opacity: 0,\r\n-        scale: 0.5,\r\n-        delay: 1,\r\n-      })\r\n-      .to(\r\n-        billPreviewContainer,\r\n-        {\r\n-          left: \"0%\",\r\n-          top: \"0%\",\r\n-          xPercent: 0,\r\n-          yPercent: 0,\r\n-          width: \"50%\",\r\n-          position: \"relative\",\r\n-        },\r\n-        \"-=0.3\"\r\n-      )\r\n-      // Fade in insights section\r\n-      .to(\"#page-header\", {\r\n-        opacity: 1,\r\n-        y: 0,\r\n-        duration: 0.5\r\n-      })\r\n-      .to(\"#progress-bar\", {\r\n-        opacity: 1,\r\n-        y: 0,\r\n-        duration: 0.5\r\n-      }, \"-=0.3\")\r\n-      .to(\".metric-card\", {\r\n-        opacity: 1,\r\n-        y: 0,\r\n-        stagger: 0.15,\r\n-        duration: 0.5\r\n-      }, \"-=0.2\")\r\n-      .to(\"#next-step-card\", {\r\n-        opacity: 1,\r\n-        y: 0,\r\n-        duration: 0.5\r\n-      }, \"-=0.2\");\r\n   }\r\n-\r\n-  attachEventListeners() {\r\n-    const proceedButton = document.getElementById(\"proceed-to-quote\");\r\n-    proceedButton.addEventListener(\"click\", () => {\r\n-      window.router.push(\"/quote\");\r\n+  \r\n+  startInsightAnimations() {\r\n+    // Animate header and progress\r\n+    gsap.to(\"#page-header\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.5,\r\n+      ease: \"power2.out\"\r\n     });\r\n+  \r\n+    gsap.to(\"#progress-container\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.5,\r\n+      delay: 0.2\r\n+    });\r\n+  \r\n+    // Animate trend chart\r\n+    gsap.to(\"#trend-chart-container\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.5,\r\n+      delay: 0.4\r\n+    });\r\n+  \r\n+    // Animate metric cards\r\n+    gsap.to(\".metric-card\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.5,\r\n+      stagger: 0.15,\r\n+      delay: 0.6\r\n+    });\r\n+  \r\n+    // Animate next step card\r\n+    gsap.to(\"#next-step-card\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.5,\r\n+      delay: 0.8\r\n+    });\r\n   }\r\n-}\r\n+  \r\n+  formatCurrency(value) {\r\n+    return new Intl.NumberFormat('en-PK', {\r\n+      style: 'currency',\r\n+      currency: 'PKR',\r\n+      minimumFractionDigits: 0,\r\n+      maximumFractionDigits: 0\r\n+    }).format(value);\r\n+  }\r\n+  \r\n+  calculateDueDays() {\r\n+    const dueDate = new Date(this.billData.dueDate);\r\n+    const today = new Date();\r\n+    const diffTime = Math.abs(dueDate - today);\r\n+    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n+  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731480830027,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,256 +1,258 @@\n-// Enhanced insights section in BillReviewPage class\r\n+// src/js/components/BillReviewPage.js\r\n+import { gsap } from \"gsap\";\r\n+import { getBillData } from \"../store/solarSizingState.js\";\r\n+import { BillPreview } from \"./BillPreview.js\";\r\n \r\n-renderInsights() {\r\n-    const insightsContainer = document.querySelector(\"#insights-container\");\r\n-    if (!insightsContainer) return;\r\n-  \r\n-    // Generate trend data\r\n-    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];\r\n-    const trendData = months.map(month => ({\r\n-      month,\r\n-      consumption: Math.floor(this.billData.unitsConsumed * (0.8 + Math.random() * 0.4))\r\n-    }));\r\n-  \r\n-    insightsContainer.innerHTML = `\r\n-      <div class=\"flex-1\">\r\n-        <!-- Header -->\r\n-        <div class=\"flex items-center space-x-3 mb-8 opacity-0\" id=\"page-header\">\r\n-          <div class=\"w-1 h-8 bg-blue-600 rounded-full\"></div>\r\n-          <h2 class=\"text-2xl font-bold text-gray-800\">Bill Analysis</h2>\r\n-        </div>\r\n-        \r\n-        <!-- Progress Bar -->\r\n-        <div class=\"mb-8 flex items-center justify-between text-sm opacity-0 bg-white rounded-xl p-6 shadow-sm\" id=\"progress-container\">\r\n-          <div class=\"flex items-center\">\r\n-            <div class=\"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold\">1</div>\r\n-            <div class=\"ml-3\">\r\n-              <p class=\"font-medium text-gray-800\">Bill Review</p>\r\n-              <p class=\"text-gray-500\">Analyzing your consumption</p>\r\n-            </div>\r\n+export class BillReviewPage {\r\n+  constructor() {\r\n+    this.billData = getBillData();\r\n+  }\r\n+\r\n+  render() {\r\n+    const app = document.getElementById(\"app\");\r\n+\r\n+    if (!this.billData) {\r\n+      this.renderError(app);\r\n+      return;\r\n+    }\r\n+\r\n+    app.innerHTML = `\r\n+      <div class=\"h-screen w-screen bg-white transition-colors duration-1000 overflow-hidden\">\r\n+        <!-- Main Content -->\r\n+        <div class=\"h-full w-full flex relative\" id=\"main-content\">\r\n+          <!-- Bill Preview Side -->\r\n+          <div class=\"w-1/2 h-full\" id=\"bill-preview-container\">\r\n+            <div id=\"bill-preview\" class=\"h-full\"></div>\r\n           </div>\r\n-          <div class=\"flex items-center\">\r\n-            <div class=\"w-8 h-8 rounded-full bg-gray-200 text-gray-400 flex items-center justify-center font-semibold\">2</div>\r\n-            <div class=\"ml-3\">\r\n-              <p class=\"font-medium text-gray-400\">Solar Quote</p>\r\n-              <p class=\"text-gray-400\">Up next</p>\r\n-            </div>\r\n+\r\n+          <!-- Loading Indicator -->\r\n+          <div class=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center z-10\" \r\n+               id=\"loading-indicator\">\r\n+            <div class=\"w-10 h-10 border-4 border-primary border-l-transparent rounded-full animate-spin mb-2\"></div>\r\n+            <p class=\"text-primary font-medium\">Analyzing your bill...</p>\r\n           </div>\r\n-        </div>\r\n-  \r\n-        <!-- Consumption Trend Chart -->\r\n-        <div class=\"mb-8 bg-white rounded-xl p-6 shadow-sm border border-gray-100 opacity-0\" id=\"trend-chart-container\">\r\n-          <div class=\"flex items-center justify-between mb-4\">\r\n-            <div class=\"flex items-center gap-3\">\r\n-              <div class=\"p-2 bg-blue-100 rounded-lg\">\r\n-                <svg class=\"w-5 h-5 text-blue-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-                  <path d=\"M23 6l-9.5 9.5-5-5L1 18\" />\r\n-                </svg>\r\n+\r\n+          <!-- Insights Side -->\r\n+          <div class=\"w-1/2 h-full bg-gradient-to-br from-gray-50 to-white p-8 flex flex-col\" id=\"insights-container\">\r\n+            <div class=\"flex-1\">\r\n+              <div class=\"flex items-center space-x-3 mb-8 opacity-0\" id=\"page-header\">\r\n+                <div class=\"w-1 h-8 bg-primary rounded-full\"></div>\r\n+                <h2 class=\"text-2xl font-bold text-gray-800\">Bill Analysis</h2>\r\n               </div>\r\n-              <div>\r\n-                <h3 class=\"font-medium text-gray-900\">Consumption Trend</h3>\r\n-                <p class=\"text-sm text-gray-500\">Last 6 months analysis</p>\r\n+              \r\n+              <!-- Progress Bar -->\r\n+              <div class=\"mb-8 flex items-center justify-between text-sm opacity-0\" id=\"progress-bar\">\r\n+                <div class=\"flex items-center\">\r\n+                  <div class=\"w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center font-semibold\">1</div>\r\n+                  <div class=\"ml-3\">\r\n+                    <p class=\"font-medium text-gray-800\">Bill Review</p>\r\n+                    <p class=\"text-gray-500\">Analyzing your consumption</p>\r\n+                  </div>\r\n+                </div>\r\n+                <div class=\"flex items-center\">\r\n+                  <div class=\"w-8 h-8 rounded-full bg-gray-200 text-gray-400 flex items-center justify-center font-semibold\">2</div>\r\n+                  <div class=\"ml-3\">\r\n+                    <p class=\"font-medium text-gray-400\">Solar Quote</p>\r\n+                    <p class=\"text-gray-400\">Up next</p>\r\n+                  </div>\r\n+                </div>\r\n               </div>\r\n-            </div>\r\n-          </div>\r\n-          <div class=\"h-48\">\r\n-            <canvas id=\"consumption-trend-chart\"></canvas>\r\n-          </div>\r\n-        </div>\r\n-  \r\n-        <!-- Key Metrics Grid -->\r\n-        <div class=\"grid grid-cols-2 gap-4 mb-8\">\r\n-          <!-- Current Bill Card -->\r\n-          <div class=\"metric-card opacity-0 bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300\">\r\n-            <div class=\"flex items-center gap-3 mb-4\">\r\n-              <div class=\"p-2 bg-green-100 rounded-lg\">\r\n-                <svg class=\"w-5 h-5 text-green-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-                  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\r\n-                  <path d=\"M12 6v6l4 2\"/>\r\n-                </svg>\r\n+\r\n+              <!-- Key Metrics Grid -->\r\n+              <div class=\"grid grid-cols-2 gap-4 mb-8\">\r\n+                ${this.renderKeyMetric(\r\n+                  \"Monthly Consumption\",\r\n+                  `${this.billData.unitsConsumed}`,\r\n+                  \"kWh\",\r\n+                  \"This is how much electricity you used last month\",\r\n+                  \"lightning-bolt\"\r\n+                )}\r\n+                \r\n+                ${this.renderKeyMetric(\r\n+                  \"Current Bill\",\r\n+                  `${this.billData.totalAmount}`,\r\n+                  \"Rs.\",\r\n+                  \"Your total electricity charges including taxes\",\r\n+                  \"cash\"\r\n+                )}\r\n+                \r\n+                ${this.renderKeyMetric(\r\n+                  \"Rate per Unit\",\r\n+                  `${this.billData.ratePerUnit}`,\r\n+                  \"Rs/kWh\",\r\n+                  \"Your current electricity rate\",\r\n+                  \"chart-bar\"\r\n+                )}\r\n+                \r\n+                ${this.renderKeyMetric(\r\n+                  \"Bill Due Date\",\r\n+                  `${this.billData.dueDate}`,\r\n+                  \"\",\r\n+                  \"Make sure to pay before this date\",\r\n+                  \"calendar\"\r\n+                )}\r\n               </div>\r\n-              <div>\r\n-                <p class=\"text-sm text-gray-600\">Current Bill</p>\r\n-                <p class=\"text-2xl font-bold text-gray-900\">${this.formatCurrency(this.billData.totalAmount)}</p>\r\n+\r\n+              <!-- Next Step Card -->\r\n+              <div class=\"relative mt-auto p-6 bg-white rounded-2xl shadow-sm opacity-0 border border-gray-100\" id=\"next-step-card\">\r\n+                <div class=\"absolute -top-3 -right-3 w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center\">\r\n+                  <svg class=\"w-8 h-8 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 7l5 5m0 0l-5 5m5-5H6\"></path>\r\n+                  </svg>\r\n+                </div>\r\n+                <h3 class=\"text-lg font-semibold text-gray-800 mb-2\">Ready For Your Solar Quote?</h3>\r\n+                <p class=\"text-gray-600 mb-4\">\r\n+                  We've analyzed your bill. Now let's see how much you could save with solar!\r\n+                </p>\r\n+                <button \r\n+                  id=\"proceed-to-quote\" \r\n+                  class=\"w-full bg-gradient-to-r from-primary to-primary-dark text-white px-6 py-3.5 rounded-xl font-medium hover:from-primary-dark hover:to-primary-dark transition-all duration-300 shadow-sm hover:shadow-md\"\r\n+                >\r\n+                  Generate My Solar Quote\r\n+                </button>\r\n               </div>\r\n             </div>\r\n-            <div class=\"flex items-center gap-2 text-sm\">\r\n-              <div class=\"px-3 py-1 bg-green-100 text-green-700 rounded-full\">\r\n-                Due in ${this.calculateDueDays()} days\r\n-              </div>\r\n-            </div>\r\n           </div>\r\n-  \r\n-          <!-- Units Consumed Card -->\r\n-          <div class=\"metric-card opacity-0 bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300\">\r\n-            <div class=\"flex items-center gap-3 mb-4\">\r\n-              <div class=\"p-2 bg-yellow-100 rounded-lg\">\r\n-                <svg class=\"w-5 h-5 text-yellow-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-                  <path d=\"M13 2L3 14h9l-1 8 10-12h-9l1-8z\"/>\r\n-                </svg>\r\n-              </div>\r\n-              <div>\r\n-                <p class=\"text-sm text-gray-600\">Units Consumed</p>\r\n-                <p class=\"text-2xl font-bold text-gray-900\">${this.billData.unitsConsumed} kWh</p>\r\n-              </div>\r\n+        </div>\r\n+      </div>\r\n+    `;\r\n+\r\n+    this.attachEventListeners();\r\n+    this.renderBillPreview();\r\n+    this.startAnimation();\r\n+  }\r\n+\r\n+  renderKeyMetric(title, value, unit, description, icon) {\r\n+    const icons = {\r\n+      \"lightning-bolt\": `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />`,\r\n+      cash: `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />`,\r\n+      \"chart-bar\": `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />`,\r\n+      calendar: `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />`,\r\n+    };\r\n+\r\n+    return `\r\n+      <div class=\"metric-card opacity-0 p-4 bg-white rounded-xl border border-gray-100 hover:shadow-md transition-shadow duration-300\">\r\n+        <div class=\"flex items-start justify-between mb-3\">\r\n+          <div class=\"flex items-center space-x-3\">\r\n+            <div class=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center\">\r\n+              <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                ${icons[icon]}\r\n+              </svg>\r\n             </div>\r\n-            <div class=\"flex items-center gap-2 text-sm\">\r\n-              <span class=\"text-gray-600\">Rate:</span>\r\n-              <span class=\"font-medium text-gray-900\">${this.formatCurrency(this.billData.ratePerUnit)}/kWh</span>\r\n-            </div>\r\n+            <h3 class=\"text-sm font-medium text-gray-600\">${title}</h3>\r\n           </div>\r\n         </div>\r\n-  \r\n-        <!-- Next Step Card -->\r\n-        <div class=\"relative mt-auto p-6 bg-gradient-to-br from-blue-50 to-white rounded-2xl shadow-sm opacity-0 border border-blue-100\" id=\"next-step-card\">\r\n-          <div class=\"absolute -top-3 -right-3 w-16 h-16 bg-blue-500 bg-opacity-10 rounded-full flex items-center justify-center\">\r\n-            <svg class=\"w-8 h-8 text-blue-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-              <circle cx=\"12\" cy=\"12\" r=\"5\"/>\r\n-              <path d=\"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42\"/>\r\n-            </svg>\r\n-          </div>\r\n-          <h3 class=\"text-lg font-semibold text-gray-800 mb-2\">Ready For Your Solar Quote?</h3>\r\n-          <p class=\"text-gray-600 mb-4\">\r\n-            We've analyzed your bill. Now let's see how much you could save with solar!\r\n-          </p>\r\n-          <button \r\n-            id=\"proceed-to-quote\" \r\n-            class=\"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3.5 rounded-xl font-medium \r\n-                   hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-sm hover:shadow-md\r\n-                   flex items-center justify-center gap-2\"\r\n-          >\r\n-            Generate My Solar Quote\r\n-            <svg class=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n-              <path d=\"M5 12h14M12 5l7 7-7 7\"/>\r\n-            </svg>\r\n\\ No newline at end of file\n-          </button>\r\n+        <div class=\"flex items-baseline space-x-1\">\r\n+          <span class=\"text-2xl font-bold text-gray-900\">${value}</span>\r\n+          <span class=\"text-sm font-medium text-gray-500\">${unit}</span>\r\n         </div>\r\n+        <p class=\"text-sm text-gray-500 mt-1\">${description}</p>\r\n       </div>\r\n     `;\r\n-  \r\n-    // Initialize consumption trend chart\r\n-    this.initConsumptionTrendChart(trendData);\r\n+  }\r\n+\r\n+  renderBillPreview() {\r\n+    const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n+    const billPreview = new BillPreview(this.billData);\r\n+    billPreview.render(billPreviewContainer);\r\n+  }\r\n+\r\n+  async startAnimation() {\r\n+    const billPreviewContainer = document.getElementById(\r\n+      \"bill-preview-container\"\r\n+    );\r\n+    const loadingIndicator = document.getElementById(\"loading-indicator\");\r\n+    const insightsContainer = document.getElementById(\"insights-container\");\r\n+    const metrics = document.querySelectorAll(\".metric-card\");\r\n+    const nextStepCard = document.getElementById(\"next-step-card\");\r\n+    const pageTitle = document.querySelector(\"h2\");\r\n+\r\n     \r\n-    // Start animations\r\n-    this.startInsightAnimations();\r\n-  }\r\n-  \r\n-  initConsumptionTrendChart(trendData) {\r\n-    const ctx = document.getElementById('consumption-trend-chart');\r\n-    if (!ctx) return;\r\n-  \r\n-    const chart = new Chart(ctx, {\r\n-      type: 'line',\r\n-      data: {\r\n-        labels: trendData.map(d => d.month),\r\n-        datasets: [{\r\n-          label: 'Consumption (kWh)',\r\n-          data: trendData.map(d => d.consumption),\r\n-          borderColor: '#2563eb',\r\n-          backgroundColor: 'rgba(37, 99, 235, 0.1)',\r\n-          tension: 0.4,\r\n-          fill: true,\r\n-          pointRadius: 4,\r\n-          pointHoverRadius: 6\r\n-        }]\r\n-      },\r\n-      options: {\r\n-        responsive: true,\r\n-        maintainAspectRatio: false,\r\n-        plugins: {\r\n-          legend: {\r\n-            display: false\r\n-          },\r\n-          tooltip: {\r\n-            mode: 'index',\r\n-            intersect: false,\r\n-            backgroundColor: 'white',\r\n-            titleColor: '#111827',\r\n-            bodyColor: '#4b5563',\r\n-            borderColor: '#e5e7eb',\r\n-            borderWidth: 1,\r\n-            padding: 8,\r\n-            bodyFont: {\r\n-              size: 13\r\n-            },\r\n-            callbacks: {\r\n-              label: (context) => `${context.parsed.y} kWh`\r\n-            }\r\n-          }\r\n-        },\r\n-        scales: {\r\n-          x: {\r\n-            grid: {\r\n-              display: false\r\n-            }\r\n-          },\r\n-          y: {\r\n-            beginAtZero: true,\r\n-            grid: {\r\n-              color: 'rgba(0, 0, 0, 0.05)'\r\n-            },\r\n-            ticks: {\r\n-              callback: (value) => `${value} kWh`\r\n-            }\r\n-          }\r\n-        }\r\n+\r\n+    // Initial states\r\n+    gsap.set(\r\n+      [\r\n+        billPreviewContainer,\r\n+        loadingIndicator,\r\n+        metrics,\r\n+        nextStepCard,\r\n+        pageTitle,\r\n+      ],\r\n+      {\r\n+        opacity: 0,\r\n       }\r\n+    );\r\n+    gsap.set(billPreviewContainer, {\r\n+      scale: 0.9,\r\n+      position: \"absolute\",\r\n+      left: \"50%\",\r\n+      top: \"50%\",\r\n+      xPercent: -50,\r\n+      yPercent: -50,\r\n+      width: \"47.5%\",\r\n     });\r\n+\r\n+    // Animation sequence\r\n+    const tl = gsap.timeline({\r\n+      defaults: { duration: 0.8, ease: \"power2.out\" },\r\n+    });\r\n+\r\n+    await tl\r\n+      .to(billPreviewContainer, {\r\n+        opacity: 1,\r\n+        scale: 1,\r\n+        duration: 1,\r\n+      })\r\n+      .to(loadingIndicator, {\r\n+        opacity: 1,\r\n+        scale: 1,\r\n+        duration: 0.5,\r\n+      })\r\n+      .to(loadingIndicator, {\r\n+        opacity: 0,\r\n+        scale: 0.5,\r\n+        delay: 1,\r\n+      })\r\n+      .to(\r\n+        billPreviewContainer,\r\n+        {\r\n+          left: \"0%\",\r\n+          top: \"0%\",\r\n+          xPercent: 0,\r\n+          yPercent: 0,\r\n+          width: \"50%\",\r\n+          position: \"relative\",\r\n+        },\r\n+        \"-=0.3\"\r\n+      )\r\n+      // Fade in insights section\r\n+      .to(\"#page-header\", {\r\n+        opacity: 1,\r\n+        y: 0,\r\n+        duration: 0.5\r\n+      })\r\n+      .to(\"#progress-bar\", {\r\n+        opacity: 1,\r\n+        y: 0,\r\n+        duration: 0.5\r\n+      }, \"-=0.3\")\r\n+      .to(\".metric-card\", {\r\n+        opacity: 1,\r\n+        y: 0,\r\n+        stagger: 0.15,\r\n+        duration: 0.5\r\n+      }, \"-=0.2\")\r\n+      .to(\"#next-step-card\", {\r\n+        opacity: 1,\r\n+        y: 0,\r\n+        duration: 0.5\r\n+      }, \"-=0.2\");\r\n   }\r\n-  \r\n-  startInsightAnimations() {\r\n-    // Animate header and progress\r\n-    gsap.to(\"#page-header\", {\r\n-      opacity: 1,\r\n-      y: 0,\r\n-      duration: 0.5,\r\n-      ease: \"power2.out\"\r\n+\r\n+  attachEventListeners() {\r\n+    const proceedButton = document.getElementById(\"proceed-to-quote\");\r\n+    proceedButton.addEventListener(\"click\", () => {\r\n+      window.router.push(\"/quote\");\r\n     });\r\n-  \r\n-    gsap.to(\"#progress-container\", {\r\n-      opacity: 1,\r\n-      y: 0,\r\n-      duration: 0.5,\r\n-      delay: 0.2\r\n-    });\r\n-  \r\n-    // Animate trend chart\r\n-    gsap.to(\"#trend-chart-container\", {\r\n-      opacity: 1,\r\n-      y: 0,\r\n-      duration: 0.5,\r\n-      delay: 0.4\r\n-    });\r\n-  \r\n-    // Animate metric cards\r\n-    gsap.to(\".metric-card\", {\r\n-      opacity: 1,\r\n-      y: 0,\r\n-      duration: 0.5,\r\n-      stagger: 0.15,\r\n-      delay: 0.6\r\n-    });\r\n-  \r\n-    // Animate next step card\r\n-    gsap.to(\"#next-step-card\", {\r\n-      opacity: 1,\r\n-      y: 0,\r\n-      duration: 0.5,\r\n-      delay: 0.8\r\n-    });\r\n   }\r\n-  \r\n-  formatCurrency(value) {\r\n-    return new Intl.NumberFormat('en-PK', {\r\n-      style: 'currency',\r\n-      currency: 'PKR',\r\n-      minimumFractionDigits: 0,\r\n-      maximumFractionDigits: 0\r\n-    }).format(value);\r\n-  }\r\n-  \r\n-  calculateDueDays() {\r\n-    const dueDate = new Date(this.billData.dueDate);\r\n-    const today = new Date();\r\n-    const diffTime = Math.abs(dueDate - today);\r\n-    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n-  }\n+}\r\n"
                },
                {
                    "date": 1731481087484,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,14 @@\n-// src/js/components/BillReviewPage.js\r\n+// BillReviewPage.js\r\n import { gsap } from \"gsap\";\r\n import { getBillData } from \"../store/solarSizingState.js\";\r\n import { BillPreview } from \"./BillPreview.js\";\r\n+import Chart from \"chart.js/auto\";\r\n \r\n export class BillReviewPage {\r\n   constructor() {\r\n     this.billData = getBillData();\r\n+    this.charts = {};\r\n   }\r\n \r\n   render() {\r\n     const app = document.getElementById(\"app\");\r\n@@ -16,9 +18,9 @@\n       return;\r\n     }\r\n \r\n     app.innerHTML = `\r\n-      <div class=\"h-screen w-screen bg-white transition-colors duration-1000 overflow-hidden\">\r\n+      <div class=\"h-screen w-screen bg-slate-50 transition-colors duration-1000 overflow-hidden\">\r\n         <!-- Main Content -->\r\n         <div class=\"h-full w-full flex relative\" id=\"main-content\">\r\n           <!-- Bill Preview Side -->\r\n           <div class=\"w-1/2 h-full\" id=\"bill-preview-container\">\r\n@@ -27,232 +29,172 @@\n \r\n           <!-- Loading Indicator -->\r\n           <div class=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center z-10\" \r\n                id=\"loading-indicator\">\r\n-            <div class=\"w-10 h-10 border-4 border-primary border-l-transparent rounded-full animate-spin mb-2\"></div>\r\n-            <p class=\"text-primary font-medium\">Analyzing your bill...</p>\r\n+            <div class=\"loading-spinner\"></div>\r\n+            <p class=\"text-primary font-medium mt-4\">Analyzing your bill...</p>\r\n           </div>\r\n \r\n           <!-- Insights Side -->\r\n-          <div class=\"w-1/2 h-full bg-gradient-to-br from-gray-50 to-white p-8 flex flex-col\" id=\"insights-container\">\r\n-            <div class=\"flex-1\">\r\n-              <div class=\"flex items-center space-x-3 mb-8 opacity-0\" id=\"page-header\">\r\n-                <div class=\"w-1 h-8 bg-primary rounded-full\"></div>\r\n-                <h2 class=\"text-2xl font-bold text-gray-800\">Bill Analysis</h2>\r\n-              </div>\r\n-              \r\n-              <!-- Progress Bar -->\r\n-              <div class=\"mb-8 flex items-center justify-between text-sm opacity-0\" id=\"progress-bar\">\r\n-                <div class=\"flex items-center\">\r\n-                  <div class=\"w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center font-semibold\">1</div>\r\n-                  <div class=\"ml-3\">\r\n-                    <p class=\"font-medium text-gray-800\">Bill Review</p>\r\n-                    <p class=\"text-gray-500\">Analyzing your consumption</p>\r\n-                  </div>\r\n-                </div>\r\n-                <div class=\"flex items-center\">\r\n-                  <div class=\"w-8 h-8 rounded-full bg-gray-200 text-gray-400 flex items-center justify-center font-semibold\">2</div>\r\n-                  <div class=\"ml-3\">\r\n-                    <p class=\"font-medium text-gray-400\">Solar Quote</p>\r\n-                    <p class=\"text-gray-400\">Up next</p>\r\n-                  </div>\r\n-                </div>\r\n-              </div>\r\n-\r\n-              <!-- Key Metrics Grid -->\r\n-              <div class=\"grid grid-cols-2 gap-4 mb-8\">\r\n-                ${this.renderKeyMetric(\r\n-                  \"Monthly Consumption\",\r\n-                  `${this.billData.unitsConsumed}`,\r\n-                  \"kWh\",\r\n-                  \"This is how much electricity you used last month\",\r\n-                  \"lightning-bolt\"\r\n-                )}\r\n-                \r\n-                ${this.renderKeyMetric(\r\n-                  \"Current Bill\",\r\n-                  `${this.billData.totalAmount}`,\r\n-                  \"Rs.\",\r\n-                  \"Your total electricity charges including taxes\",\r\n-                  \"cash\"\r\n-                )}\r\n-                \r\n-                ${this.renderKeyMetric(\r\n-                  \"Rate per Unit\",\r\n-                  `${this.billData.ratePerUnit}`,\r\n-                  \"Rs/kWh\",\r\n-                  \"Your current electricity rate\",\r\n-                  \"chart-bar\"\r\n-                )}\r\n-                \r\n-                ${this.renderKeyMetric(\r\n-                  \"Bill Due Date\",\r\n-                  `${this.billData.dueDate}`,\r\n-                  \"\",\r\n-                  \"Make sure to pay before this date\",\r\n-                  \"calendar\"\r\n-                )}\r\n-              </div>\r\n-\r\n-              <!-- Next Step Card -->\r\n-              <div class=\"relative mt-auto p-6 bg-white rounded-2xl shadow-sm opacity-0 border border-gray-100\" id=\"next-step-card\">\r\n-                <div class=\"absolute -top-3 -right-3 w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center\">\r\n-                  <svg class=\"w-8 h-8 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n-                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 7l5 5m0 0l-5 5m5-5H6\"></path>\r\n-                  </svg>\r\n-                </div>\r\n-                <h3 class=\"text-lg font-semibold text-gray-800 mb-2\">Ready For Your Solar Quote?</h3>\r\n-                <p class=\"text-gray-600 mb-4\">\r\n-                  We've analyzed your bill. Now let's see how much you could save with solar!\r\n-                </p>\r\n-                <button \r\n-                  id=\"proceed-to-quote\" \r\n-                  class=\"w-full bg-gradient-to-r from-primary to-primary-dark text-white px-6 py-3.5 rounded-xl font-medium hover:from-primary-dark hover:to-primary-dark transition-all duration-300 shadow-sm hover:shadow-md\"\r\n-                >\r\n-                  Generate My Solar Quote\r\n-                </button>\r\n-              </div>\r\n-            </div>\r\n+          <div class=\"w-1/2 h-full\" id=\"insights-container\">\r\n           </div>\r\n         </div>\r\n       </div>\r\n     `;\r\n \r\n-    this.attachEventListeners();\r\n+    this.attachBaseStyles();\r\n     this.renderBillPreview();\r\n+    this.renderInsights();\r\n     this.startAnimation();\r\n   }\r\n \r\n-  renderKeyMetric(title, value, unit, description, icon) {\r\n-    const icons = {\r\n-      \"lightning-bolt\": `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />`,\r\n-      cash: `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />`,\r\n-      \"chart-bar\": `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />`,\r\n-      calendar: `<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />`,\r\n-    };\r\n+  attachBaseStyles() {\r\n+    const style = document.createElement('style');\r\n+    style.textContent = this.getBaseStyles();\r\n+    document.head.appendChild(style);\r\n+  }\r\n \r\n+  getBaseStyles() {\r\n     return `\r\n-      <div class=\"metric-card opacity-0 p-4 bg-white rounded-xl border border-gray-100 hover:shadow-md transition-shadow duration-300\">\r\n-        <div class=\"flex items-start justify-between mb-3\">\r\n-          <div class=\"flex items-center space-x-3\">\r\n-            <div class=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center\">\r\n-              <svg class=\"w-5 h-5 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n-                ${icons[icon]}\r\n-              </svg>\r\n-            </div>\r\n-            <h3 class=\"text-sm font-medium text-gray-600\">${title}</h3>\r\n-          </div>\r\n-        </div>\r\n-        <div class=\"flex items-baseline space-x-1\">\r\n-          <span class=\"text-2xl font-bold text-gray-900\">${value}</span>\r\n-          <span class=\"text-sm font-medium text-gray-500\">${unit}</span>\r\n-        </div>\r\n-        <p class=\"text-sm text-gray-500 mt-1\">${description}</p>\r\n-      </div>\r\n-    `;\r\n-  }\r\n+      /* Base Theme Colors */\r\n+      :root {\r\n+        --color-primary: #3b82f6;\r\n+        --color-primary-dark: #2563eb;\r\n+        --color-primary-light: #93c5fd;\r\n+        --color-success: #10b981;\r\n+        --color-warning: #f59e0b;\r\n+        --color-error: #ef4444;\r\n+        --color-gray-50: #f8fafc;\r\n+        --color-gray-100: #f1f5f9;\r\n+        --color-gray-200: #e2e8f0;\r\n+        --color-gray-300: #cbd5e1;\r\n+        --color-gray-400: #94a3b8;\r\n+        --color-gray-500: #64748b;\r\n+        --color-gray-600: #475569;\r\n+        --color-gray-700: #334155;\r\n+        --color-gray-800: #1e293b;\r\n+        --color-gray-900: #0f172a;\r\n+      }\r\n \r\n-  renderBillPreview() {\r\n-    const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n-    const billPreview = new BillPreview(this.billData);\r\n-    billPreview.render(billPreviewContainer);\r\n-  }\r\n+      /* Loading Spinner */\r\n+      .loading-spinner {\r\n+        width: 40px;\r\n+        height: 40px;\r\n+        border: 4px solid var(--color-gray-200);\r\n+        border-left-color: var(--color-primary);\r\n+        border-radius: 50%;\r\n+        animation: spin 1s linear infinite;\r\n+      }\r\n \r\n-  async startAnimation() {\r\n-    const billPreviewContainer = document.getElementById(\r\n-      \"bill-preview-container\"\r\n-    );\r\n-    const loadingIndicator = document.getElementById(\"loading-indicator\");\r\n-    const insightsContainer = document.getElementById(\"insights-container\");\r\n-    const metrics = document.querySelectorAll(\".metric-card\");\r\n-    const nextStepCard = document.getElementById(\"next-step-card\");\r\n-    const pageTitle = document.querySelector(\"h2\");\r\n+      @keyframes spin {\r\n+        to { transform: rotate(360deg); }\r\n+      }\r\n \r\n-    \r\n+      /* Card Styles */\r\n+      .insight-card {\r\n+        background: white;\r\n+        border-radius: 1rem;\r\n+        box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n+        transition: all 0.3s ease;\r\n+        border: 1px solid var(--color-gray-100);\r\n+      }\r\n \r\n-    // Initial states\r\n-    gsap.set(\r\n-      [\r\n-        billPreviewContainer,\r\n-        loadingIndicator,\r\n-        metrics,\r\n-        nextStepCard,\r\n-        pageTitle,\r\n-      ],\r\n-      {\r\n-        opacity: 0,\r\n+      .insight-card:hover {\r\n+        transform: translateY(-2px);\r\n+        box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);\r\n       }\r\n-    );\r\n-    gsap.set(billPreviewContainer, {\r\n-      scale: 0.9,\r\n-      position: \"absolute\",\r\n-      left: \"50%\",\r\n-      top: \"50%\",\r\n-      xPercent: -50,\r\n-      yPercent: -50,\r\n-      width: \"47.5%\",\r\n-    });\r\n \r\n-    // Animation sequence\r\n-    const tl = gsap.timeline({\r\n-      defaults: { duration: 0.8, ease: \"power2.out\" },\r\n-    });\r\n+      /* Glass Effect */\r\n+      .glass-effect {\r\n+        background: rgba(255, 255, 255, 0.7);\r\n+        backdrop-filter: blur(10px);\r\n+        border: 1px solid rgba(255, 255, 255, 0.3);\r\n+      }\r\n \r\n-    await tl\r\n-      .to(billPreviewContainer, {\r\n-        opacity: 1,\r\n-        scale: 1,\r\n-        duration: 1,\r\n-      })\r\n-      .to(loadingIndicator, {\r\n-        opacity: 1,\r\n-        scale: 1,\r\n-        duration: 0.5,\r\n-      })\r\n-      .to(loadingIndicator, {\r\n-        opacity: 0,\r\n-        scale: 0.5,\r\n-        delay: 1,\r\n-      })\r\n-      .to(\r\n-        billPreviewContainer,\r\n-        {\r\n-          left: \"0%\",\r\n-          top: \"0%\",\r\n-          xPercent: 0,\r\n-          yPercent: 0,\r\n-          width: \"50%\",\r\n-          position: \"relative\",\r\n-        },\r\n-        \"-=0.3\"\r\n-      )\r\n-      // Fade in insights section\r\n-      .to(\"#page-header\", {\r\n-        opacity: 1,\r\n-        y: 0,\r\n-        duration: 0.5\r\n-      })\r\n-      .to(\"#progress-bar\", {\r\n-        opacity: 1,\r\n-        y: 0,\r\n-        duration: 0.5\r\n-      }, \"-=0.3\")\r\n-      .to(\".metric-card\", {\r\n-        opacity: 1,\r\n-        y: 0,\r\n-        stagger: 0.15,\r\n-        duration: 0.5\r\n-      }, \"-=0.2\")\r\n-      .to(\"#next-step-card\", {\r\n-        opacity: 1,\r\n-        y: 0,\r\n-        duration: 0.5\r\n-      }, \"-=0.2\");\r\n-  }\r\n+      /* Custom Scrollbar */\r\n+      .custom-scrollbar {\r\n+        scrollbar-width: thin;\r\n+        scrollbar-color: var(--color-gray-300) transparent;\r\n+      }\r\n \r\n-  attachEventListeners() {\r\n-    const proceedButton = document.getElementById(\"proceed-to-quote\");\r\n-    proceedButton.addEventListener(\"click\", () => {\r\n-      window.router.push(\"/quote\");\r\n-    });\r\n-  }\r\n-}\r\n+      .custom-scrollbar::-webkit-scrollbar {\r\n+        width: 6px;\r\n+      }\r\n+\r\n+      .custom-scrollbar::-webkit-scrollbar-track {\r\n+        background: transparent;\r\n+      }\r\n+\r\n+      .custom-scrollbar::-webkit-scrollbar-thumb {\r\n+        background-color: var(--color-gray-300);\r\n+        border-radius: 3px;\r\n+      }\r\n+\r\n+      /* Progress Bar */\r\n+      .progress-step {\r\n+        position: relative;\r\n+        z-index: 1;\r\n+      }\r\n+\r\n+      .progress-step::after {\r\n+        content: '';\r\n+        position: absolute;\r\n+        top: 50%;\r\n+        left: 100%;\r\n+        width: 100%;\r\n+        height: 2px;\r\n+        background: var(--color-gray-200);\r\n+        transform: translateY(-50%);\r\n+      }\r\n+\r\n+      .progress-step.active::after {\r\n+        background: var(--color-primary);\r\n+      }\r\n+\r\n+      /* Animated Gradients */\r\n+      .animated-gradient {\r\n+        background: linear-gradient(\r\n+          45deg,\r\n+          var(--color-primary),\r\n+          var(--color-primary-dark),\r\n+          var(--color-primary)\r\n+        );\r\n+        background-size: 200% 200%;\r\n+        animation: gradient 15s ease infinite;\r\n+      }\r\n+\r\n+      @keyframes gradient {\r\n+        0% { background-position: 0% 50%; }\r\n+        50% { background-position: 100% 50%; }\r\n+        100% { background-position: 0% 50%; }\r\n+      }\r\n+\r\n+      /* Responsive Design */\r\n+      @media (max-width: 1024px) {\r\n+        .insight-card {\r\n+          padding: 1rem;\r\n+        }\r\n+      }\r\n+\r\n+      @media (max-width: 768px) {\r\n+        #main-content {\r\n+          flex-direction: column;\r\n+        }\r\n+\r\n+        #bill-preview-container,\r\n+        #insights-container {\r\n+          width: 100%;\r\n+          height: 50%;\r\n+        }\r\n+      }\r\n+\r\n+      /* Chart Tooltips */\r\n+      .chart-tooltip {\r\n+        background: rgba(255, 255, 255, 0.95) !important;\r\n+        backdrop-filter: blur(4px);\r\n+        border: 1px solid var(--color-gray-200) !important;\r\n+        border-radius: 0.5rem !important;\r\n+        padding: 0.75rem !important;\r\n+        box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1) !important;\r\n+      }\r\n+    `;\r\n+  }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731481249295,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -196,5 +196,315 @@\n         padding: 0.75rem !important;\r\n         box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1) !important;\r\n       }\r\n     `;\r\n+  }// Part 2 of BillReviewPage.js - continuing from previous part\r\n+\r\n+renderInsights() {\r\n+    const insightsContainer = document.querySelector(\"#insights-container\");\r\n+    if (!insightsContainer) return;\r\n+  \r\n+    // Generate trend data for the last 6 months\r\n+    const trendData = this.generateTrendData();\r\n+  \r\n+    insightsContainer.innerHTML = `\r\n+      <div class=\"h-full flex flex-col p-8 custom-scrollbar\">\r\n+        <!-- Header Section -->\r\n+        <div class=\"flex items-center space-x-4 mb-8 opacity-0\" id=\"insights-header\">\r\n+          <div class=\"flex-shrink-0\">\r\n+            <div class=\"w-12 h-12 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center\">\r\n+              <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n+              </svg>\r\n+            </div>\r\n+          </div>\r\n+          <div>\r\n+            <h2 class=\"text-2xl font-bold text-gray-900\">Bill Analysis</h2>\r\n+            <p class=\"text-gray-500\">Understanding your energy consumption</p>\r\n+          </div>\r\n+        </div>\r\n+  \r\n+        <!-- Progress Tracker -->\r\n+        <div class=\"glass-effect rounded-xl p-6 mb-8 opacity-0\" id=\"progress-tracker\">\r\n+          <div class=\"flex justify-between\">\r\n+            <div class=\"flex items-center\">\r\n+              <div class=\"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold\">1</div>\r\n+              <div class=\"ml-4\">\r\n+                <p class=\"font-semibold text-gray-900\">Bill Review</p>\r\n+                <p class=\"text-sm text-gray-500\">Analyzing consumption patterns</p>\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"w-32 h-0.5 self-center bg-gray-200\"></div>\r\n+            <div class=\"flex items-center\">\r\n+              <div class=\"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-400 font-semibold\">2</div>\r\n+              <div class=\"ml-4\">\r\n+                <p class=\"font-semibold text-gray-400\">Solar Quote</p>\r\n+                <p class=\"text-sm text-gray-400\">Up next</p>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+  \r\n+        <!-- Consumption Analysis Card -->\r\n+        <div class=\"insight-card p-6 mb-6 opacity-0\" id=\"consumption-card\">\r\n+          <div class=\"flex justify-between items-center mb-6\">\r\n+            <div>\r\n+              <h3 class=\"text-lg font-semibold text-gray-900\">Consumption Analysis</h3>\r\n+              <p class=\"text-sm text-gray-500\">Last 6 months trend</p>\r\n+            </div>\r\n+            <div class=\"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-sm font-medium\">\r\n+              ${this.formatChange(trendData)}% vs last month\r\n+            </div>\r\n+          </div>\r\n+          <div class=\"h-64\">\r\n+            <canvas id=\"consumption-trend-chart\"></canvas>\r\n+          </div>\r\n+        </div>\r\n+  \r\n+        <!-- Key Metrics Grid -->\r\n+        <div class=\"grid grid-cols-2 gap-6 mb-8\">\r\n+          <!-- Current Bill Card -->\r\n+          <div class=\"insight-card p-6 opacity-0 consumption-metric\">\r\n+            <div class=\"flex items-center justify-between mb-4\">\r\n+              <div class=\"w-12 h-12 rounded-lg bg-green-50 flex items-center justify-center\">\r\n+                <svg class=\"w-6 h-6 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n+                </svg>\r\n+              </div>\r\n+              <span class=\"px-2 py-1 bg-green-50 text-green-600 text-sm rounded-full\">Due in ${this.calculateDueDays()} days</span>\r\n+            </div>\r\n+            <p class=\"text-sm text-gray-500 mb-1\">Current Bill</p>\r\n+            <p class=\"text-2xl font-bold text-gray-900\">${this.formatCurrency(this.billData.totalAmount)}</p>\r\n+            <div class=\"mt-4 h-1 bg-gray-100 rounded\">\r\n+              <div class=\"h-full bg-green-500 rounded\" style=\"width: ${this.calculateBillProgress()}%\"></div>\r\n+            </div>\r\n+          </div>\r\n+  \r\n+          <!-- Units Consumed Card -->\r\n+          <div class=\"insight-card p-6 opacity-0 consumption-metric\">\r\n+            <div class=\"flex items-center justify-between mb-4\">\r\n+              <div class=\"w-12 h-12 rounded-lg bg-blue-50 flex items-center justify-center\">\r\n+                <svg class=\"w-6 h-6 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n+                </svg>\r\n+              </div>\r\n+              <span class=\"px-2 py-1 bg-blue-50 text-blue-600 text-sm rounded-full\">\r\n+                ${this.calculateEfficiency()} efficiency\r\n+              </span>\r\n+            </div>\r\n+            <p class=\"text-sm text-gray-500 mb-1\">Units Consumed</p>\r\n+            <p class=\"text-2xl font-bold text-gray-900\">${this.billData.unitsConsumed} kWh</p>\r\n+            <p class=\"text-sm text-gray-500 mt-2\">\r\n+              Rate: ${this.formatCurrency(this.billData.ratePerUnit)}/kWh\r\n+            </p>\r\n+          </div>\r\n+        </div>\r\n+  \r\n+        <!-- Next Steps Card -->\r\n+        <div class=\"mt-auto\">\r\n+          <div class=\"insight-card p-6 opacity-0\" id=\"next-steps-card\">\r\n+            <div class=\"absolute -top-3 -right-3\">\r\n+              <div class=\"w-16 h-16 animated-gradient rounded-full flex items-center justify-center\">\r\n+                <svg class=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n+                </svg>\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"max-w-lg\">\r\n+              <h3 class=\"text-xl font-semibold text-gray-900 mb-2\">Ready For Your Solar Quote?</h3>\r\n+              <p class=\"text-gray-600 mb-6\">\r\n+                We've analyzed your consumption patterns. Let's see how much you could save with solar energy!\r\n+              </p>\r\n+              <button \r\n+                id=\"proceed-to-quote\" \r\n+                class=\"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 rounded-xl font-medium\r\n+                       hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-sm hover:shadow-lg\r\n+                       flex items-center justify-center gap-2 group\"\r\n+              >\r\n+                Generate My Solar Quote\r\n+                <svg class=\"w-5 h-5 transform group-hover:translate-x-1 transition-transform\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\r\n+                </svg>\r\n+              </button>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    `;\r\n+  \r\n+    this.initializeCharts(trendData);\r\n+    this.startInsightAnimations();\r\n+    this.attachEventListeners();\r\n+  }\r\n+  \r\n+  generateTrendData() {\r\n+    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];\r\n+    return months.map(month => ({\r\n+      month,\r\n+      consumption: Math.floor(this.billData.unitsConsumed * (0.8 + Math.random() * 0.4))\r\n+    }));\r\n+  }\r\n+  \r\n+  initializeCharts(trendData) {\r\n+    const ctx = document.getElementById('consumption-trend-chart');\r\n+    if (!ctx) return;\r\n+  \r\n+    this.charts.consumption = new Chart(ctx, {\r\n+      type: 'line',\r\n+      data: {\r\n+        labels: trendData.map(d => d.month),\r\n+        datasets: [{\r\n+          label: 'Consumption (kWh)',\r\n+          data: trendData.map(d => d.consumption),\r\n+          borderColor: '#3b82f6',\r\n+          backgroundColor: 'rgba(59, 130, 246, 0.1)',\r\n+          tension: 0.4,\r\n+          fill: true,\r\n+          pointRadius: 6,\r\n+          pointHoverRadius: 8,\r\n+          pointBackgroundColor: '#ffffff',\r\n+          pointBorderColor: '#3b82f6',\r\n+          pointBorderWidth: 2\r\n+        }]\r\n+      },\r\n+      options: {\r\n+        responsive: true,\r\n+        maintainAspectRatio: false,\r\n+        plugins: {\r\n+          legend: {\r\n+            display: false\r\n+          },\r\n+          tooltip: {\r\n+            backgroundColor: 'white',\r\n+            titleColor: '#1f2937',\r\n+            bodyColor: '#4b5563',\r\n+            borderColor: '#e5e7eb',\r\n+            borderWidth: 1,\r\n+            padding: 12,\r\n+            titleFont: {\r\n+              size: 14,\r\n+              weight: 'bold'\r\n+            },\r\n+            bodyFont: {\r\n+              size: 13\r\n+            },\r\n+            displayColors: false,\r\n+            callbacks: {\r\n+              label: (context) => `${context.parsed.y.toLocaleString()} kWh`\r\n+            }\r\n+          }\r\n+        },\r\n+        scales: {\r\n+          x: {\r\n+            grid: {\r\n+              display: false\r\n+            },\r\n+            ticks: {\r\n+              font: {\r\n+                size: 12\r\n+              }\r\n+            }\r\n+          },\r\n+          y: {\r\n+            beginAtZero: true,\r\n+            grid: {\r\n+              color: 'rgba(0, 0, 0, 0.05)'\r\n+            },\r\n+            ticks: {\r\n+              font: {\r\n+                size: 12\r\n+              },\r\n+              callback: (value) => `${value} kWh`\r\n+            }\r\n+          }\r\n+        }\r\n+      }\r\n+    });\r\n+  }\r\n+  \r\n+  startInsightAnimations() {\r\n+    gsap.to(\"#insights-header\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.6,\r\n+      ease: \"power2.out\"\r\n+    });\r\n+  \r\n+    gsap.to(\"#progress-tracker\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.6,\r\n+      delay: 0.2,\r\n+      ease: \"power2.out\"\r\n+    });\r\n+  \r\n+    gsap.to(\"#consumption-card\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.6,\r\n+      delay: 0.4,\r\n+      ease: \"power2.out\"\r\n+    });\r\n+  \r\n+    gsap.to(\".consumption-metric\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.6,\r\n+      stagger: 0.2,\r\n+      delay: 0.6,\r\n+      ease: \"power2.out\"\r\n+    });\r\n+  \r\n+    gsap.to(\"#next-steps-card\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.6,\r\n+      delay: 1,\r\n+      ease: \"power2.out\"\r\n+    });\r\n+  }\r\n+  \r\n+  // Utility methods\r\n+  formatCurrency(value) {\r\n+    return new Intl.NumberFormat('en-PK', {\r\n+      style: 'currency',\r\n+      currency: 'PKR',\r\n+      minimumFractionDigits: 0,\r\n+      maximumFractionDigits: 0\r\n+    }).format(value);\r\n+  }\r\n+  \r\n+  calculateDueDays() {\r\n+    const dueDate = new Date(this.billData.dueDate);\r\n+    const today = new Date();\r\n+    const diffTime = Math.abs(dueDate - today);\r\n+    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n+  }\r\n+  \r\n+  calculateBillProgress() {\r\n+    const daysInMonth = 30;\r\n+    const today = new Date();\r\n+    const billDate = new Date(this.billData.issueDate);\r\n+    const daysPassed = Math.ceil((today - billDate) / (1000 * 60 * 60 * 24));\r\n+    return Math.min((daysPassed / daysInMonth) * 100, 100);\r\n+  }\r\n+  \r\n+  calculateEfficiency() {\r\n+    const avgConsumption = 500; // Example average consumption\r\n+    const efficiency = (this.billData.unitsConsumed / avgConsumption) * 100;\r\n+    return efficiency <= 100 ? 'High' : 'Low';\r\n+  }\r\n+  \r\n+  formatChange(data) {\r\n+    const lastTwo = data.slice(-2);\r\n+    const change = ((lastTwo[1].consumption - lastTwo[0].consumption) / lastTwo[0].consumption) * 100;\r\n+    return change.toFixed(1);\r\n+  }\r\n+  \r\n+  attachEventListeners() {\r\n+    const quoteButton = document.getElementById('proceed-to-quote');\r\n+    if (quoteButton) {\r\n+      quoteButton.addEventListener('click', () => {\r\n+        window.router.push('/quote');\r\n+      });\r\n+    }\r\n   }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731481255528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -506,5 +506,6 @@\n       quoteButton.addEventListener('click', () => {\r\n         window.router.push('/quote');\r\n       });\r\n     }\r\n-  }\n\\ No newline at end of file\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731613127259,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,9 +47,9 @@\n     this.startAnimation();\r\n   }\r\n \r\n   attachBaseStyles() {\r\n-    const style = document.createElement('style');\r\n+    const style = document.createElement(\"style\");\r\n     style.textContent = this.getBaseStyles();\r\n     document.head.appendChild(style);\r\n   }\r\n \r\n@@ -196,17 +196,49 @@\n         padding: 0.75rem !important;\r\n         box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1) !important;\r\n       }\r\n     `;\r\n-  }// Part 2 of BillReviewPage.js - continuing from previous part\r\n+  } \r\n \r\n-renderInsights() {\r\n+  renderBillPreview() {\r\n+    if (!this.billData) {\r\n+      console.error(\"Bill data is not available\");\r\n+      this.renderError(document.getElementById(\"app\"));\r\n+      return;\r\n+    }\r\n+\r\n+    const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n+    if (!billPreviewContainer) {\r\n+      console.error(\"Bill preview container not found\");\r\n+      return;\r\n+    }\r\n+\r\n+    const billPreview = new BillPreview(this.billData);\r\n+    billPreview.render(billPreviewContainer);\r\n+  }\r\n+\r\n+  renderError(container) {\r\n+    container.innerHTML = `\r\n+        <div class=\"flex items-center justify-center h-screen\">\r\n+            <div class=\"text-center\">\r\n+                <h2 class=\"text-xl font-semibold text-gray-800 mb-2\">Error</h2>\r\n+                <p class=\"text-gray-600\">Bill data is not available. Please try again.</p>\r\n+                <button onclick=\"window.router.push('/')\" \r\n+                        class=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\">\r\n+                    Go Back\r\n+                </button>\r\n+            </div>\r\n+        </div>\r\n+    `;\r\n+  }\r\n+\r\n+  renderInsights() {\r\n     const insightsContainer = document.querySelector(\"#insights-container\");\r\n     if (!insightsContainer) return;\r\n-  \r\n+\r\n     // Generate trend data for the last 6 months\r\n     const trendData = this.generateTrendData();\r\n-  \r\n+\r\n     insightsContainer.innerHTML = `\r\n       <div class=\"h-full flex flex-col p-8 custom-scrollbar\">\r\n         <!-- Header Section -->\r\n         <div class=\"flex items-center space-x-4 mb-8 opacity-0\" id=\"insights-header\">\r\n@@ -272,9 +304,11 @@\n               </div>\r\n               <span class=\"px-2 py-1 bg-green-50 text-green-600 text-sm rounded-full\">Due in ${this.calculateDueDays()} days</span>\r\n             </div>\r\n             <p class=\"text-sm text-gray-500 mb-1\">Current Bill</p>\r\n-            <p class=\"text-2xl font-bold text-gray-900\">${this.formatCurrency(this.billData.totalAmount)}</p>\r\n+            <p class=\"text-2xl font-bold text-gray-900\">${this.formatCurrency(\r\n+              this.billData.totalAmount\r\n+            )}</p>\r\n             <div class=\"mt-4 h-1 bg-gray-100 rounded\">\r\n               <div class=\"h-full bg-green-500 rounded\" style=\"width: ${this.calculateBillProgress()}%\"></div>\r\n             </div>\r\n           </div>\r\n@@ -291,9 +325,11 @@\n                 ${this.calculateEfficiency()} efficiency\r\n               </span>\r\n             </div>\r\n             <p class=\"text-sm text-gray-500 mb-1\">Units Consumed</p>\r\n-            <p class=\"text-2xl font-bold text-gray-900\">${this.billData.unitsConsumed} kWh</p>\r\n+            <p class=\"text-2xl font-bold text-gray-900\">${\r\n+              this.billData.unitsConsumed\r\n+            } kWh</p>\r\n             <p class=\"text-sm text-gray-500 mt-2\">\r\n               Rate: ${this.formatCurrency(this.billData.ratePerUnit)}/kWh\r\n             </p>\r\n           </div>\r\n@@ -329,183 +365,190 @@\n           </div>\r\n         </div>\r\n       </div>\r\n     `;\r\n-  \r\n+\r\n     this.initializeCharts(trendData);\r\n     this.startInsightAnimations();\r\n     this.attachEventListeners();\r\n   }\r\n-  \r\n+\r\n   generateTrendData() {\r\n-    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];\r\n-    return months.map(month => ({\r\n+    const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"];\r\n+    return months.map((month) => ({\r\n       month,\r\n-      consumption: Math.floor(this.billData.unitsConsumed * (0.8 + Math.random() * 0.4))\r\n+      consumption: Math.floor(\r\n+        this.billData.unitsConsumed * (0.8 + Math.random() * 0.4)\r\n+      ),\r\n     }));\r\n   }\r\n-  \r\n+\r\n   initializeCharts(trendData) {\r\n-    const ctx = document.getElementById('consumption-trend-chart');\r\n+    const ctx = document.getElementById(\"consumption-trend-chart\");\r\n     if (!ctx) return;\r\n-  \r\n+\r\n     this.charts.consumption = new Chart(ctx, {\r\n-      type: 'line',\r\n+      type: \"line\",\r\n       data: {\r\n-        labels: trendData.map(d => d.month),\r\n-        datasets: [{\r\n-          label: 'Consumption (kWh)',\r\n-          data: trendData.map(d => d.consumption),\r\n-          borderColor: '#3b82f6',\r\n-          backgroundColor: 'rgba(59, 130, 246, 0.1)',\r\n-          tension: 0.4,\r\n-          fill: true,\r\n-          pointRadius: 6,\r\n-          pointHoverRadius: 8,\r\n-          pointBackgroundColor: '#ffffff',\r\n-          pointBorderColor: '#3b82f6',\r\n-          pointBorderWidth: 2\r\n-        }]\r\n+        labels: trendData.map((d) => d.month),\r\n+        datasets: [\r\n+          {\r\n+            label: \"Consumption (kWh)\",\r\n+            data: trendData.map((d) => d.consumption),\r\n+            borderColor: \"#3b82f6\",\r\n+            backgroundColor: \"rgba(59, 130, 246, 0.1)\",\r\n+            tension: 0.4,\r\n+            fill: true,\r\n+            pointRadius: 6,\r\n+            pointHoverRadius: 8,\r\n+            pointBackgroundColor: \"#ffffff\",\r\n+            pointBorderColor: \"#3b82f6\",\r\n+            pointBorderWidth: 2,\r\n+          },\r\n+        ],\r\n       },\r\n       options: {\r\n         responsive: true,\r\n         maintainAspectRatio: false,\r\n         plugins: {\r\n           legend: {\r\n-            display: false\r\n+            display: false,\r\n           },\r\n           tooltip: {\r\n-            backgroundColor: 'white',\r\n-            titleColor: '#1f2937',\r\n-            bodyColor: '#4b5563',\r\n-            borderColor: '#e5e7eb',\r\n+            backgroundColor: \"white\",\r\n+            titleColor: \"#1f2937\",\r\n+            bodyColor: \"#4b5563\",\r\n+            borderColor: \"#e5e7eb\",\r\n             borderWidth: 1,\r\n             padding: 12,\r\n             titleFont: {\r\n               size: 14,\r\n-              weight: 'bold'\r\n+              weight: \"bold\",\r\n             },\r\n             bodyFont: {\r\n-              size: 13\r\n+              size: 13,\r\n             },\r\n             displayColors: false,\r\n             callbacks: {\r\n-              label: (context) => `${context.parsed.y.toLocaleString()} kWh`\r\n-            }\r\n-          }\r\n+              label: (context) => `${context.parsed.y.toLocaleString()} kWh`,\r\n+            },\r\n+          },\r\n         },\r\n         scales: {\r\n           x: {\r\n             grid: {\r\n-              display: false\r\n+              display: false,\r\n             },\r\n             ticks: {\r\n               font: {\r\n-                size: 12\r\n-              }\r\n-            }\r\n+                size: 12,\r\n+              },\r\n+            },\r\n           },\r\n           y: {\r\n             beginAtZero: true,\r\n             grid: {\r\n-              color: 'rgba(0, 0, 0, 0.05)'\r\n+              color: \"rgba(0, 0, 0, 0.05)\",\r\n             },\r\n             ticks: {\r\n               font: {\r\n-                size: 12\r\n+                size: 12,\r\n               },\r\n-              callback: (value) => `${value} kWh`\r\n-            }\r\n-          }\r\n-        }\r\n-      }\r\n+              callback: (value) => `${value} kWh`,\r\n+            },\r\n+          },\r\n+        },\r\n+      },\r\n     });\r\n   }\r\n-  \r\n+\r\n   startInsightAnimations() {\r\n     gsap.to(\"#insights-header\", {\r\n       opacity: 1,\r\n       y: 0,\r\n       duration: 0.6,\r\n-      ease: \"power2.out\"\r\n+      ease: \"power2.out\",\r\n     });\r\n-  \r\n+\r\n     gsap.to(\"#progress-tracker\", {\r\n       opacity: 1,\r\n       y: 0,\r\n       duration: 0.6,\r\n       delay: 0.2,\r\n-      ease: \"power2.out\"\r\n+      ease: \"power2.out\",\r\n     });\r\n-  \r\n+\r\n     gsap.to(\"#consumption-card\", {\r\n       opacity: 1,\r\n       y: 0,\r\n       duration: 0.6,\r\n       delay: 0.4,\r\n-      ease: \"power2.out\"\r\n+      ease: \"power2.out\",\r\n     });\r\n-  \r\n+\r\n     gsap.to(\".consumption-metric\", {\r\n       opacity: 1,\r\n       y: 0,\r\n       duration: 0.6,\r\n       stagger: 0.2,\r\n       delay: 0.6,\r\n-      ease: \"power2.out\"\r\n+      ease: \"power2.out\",\r\n     });\r\n\\ No newline at end of file\n-  \r\n+\r\n     gsap.to(\"#next-steps-card\", {\r\n       opacity: 1,\r\n       y: 0,\r\n       duration: 0.6,\r\n       delay: 1,\r\n-      ease: \"power2.out\"\r\n+      ease: \"power2.out\",\r\n     });\r\n   }\r\n-  \r\n+\r\n   // Utility methods\r\n   formatCurrency(value) {\r\n-    return new Intl.NumberFormat('en-PK', {\r\n-      style: 'currency',\r\n-      currency: 'PKR',\r\n+    return new Intl.NumberFormat(\"en-PK\", {\r\n+      style: \"currency\",\r\n+      currency: \"PKR\",\r\n       minimumFractionDigits: 0,\r\n-      maximumFractionDigits: 0\r\n+      maximumFractionDigits: 0,\r\n     }).format(value);\r\n   }\r\n-  \r\n+\r\n   calculateDueDays() {\r\n     const dueDate = new Date(this.billData.dueDate);\r\n     const today = new Date();\r\n     const diffTime = Math.abs(dueDate - today);\r\n     return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n   }\r\n-  \r\n+\r\n   calculateBillProgress() {\r\n     const daysInMonth = 30;\r\n     const today = new Date();\r\n     const billDate = new Date(this.billData.issueDate);\r\n     const daysPassed = Math.ceil((today - billDate) / (1000 * 60 * 60 * 24));\r\n     return Math.min((daysPassed / daysInMonth) * 100, 100);\r\n   }\r\n-  \r\n+\r\n   calculateEfficiency() {\r\n     const avgConsumption = 500; // Example average consumption\r\n     const efficiency = (this.billData.unitsConsumed / avgConsumption) * 100;\r\n-    return efficiency <= 100 ? 'High' : 'Low';\r\n+    return efficiency <= 100 ? \"High\" : \"Low\";\r\n   }\r\n-  \r\n+\r\n   formatChange(data) {\r\n     const lastTwo = data.slice(-2);\r\n-    const change = ((lastTwo[1].consumption - lastTwo[0].consumption) / lastTwo[0].consumption) * 100;\r\n+    const change =\r\n+      ((lastTwo[1].consumption - lastTwo[0].consumption) /\r\n+        lastTwo[0].consumption) *\r\n+      100;\r\n     return change.toFixed(1);\r\n   }\r\n-  \r\n+\r\n   attachEventListeners() {\r\n-    const quoteButton = document.getElementById('proceed-to-quote');\r\n+    const quoteButton = document.getElementById(\"proceed-to-quote\");\r\n     if (quoteButton) {\r\n-      quoteButton.addEventListener('click', () => {\r\n-        window.router.push('/quote');\r\n+      quoteButton.addEventListener(\"click\", () => {\r\n+        window.router.push(\"/quote\");\r\n       });\r\n     }\r\n   }\r\n-}\n+}\r\n"
                },
                {
                    "date": 1731613330994,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,8 +46,111 @@\n     this.renderInsights();\r\n     this.startAnimation();\r\n   }\r\n \r\n+  async startAnimation() {\r\n+    if (this.error) {\r\n+      this.showError();\r\n+      return;\r\n+    }\r\n+\r\n+    const billPreviewContainer = document.getElementById(\r\n+      \"bill-preview-container\"\r\n+    );\r\n+    const insightsContainer = document.getElementById(\"insights-container\");\r\n+    const loadingIndicator = document.getElementById(\"loading-indicator\");\r\n+    const billReviewPage = document.getElementById(\"bill-review-page\");\r\n+\r\n+    if (\r\n+      !billPreviewContainer ||\r\n+      !insightsContainer ||\r\n+      !loadingIndicator ||\r\n+      !billReviewPage\r\n+    ) {\r\n+      console.error(\"Required DOM elements not found\");\r\n+      return;\r\n+    }\r\n+\r\n+    // Initial states\r\n+    gsap.set([billPreviewContainer, insightsContainer, loadingIndicator], {\r\n+      opacity: 0,\r\n+    });\r\n+    gsap.set(billPreviewContainer, {\r\n+      scale: 0.9,\r\n+      position: \"absolute\",\r\n+      left: \"50%\",\r\n+      top: \"50%\",\r\n+      xPercent: -50,\r\n+      yPercent: -50,\r\n+      width: \"47.5%\",\r\n+    });\r\n+    gsap.set(insightsContainer, {\r\n+      xPercent: 100,\r\n+    });\r\n+    gsap.set(loadingIndicator, {\r\n+      scale: 0.5,\r\n+    });\r\n+\r\n+    try {\r\n+      // Create animation timeline\r\n+      const tl = gsap.timeline({\r\n+        defaults: { duration: 0.8, ease: \"power2.out\" },\r\n+      });\r\n+\r\n+      // Animation sequence\r\n+      await tl\r\n+        .to(billPreviewContainer, {\r\n+          opacity: 1,\r\n+          scale: 1,\r\n+          duration: 1,\r\n+        })\r\n+        .to(loadingIndicator, {\r\n+          opacity: 1,\r\n+          scale: 1,\r\n+          duration: 0.5,\r\n+        })\r\n+        .to(loadingIndicator, {\r\n+          opacity: 0,\r\n+          scale: 0.5,\r\n+          delay: 1,\r\n+        })\r\n+        .to(\r\n+          billPreviewContainer,\r\n+          {\r\n+            left: \"0%\",\r\n+            top: \"0%\",\r\n+            xPercent: 0,\r\n+            yPercent: 0,\r\n+            width: \"50%\",\r\n+            position: \"relative\",\r\n+          },\r\n+          \"-=0.3\"\r\n+        )\r\n+        .to(\r\n+          insightsContainer,\r\n+          {\r\n+            opacity: 1,\r\n+            xPercent: 0,\r\n+          },\r\n+          \"-=0.5\"\r\n+        )\r\n+        .to(\r\n+          billReviewPage,\r\n+          {\r\n+            backgroundColor: \"var(--color-bg-secondary)\",\r\n+            duration: 1,\r\n+          },\r\n+          \"-=0.5\"\r\n+        );\r\n+\r\n+      // Render insights after animations\r\n+      this.renderInsights();\r\n+    } catch (error) {\r\n+      console.error(\"Animation error:\", error);\r\n+      this.showError();\r\n+    }\r\n+  }\r\n+\r\n   attachBaseStyles() {\r\n     const style = document.createElement(\"style\");\r\n     style.textContent = this.getBaseStyles();\r\n     document.head.appendChild(style);\r\n@@ -196,9 +299,9 @@\n         padding: 0.75rem !important;\r\n         box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1) !important;\r\n       }\r\n     `;\r\n-  } \r\n+  }\r\n \r\n   renderBillPreview() {\r\n     if (!this.billData) {\r\n       console.error(\"Bill data is not available\");\r\n@@ -550,5 +653,5 @@\n         window.router.push(\"/quote\");\r\n       });\r\n     }\r\n   }\r\n-}\n\\ No newline at end of file\n+}\r\n"
                },
                {
                    "date": 1731613486865,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,108 +48,78 @@\n   }\r\n \r\n   async startAnimation() {\r\n     if (this.error) {\r\n-      this.showError();\r\n-      return;\r\n+        this.showError();\r\n+        return;\r\n     }\r\n \r\n-    const billPreviewContainer = document.getElementById(\r\n-      \"bill-preview-container\"\r\n-    );\r\n-    const insightsContainer = document.getElementById(\"insights-container\");\r\n+    const billPreviewContainer = document.getElementById(\"bill-preview-container\");\r\n+    const systemSizingContainer = document.getElementById(\"system-sizing-container\");\r\n     const loadingIndicator = document.getElementById(\"loading-indicator\");\r\n-    const billReviewPage = document.getElementById(\"bill-review-page\");\r\n+    const quoteResultPage = document.getElementById(\"quote-result-page\");\r\n \r\n-    if (\r\n-      !billPreviewContainer ||\r\n-      !insightsContainer ||\r\n-      !loadingIndicator ||\r\n-      !billReviewPage\r\n-    ) {\r\n-      console.error(\"Required DOM elements not found\");\r\n-      return;\r\n-    }\r\n-\r\n     // Initial states\r\n-    gsap.set([billPreviewContainer, insightsContainer, loadingIndicator], {\r\n-      opacity: 0,\r\n+    gsap.set([billPreviewContainer, systemSizingContainer, loadingIndicator], {\r\n+        opacity: 0\r\n     });\r\n     gsap.set(billPreviewContainer, {\r\n-      scale: 0.9,\r\n-      position: \"absolute\",\r\n-      left: \"50%\",\r\n-      top: \"50%\",\r\n-      xPercent: -50,\r\n-      yPercent: -50,\r\n-      width: \"47.5%\",\r\n+        scale: 0.9,\r\n+        position: 'absolute',\r\n+        left: '50%',\r\n+        top: '50%',\r\n+        xPercent: -50,\r\n+        yPercent: -50,\r\n+        width: \"47.5%\"\r\n     });\r\n-    gsap.set(insightsContainer, {\r\n-      xPercent: 100,\r\n+    gsap.set(systemSizingContainer, {\r\n+        xPercent: 100\r\n     });\r\n     gsap.set(loadingIndicator, {\r\n-      scale: 0.5,\r\n+        scale: 0.5\r\n     });\r\n \r\n-    try {\r\n-      // Create animation timeline\r\n-      const tl = gsap.timeline({\r\n-        defaults: { duration: 0.8, ease: \"power2.out\" },\r\n-      });\r\n+    const tl = gsap.timeline({\r\n+        defaults: { duration: 0.8, ease: \"power2.out\" }\r\n+    });\r\n \r\n-      // Animation sequence\r\n-      await tl\r\n+    // Animation sequence\r\n+    await tl\r\n         .to(billPreviewContainer, {\r\n-          opacity: 1,\r\n-          scale: 1,\r\n-          duration: 1,\r\n+            opacity: 1,\r\n+            scale: 1,\r\n+            duration: 1\r\n         })\r\n         .to(loadingIndicator, {\r\n-          opacity: 1,\r\n-          scale: 1,\r\n-          duration: 0.5,\r\n+            opacity: 1,\r\n+            scale: 1,\r\n+            duration: 0.5\r\n         })\r\n         .to(loadingIndicator, {\r\n-          opacity: 0,\r\n-          scale: 0.5,\r\n-          delay: 1,\r\n+            opacity: 0,\r\n+            scale: 0.5,\r\n+            delay: 1\r\n         })\r\n-        .to(\r\n-          billPreviewContainer,\r\n-          {\r\n+        .to(billPreviewContainer, {\r\n             left: \"0%\",\r\n             top: \"0%\",\r\n             xPercent: 0,\r\n             yPercent: 0,\r\n             width: \"50%\",\r\n-            position: \"relative\",\r\n-          },\r\n-          \"-=0.3\"\r\n-        )\r\n-        .to(\r\n-          insightsContainer,\r\n-          {\r\n+            position: 'relative'\r\n+        }, \"-=0.3\")\r\n+        .to(systemSizingContainer, {\r\n             opacity: 1,\r\n-            xPercent: 0,\r\n-          },\r\n-          \"-=0.5\"\r\n-        )\r\n-        .to(\r\n-          billReviewPage,\r\n-          {\r\n+            xPercent: 0\r\n+        }, \"-=0.5\")\r\n+        .to(quoteResultPage, {\r\n             backgroundColor: \"var(--color-bg-secondary)\",\r\n-            duration: 1,\r\n-          },\r\n-          \"-=0.5\"\r\n-        );\r\n+            duration: 1\r\n+        }, \"-=0.5\");\r\n \r\n-      // Render insights after animations\r\n-      this.renderInsights();\r\n-    } catch (error) {\r\n-      console.error(\"Animation error:\", error);\r\n-      this.showError();\r\n-    }\r\n-  }\r\n+    // Render system sizing after animations\r\n+    this.renderSystemSizing();\r\n+}\r\n \r\n   attachBaseStyles() {\r\n     const style = document.createElement(\"style\");\r\n     style.textContent = this.getBaseStyles();\r\n"
                },
                {
                    "date": 1731613580882,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,78 +48,92 @@\n   }\r\n \r\n   async startAnimation() {\r\n     if (this.error) {\r\n-        this.showError();\r\n-        return;\r\n+      this.showError();\r\n+      return;\r\n     }\r\n \r\n-    const billPreviewContainer = document.getElementById(\"bill-preview-container\");\r\n-    const systemSizingContainer = document.getElementById(\"system-sizing-container\");\r\n+    const billPreviewContainer = document.getElementById(\r\n+      \"bill-preview-container\"\r\n+    );\r\n+    const insightsContainer = document.getElementById(\"insights-container\");\r\n     const loadingIndicator = document.getElementById(\"loading-indicator\");\r\n-    const quoteResultPage = document.getElementById(\"quote-result-page\");\r\n+    const billReviewPage = document.getElementById(\"bill-review-page\");\r\n \r\n+    // Hide insights container initially\r\n+    insightsContainer.style.visibility = \"hidden\";\r\n+\r\n     // Initial states\r\n-    gsap.set([billPreviewContainer, systemSizingContainer, loadingIndicator], {\r\n-        opacity: 0\r\n+    gsap.set([billPreviewContainer, loadingIndicator], {\r\n+      opacity: 0,\r\n     });\r\n     gsap.set(billPreviewContainer, {\r\n-        scale: 0.9,\r\n-        position: 'absolute',\r\n-        left: '50%',\r\n-        top: '50%',\r\n-        xPercent: -50,\r\n-        yPercent: -50,\r\n-        width: \"47.5%\"\r\n+      scale: 0.9,\r\n+      position: \"absolute\",\r\n+      left: \"50%\",\r\n+      top: \"50%\",\r\n+      xPercent: -50,\r\n+      yPercent: -50,\r\n+      width: \"47.5%\",\r\n     });\r\n-    gsap.set(systemSizingContainer, {\r\n-        xPercent: 100\r\n-    });\r\n     gsap.set(loadingIndicator, {\r\n-        scale: 0.5\r\n+      scale: 0.5,\r\n     });\r\n \r\n     const tl = gsap.timeline({\r\n-        defaults: { duration: 0.8, ease: \"power2.out\" }\r\n+      defaults: { duration: 0.8, ease: \"power2.out\" },\r\n     });\r\n \r\n     // Animation sequence\r\n     await tl\r\n-        .to(billPreviewContainer, {\r\n-            opacity: 1,\r\n-            scale: 1,\r\n-            duration: 1\r\n-        })\r\n-        .to(loadingIndicator, {\r\n-            opacity: 1,\r\n-            scale: 1,\r\n-            duration: 0.5\r\n-        })\r\n-        .to(loadingIndicator, {\r\n-            opacity: 0,\r\n-            scale: 0.5,\r\n-            delay: 1\r\n-        })\r\n-        .to(billPreviewContainer, {\r\n-            left: \"0%\",\r\n-            top: \"0%\",\r\n-            xPercent: 0,\r\n-            yPercent: 0,\r\n-            width: \"50%\",\r\n-            position: 'relative'\r\n-        }, \"-=0.3\")\r\n-        .to(systemSizingContainer, {\r\n-            opacity: 1,\r\n-            xPercent: 0\r\n-        }, \"-=0.5\")\r\n-        .to(quoteResultPage, {\r\n-            backgroundColor: \"var(--color-bg-secondary)\",\r\n-            duration: 1\r\n-        }, \"-=0.5\");\r\n+      .to(billPreviewContainer, {\r\n+        opacity: 1,\r\n+        scale: 1,\r\n+        duration: 1,\r\n+      })\r\n+      .to(loadingIndicator, {\r\n+        opacity: 1,\r\n+        scale: 1,\r\n+        duration: 0.5,\r\n+      })\r\n+      .to(loadingIndicator, {\r\n+        opacity: 0,\r\n+        scale: 0.5,\r\n+        delay: 1,\r\n+      })\r\n+      .to(\r\n+        billPreviewContainer,\r\n+        {\r\n+          left: \"0%\",\r\n+          top: \"0%\",\r\n+          xPercent: 0,\r\n+          yPercent: 0,\r\n+          width: \"50%\",\r\n+          position: \"relative\",\r\n+        },\r\n+        \"-=0.3\"\r\n+      )\r\n+      .call(() => {\r\n+        // Show insights container before its animation\r\n+        insightsContainer.style.visibility = \"visible\";\r\n+      })\r\n+      .to(insightsContainer, {\r\n+        opacity: 1,\r\n+        duration: 0.5,\r\n+      })\r\n+      .to(\r\n+        billReviewPage,\r\n+        {\r\n+          backgroundColor: \"var(--color-bg-secondary)\",\r\n+          duration: 1,\r\n+        },\r\n+        \"-=0.5\"\r\n+      );\r\n \r\n-    // Render system sizing after animations\r\n-    this.renderSystemSizing();\r\n-}\r\n+    // Render insights after animations\r\n+    this.renderInsights();\r\n+  }\r\n \r\n   attachBaseStyles() {\r\n     const style = document.createElement(\"style\");\r\n     style.textContent = this.getBaseStyles();\r\n"
                },
                {
                    "date": 1731662016459,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,658 @@\n+// BillReviewPage.js\r\n+import { gsap } from \"gsap\";\r\n+import { getBillData } from \"../store/solarSizingState.js\";\r\n+import { BillPreview } from \"./BillPreview.js\";\r\n+import Chart from \"chart.js/auto\";\r\n+\r\n+export class BillReviewPage {\r\n+  constructor() {\r\n+    this.billData = getBillData();\r\n+    this.charts = {};\r\n+  }\r\n+\r\n+  // In BillReviewPage.js\r\n+  render() {\r\n+    const app = document.getElementById(\"app\");\r\n+\r\n+    if (!this.billData) {\r\n+      this.renderError(app);\r\n+      return;\r\n+    }\r\n+\r\n+    // First set invisible container\r\n+    app.innerHTML = `\r\n+      <div class=\"h-screen w-screen bg-white transition-colors duration-1000 overflow-hidden opacity-0\" id=\"quote-result-page\">\r\n+          <!-- Main Content -->\r\n+          <div class=\"h-full w-full flex relative\" id=\"main-content\">\r\n+              <!-- Bill Preview Side -->\r\n+              <div class=\"w-1/2 h-full\" id=\"bill-preview-container\">\r\n+                  <div id=\"bill-preview\" class=\"h-full\"></div>\r\n+              </div>\r\n+\r\n+              <!-- Loading Indicator -->\r\n+              <div class=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center z-10\" \r\n+                   id=\"loading-indicator\">\r\n+                  <div class=\"loading-spinner\"></div>\r\n+                  <p class=\"text-primary font-medium\">Analyzing your bill...</p>\r\n+              </div>\r\n+\r\n+              <!-- Insights Side -->\r\n+              <div class=\"w-1/2 h-full invisible\" id=\"insights-container\">\r\n+              </div>\r\n+          </div>\r\n+      </div>\r\n+  `;\r\n+\r\n+    this.attachBaseStyles();\r\n+\r\n+    // Use requestAnimationFrame to ensure styles are applied before starting\r\n+    requestAnimationFrame(() => {\r\n+      requestAnimationFrame(() => {\r\n+        // Make container visible\r\n+        const container = document.getElementById(\"quote-result-page\");\r\n+        if (container) {\r\n+          container.classList.remove(\"opacity-0\");\r\n+        }\r\n+\r\n+        // Now render bill preview and start animation\r\n+        this.renderBillPreview();\r\n+        this.startAnimation().catch((error) => {\r\n+          console.error(\"Animation failed:\", error);\r\n+          this.showError();\r\n+        });\r\n+      });\r\n+    });\r\n+  }\r\n+\r\n+  async startAnimation() {\r\n+    if (this.error) {\r\n+      this.showError();\r\n+      return;\r\n+    }\r\n+\r\n+    const billPreviewContainer = document.getElementById(\r\n+      \"bill-preview-container\"\r\n+    );\r\n+    const insightsContainer = document.getElementById(\"insights-container\");\r\n+    const loadingIndicator = document.getElementById(\"loading-indicator\");\r\n+    const billReviewPage = document.getElementById(\"bill-review-page\");\r\n+\r\n+    // Hide insights container initially\r\n+    insightsContainer.style.visibility = \"hidden\";\r\n+\r\n+    // Initial states\r\n+    gsap.set([billPreviewContainer, loadingIndicator], {\r\n+      opacity: 0,\r\n+    });\r\n+    gsap.set(billPreviewContainer, {\r\n+      scale: 0.9,\r\n+      position: \"absolute\",\r\n+      left: \"50%\",\r\n+      top: \"50%\",\r\n+      xPercent: -50,\r\n+      yPercent: -50,\r\n+      width: \"47.5%\",\r\n+    });\r\n+    gsap.set(loadingIndicator, {\r\n+      scale: 0.5,\r\n+    });\r\n+\r\n+    const tl = gsap.timeline({\r\n+      defaults: { duration: 0.8, ease: \"power2.out\" },\r\n+    });\r\n+\r\n+    // Animation sequence\r\n+    await tl\r\n+      .to(billPreviewContainer, {\r\n+        opacity: 1,\r\n+        scale: 1,\r\n+        duration: 1,\r\n+      })\r\n+      .to(loadingIndicator, {\r\n+        opacity: 1,\r\n+        scale: 1,\r\n+        duration: 0.5,\r\n+      })\r\n+      .to(loadingIndicator, {\r\n+        opacity: 0,\r\n+        scale: 0.5,\r\n+        delay: 1,\r\n+      })\r\n+      .to(\r\n+        billPreviewContainer,\r\n+        {\r\n+          left: \"0%\",\r\n+          top: \"0%\",\r\n+          xPercent: 0,\r\n+          yPercent: 0,\r\n+          width: \"50%\",\r\n+          position: \"relative\",\r\n+        },\r\n+        \"-=0.3\"\r\n+      )\r\n+      .call(() => {\r\n+        // Show insights container before its animation\r\n+        insightsContainer.style.visibility = \"visible\";\r\n+      })\r\n+      .to(insightsContainer, {\r\n+        opacity: 1,\r\n+        duration: 0.5,\r\n+      })\r\n+      .to(\r\n+        billReviewPage,\r\n+        {\r\n+          backgroundColor: \"var(--color-bg-secondary)\",\r\n+          duration: 1,\r\n+        },\r\n+        \"-=0.5\"\r\n+      );\r\n+\r\n+    // Render insights after animations\r\n+    this.renderInsights();\r\n+  }\r\n+\r\n+  attachBaseStyles() {\r\n+    const style = document.createElement(\"style\");\r\n+    style.textContent = this.getBaseStyles();\r\n+    document.head.appendChild(style);\r\n+  }\r\n+\r\n+  getBaseStyles() {\r\n+    return `\r\n+      /* Base Theme Colors */\r\n+      :root {\r\n+        --color-primary: #3b82f6;\r\n+        --color-primary-dark: #2563eb;\r\n+        --color-primary-light: #93c5fd;\r\n+        --color-success: #10b981;\r\n+        --color-warning: #f59e0b;\r\n+        --color-error: #ef4444;\r\n+        --color-gray-50: #f8fafc;\r\n+        --color-gray-100: #f1f5f9;\r\n+        --color-gray-200: #e2e8f0;\r\n+        --color-gray-300: #cbd5e1;\r\n+        --color-gray-400: #94a3b8;\r\n+        --color-gray-500: #64748b;\r\n+        --color-gray-600: #475569;\r\n+        --color-gray-700: #334155;\r\n+        --color-gray-800: #1e293b;\r\n+        --color-gray-900: #0f172a;\r\n+      }\r\n+\r\n+      /* Loading Spinner */\r\n+      .loading-spinner {\r\n+        width: 40px;\r\n+        height: 40px;\r\n+        border: 4px solid var(--color-gray-200);\r\n+        border-left-color: var(--color-primary);\r\n+        border-radius: 50%;\r\n+        animation: spin 1s linear infinite;\r\n+      }\r\n+\r\n+      @keyframes spin {\r\n+        to { transform: rotate(360deg); }\r\n+      }\r\n+\r\n+      /* Card Styles */\r\n+      .insight-card {\r\n+        background: white;\r\n+        border-radius: 1rem;\r\n+        box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n+        transition: all 0.3s ease;\r\n+        border: 1px solid var(--color-gray-100);\r\n+      }\r\n+\r\n+      .insight-card:hover {\r\n+        transform: translateY(-2px);\r\n+        box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);\r\n+      }\r\n+\r\n+      /* Glass Effect */\r\n+      .glass-effect {\r\n+        background: rgba(255, 255, 255, 0.7);\r\n+        backdrop-filter: blur(10px);\r\n+        border: 1px solid rgba(255, 255, 255, 0.3);\r\n+      }\r\n+\r\n+      /* Custom Scrollbar */\r\n+      .custom-scrollbar {\r\n+        scrollbar-width: thin;\r\n+        scrollbar-color: var(--color-gray-300) transparent;\r\n+      }\r\n+\r\n+      .custom-scrollbar::-webkit-scrollbar {\r\n+        width: 6px;\r\n+      }\r\n+\r\n+      .custom-scrollbar::-webkit-scrollbar-track {\r\n+        background: transparent;\r\n+      }\r\n+\r\n+      .custom-scrollbar::-webkit-scrollbar-thumb {\r\n+        background-color: var(--color-gray-300);\r\n+        border-radius: 3px;\r\n+      }\r\n+\r\n+      /* Progress Bar */\r\n+      .progress-step {\r\n+        position: relative;\r\n+        z-index: 1;\r\n+      }\r\n+\r\n+      .progress-step::after {\r\n+        content: '';\r\n+        position: absolute;\r\n+        top: 50%;\r\n+        left: 100%;\r\n+        width: 100%;\r\n+        height: 2px;\r\n+        background: var(--color-gray-200);\r\n+        transform: translateY(-50%);\r\n+      }\r\n+\r\n+      .progress-step.active::after {\r\n+        background: var(--color-primary);\r\n+      }\r\n+\r\n+      /* Animated Gradients */\r\n+      .animated-gradient {\r\n+        background: linear-gradient(\r\n+          45deg,\r\n+          var(--color-primary),\r\n+          var(--color-primary-dark),\r\n+          var(--color-primary)\r\n+        );\r\n+        background-size: 200% 200%;\r\n+        animation: gradient 15s ease infinite;\r\n+      }\r\n+\r\n+      @keyframes gradient {\r\n+        0% { background-position: 0% 50%; }\r\n+        50% { background-position: 100% 50%; }\r\n+        100% { background-position: 0% 50%; }\r\n+      }\r\n+\r\n+      /* Responsive Design */\r\n+      @media (max-width: 1024px) {\r\n+        .insight-card {\r\n+          padding: 1rem;\r\n+        }\r\n+      }\r\n+\r\n+      @media (max-width: 768px) {\r\n+        #main-content {\r\n+          flex-direction: column;\r\n+        }\r\n+\r\n+        #bill-preview-container,\r\n+        #insights-container {\r\n+          width: 100%;\r\n+          height: 50%;\r\n+        }\r\n+      }\r\n+\r\n+      /* Chart Tooltips */\r\n+      .chart-tooltip {\r\n+        background: rgba(255, 255, 255, 0.95) !important;\r\n+        backdrop-filter: blur(4px);\r\n+        border: 1px solid var(--color-gray-200) !important;\r\n+        border-radius: 0.5rem !important;\r\n+        padding: 0.75rem !important;\r\n+        box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1) !important;\r\n+      }\r\n+    `;\r\n+  }\r\n+\r\n+  renderBillPreview() {\r\n+    if (!this.billData) {\r\n+      console.error(\"Bill data is not available\");\r\n+      this.renderError(document.getElementById(\"app\"));\r\n+      return;\r\n+    }\r\n+\r\n+    const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n+    if (!billPreviewContainer) {\r\n+      console.error(\"Bill preview container not found\");\r\n+      return;\r\n+    }\r\n+\r\n+    const billPreview = new BillPreview(this.billData);\r\n+    billPreview.render(billPreviewContainer);\r\n+  }\r\n+\r\n+  renderError(container) {\r\n+    container.innerHTML = `\r\n+        <div class=\"flex items-center justify-center h-screen\">\r\n+            <div class=\"text-center\">\r\n+                <h2 class=\"text-xl font-semibold text-gray-800 mb-2\">Error</h2>\r\n+                <p class=\"text-gray-600\">Bill data is not available. Please try again.</p>\r\n+                <button onclick=\"window.router.push('/')\" \r\n+                        class=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\">\r\n+                    Go Back\r\n+                </button>\r\n+            </div>\r\n+        </div>\r\n+    `;\r\n+  }\r\n+\r\n+  renderInsights() {\r\n+    const insightsContainer = document.querySelector(\"#insights-container\");\r\n+    if (!insightsContainer) return;\r\n+\r\n+    // Generate trend data for the last 6 months\r\n+    const trendData = this.generateTrendData();\r\n+\r\n+    insightsContainer.innerHTML = `\r\n+      <div class=\"h-full flex flex-col p-8 custom-scrollbar\">\r\n+        <!-- Header Section -->\r\n+        <div class=\"flex items-center space-x-4 mb-8 opacity-0\" id=\"insights-header\">\r\n+          <div class=\"flex-shrink-0\">\r\n+            <div class=\"w-12 h-12 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center\">\r\n+              <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n+              </svg>\r\n+            </div>\r\n+          </div>\r\n+          <div>\r\n+            <h2 class=\"text-2xl font-bold text-gray-900\">Bill Analysis</h2>\r\n+            <p class=\"text-gray-500\">Understanding your energy consumption</p>\r\n+          </div>\r\n+        </div>\r\n+  \r\n+        <!-- Progress Tracker -->\r\n+        <div class=\"glass-effect rounded-xl p-6 mb-8 opacity-0\" id=\"progress-tracker\">\r\n+          <div class=\"flex justify-between\">\r\n+            <div class=\"flex items-center\">\r\n+              <div class=\"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold\">1</div>\r\n+              <div class=\"ml-4\">\r\n+                <p class=\"font-semibold text-gray-900\">Bill Review</p>\r\n+                <p class=\"text-sm text-gray-500\">Analyzing consumption patterns</p>\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"w-32 h-0.5 self-center bg-gray-200\"></div>\r\n+            <div class=\"flex items-center\">\r\n+              <div class=\"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-400 font-semibold\">2</div>\r\n+              <div class=\"ml-4\">\r\n+                <p class=\"font-semibold text-gray-400\">Solar Quote</p>\r\n+                <p class=\"text-sm text-gray-400\">Up next</p>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+  \r\n+        <!-- Consumption Analysis Card -->\r\n+        <div class=\"insight-card p-6 mb-6 opacity-0\" id=\"consumption-card\">\r\n+          <div class=\"flex justify-between items-center mb-6\">\r\n+            <div>\r\n+              <h3 class=\"text-lg font-semibold text-gray-900\">Consumption Analysis</h3>\r\n+              <p class=\"text-sm text-gray-500\">Last 6 months trend</p>\r\n+            </div>\r\n+            <div class=\"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-sm font-medium\">\r\n+              ${this.formatChange(trendData)}% vs last month\r\n+            </div>\r\n+          </div>\r\n+          <div class=\"h-64\">\r\n+            <canvas id=\"consumption-trend-chart\"></canvas>\r\n+          </div>\r\n+        </div>\r\n+  \r\n+        <!-- Key Metrics Grid -->\r\n+        <div class=\"grid grid-cols-2 gap-6 mb-8\">\r\n+          <!-- Current Bill Card -->\r\n+          <div class=\"insight-card p-6 opacity-0 consumption-metric\">\r\n+            <div class=\"flex items-center justify-between mb-4\">\r\n+              <div class=\"w-12 h-12 rounded-lg bg-green-50 flex items-center justify-center\">\r\n+                <svg class=\"w-6 h-6 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n+                </svg>\r\n+              </div>\r\n+              <span class=\"px-2 py-1 bg-green-50 text-green-600 text-sm rounded-full\">Due in ${this.calculateDueDays()} days</span>\r\n+            </div>\r\n+            <p class=\"text-sm text-gray-500 mb-1\">Current Bill</p>\r\n+            <p class=\"text-2xl font-bold text-gray-900\">${this.formatCurrency(\r\n+              this.billData.totalAmount\r\n+            )}</p>\r\n+            <div class=\"mt-4 h-1 bg-gray-100 rounded\">\r\n+              <div class=\"h-full bg-green-500 rounded\" style=\"width: ${this.calculateBillProgress()}%\"></div>\r\n+            </div>\r\n+          </div>\r\n+  \r\n+          <!-- Units Consumed Card -->\r\n+          <div class=\"insight-card p-6 opacity-0 consumption-metric\">\r\n+            <div class=\"flex items-center justify-between mb-4\">\r\n+              <div class=\"w-12 h-12 rounded-lg bg-blue-50 flex items-center justify-center\">\r\n+                <svg class=\"w-6 h-6 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n+                </svg>\r\n+              </div>\r\n+              <span class=\"px-2 py-1 bg-blue-50 text-blue-600 text-sm rounded-full\">\r\n+                ${this.calculateEfficiency()} efficiency\r\n+              </span>\r\n+            </div>\r\n+            <p class=\"text-sm text-gray-500 mb-1\">Units Consumed</p>\r\n+            <p class=\"text-2xl font-bold text-gray-900\">${\r\n+              this.billData.unitsConsumed\r\n+            } kWh</p>\r\n+            <p class=\"text-sm text-gray-500 mt-2\">\r\n+              Rate: ${this.formatCurrency(this.billData.ratePerUnit)}/kWh\r\n+            </p>\r\n+          </div>\r\n+        </div>\r\n+  \r\n+        <!-- Next Steps Card -->\r\n+        <div class=\"mt-auto\">\r\n+          <div class=\"insight-card p-6 opacity-0\" id=\"next-steps-card\">\r\n+            <div class=\"absolute -top-3 -right-3\">\r\n+              <div class=\"w-16 h-16 animated-gradient rounded-full flex items-center justify-center\">\r\n+                <svg class=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n+                </svg>\r\n+              </div>\r\n+            </div>\r\n+            <div class=\"max-w-lg\">\r\n+              <h3 class=\"text-xl font-semibold text-gray-900 mb-2\">Ready For Your Solar Quote?</h3>\r\n+              <p class=\"text-gray-600 mb-6\">\r\n+                We've analyzed your consumption patterns. Let's see how much you could save with solar energy!\r\n+              </p>\r\n+              <button \r\n+                id=\"proceed-to-quote\" \r\n+                class=\"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 rounded-xl font-medium\r\n+                       hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-sm hover:shadow-lg\r\n+                       flex items-center justify-center gap-2 group\"\r\n+              >\r\n+                Generate My Solar Quote\r\n+                <svg class=\"w-5 h-5 transform group-hover:translate-x-1 transition-transform\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\r\n+                </svg>\r\n+              </button>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    `;\r\n+\r\n+    this.initializeCharts(trendData);\r\n+    this.startInsightAnimations();\r\n+    this.attachEventListeners();\r\n+  }\r\n+\r\n+  generateTrendData() {\r\n+    const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"];\r\n+    return months.map((month) => ({\r\n+      month,\r\n+      consumption: Math.floor(\r\n+        this.billData.unitsConsumed * (0.8 + Math.random() * 0.4)\r\n+      ),\r\n+    }));\r\n+  }\r\n+\r\n+  initializeCharts(trendData) {\r\n+    const ctx = document.getElementById(\"consumption-trend-chart\");\r\n+    if (!ctx) return;\r\n+\r\n+    this.charts.consumption = new Chart(ctx, {\r\n+      type: \"line\",\r\n+      data: {\r\n+        labels: trendData.map((d) => d.month),\r\n+        datasets: [\r\n+          {\r\n+            label: \"Consumption (kWh)\",\r\n+            data: trendData.map((d) => d.consumption),\r\n+            borderColor: \"#3b82f6\",\r\n+            backgroundColor: \"rgba(59, 130, 246, 0.1)\",\r\n+            tension: 0.4,\r\n+            fill: true,\r\n+            pointRadius: 6,\r\n+            pointHoverRadius: 8,\r\n+            pointBackgroundColor: \"#ffffff\",\r\n+            pointBorderColor: \"#3b82f6\",\r\n+            pointBorderWidth: 2,\r\n+          },\r\n+        ],\r\n+      },\r\n+      options: {\r\n+        responsive: true,\r\n+        maintainAspectRatio: false,\r\n+        plugins: {\r\n+          legend: {\r\n+            display: false,\r\n+          },\r\n+          tooltip: {\r\n+            backgroundColor: \"white\",\r\n+            titleColor: \"#1f2937\",\r\n+            bodyColor: \"#4b5563\",\r\n+            borderColor: \"#e5e7eb\",\r\n+            borderWidth: 1,\r\n+            padding: 12,\r\n+            titleFont: {\r\n+              size: 14,\r\n+              weight: \"bold\",\r\n+            },\r\n+            bodyFont: {\r\n+              size: 13,\r\n+            },\r\n+            displayColors: false,\r\n+            callbacks: {\r\n+              label: (context) => `${context.parsed.y.toLocaleString()} kWh`,\r\n+            },\r\n+          },\r\n+        },\r\n+        scales: {\r\n+          x: {\r\n+            grid: {\r\n+              display: false,\r\n+            },\r\n+            ticks: {\r\n+              font: {\r\n+                size: 12,\r\n+              },\r\n+            },\r\n+          },\r\n+          y: {\r\n+            beginAtZero: true,\r\n+            grid: {\r\n+              color: \"rgba(0, 0, 0, 0.05)\",\r\n+            },\r\n+            ticks: {\r\n+              font: {\r\n+                size: 12,\r\n+              },\r\n+              callback: (value) => `${value} kWh`,\r\n+            },\r\n+          },\r\n+        },\r\n+      },\r\n+    });\r\n+  }\r\n+\r\n+  startInsightAnimations() {\r\n+    gsap.to(\"#insights-header\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.6,\r\n+      ease: \"power2.out\",\r\n+    });\r\n+\r\n+    gsap.to(\"#progress-tracker\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.6,\r\n+      delay: 0.2,\r\n+      ease: \"power2.out\",\r\n+    });\r\n+\r\n+    gsap.to(\"#consumption-card\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.6,\r\n+      delay: 0.4,\r\n+      ease: \"power2.out\",\r\n+    });\r\n+\r\n+    gsap.to(\".consumption-metric\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.6,\r\n+      stagger: 0.2,\r\n+      delay: 0.6,\r\n+      ease: \"power2.out\",\r\n+    });\r\n+\r\n+    gsap.to(\"#next-steps-card\", {\r\n+      opacity: 1,\r\n+      y: 0,\r\n+      duration: 0.6,\r\n+      delay: 1,\r\n+      ease: \"power2.out\",\r\n+    });\r\n+  }\r\n+\r\n+  // Utility methods\r\n+  formatCurrency(value) {\r\n+    return new Intl.NumberFormat(\"en-PK\", {\r\n+      style: \"currency\",\r\n+      currency: \"PKR\",\r\n+      minimumFractionDigits: 0,\r\n+      maximumFractionDigits: 0,\r\n+    }).format(value);\r\n+  }\r\n+\r\n+  calculateDueDays() {\r\n+    const dueDate = new Date(this.billData.dueDate);\r\n+    const today = new Date();\r\n+    const diffTime = Math.abs(dueDate - today);\r\n+    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n+  }\r\n+\r\n+  calculateBillProgress() {\r\n+    const daysInMonth = 30;\r\n+    const today = new Date();\r\n+    const billDate = new Date(this.billData.issueDate);\r\n+    const daysPassed = Math.ceil((today - billDate) / (1000 * 60 * 60 * 24));\r\n+    return Math.min((daysPassed / daysInMonth) * 100, 100);\r\n+  }\r\n+\r\n+  calculateEfficiency() {\r\n+    const avgConsumption = 500; // Example average consumption\r\n+    const efficiency = (this.billData.unitsConsumed / avgConsumption) * 100;\r\n+    return efficiency <= 100 ? \"High\" : \"Low\";\r\n+  }\r\n+\r\n+  formatChange(data) {\r\n+    const lastTwo = data.slice(-2);\r\n+    const change =\r\n+      ((lastTwo[1].consumption - lastTwo[0].consumption) /\r\n+        lastTwo[0].consumption) *\r\n+      100;\r\n+    return change.toFixed(1);\r\n+  }\r\n+\r\n+  attachEventListeners() {\r\n+    const quoteButton = document.getElementById(\"proceed-to-quote\");\r\n+    if (quoteButton) {\r\n+      quoteButton.addEventListener(\"click\", () => {\r\n+        window.router.push(\"/quote\");\r\n+      });\r\n+    }\r\n+  }\r\n+}\r\n"
                },
                {
                    "date": 1731662022461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,8 @@\n     this.billData = getBillData();\r\n     this.charts = {};\r\n   }\r\n \r\n-  // In BillReviewPage.js\r\n   render() {\r\n     const app = document.getElementById(\"app\");\r\n \r\n     if (!this.billData) {\r\n@@ -655,645 +654,4 @@\n       });\r\n     }\r\n   }\r\n }\r\n-// BillReviewPage.js\r\n-import { gsap } from \"gsap\";\r\n-import { getBillData } from \"../store/solarSizingState.js\";\r\n-import { BillPreview } from \"./BillPreview.js\";\r\n-import Chart from \"chart.js/auto\";\r\n-\r\n-export class BillReviewPage {\r\n-  constructor() {\r\n-    this.billData = getBillData();\r\n-    this.charts = {};\r\n-  }\r\n-\r\n-  render() {\r\n-    const app = document.getElementById(\"app\");\r\n-\r\n-    if (!this.billData) {\r\n-      this.renderError(app);\r\n-      return;\r\n-    }\r\n-\r\n-    app.innerHTML = `\r\n-      <div class=\"h-screen w-screen bg-slate-50 transition-colors duration-1000 overflow-hidden\">\r\n-        <!-- Main Content -->\r\n-        <div class=\"h-full w-full flex relative\" id=\"main-content\">\r\n-          <!-- Bill Preview Side -->\r\n-          <div class=\"w-1/2 h-full\" id=\"bill-preview-container\">\r\n-            <div id=\"bill-preview\" class=\"h-full\"></div>\r\n-          </div>\r\n-\r\n-          <!-- Loading Indicator -->\r\n-          <div class=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center z-10\" \r\n-               id=\"loading-indicator\">\r\n-            <div class=\"loading-spinner\"></div>\r\n-            <p class=\"text-primary font-medium mt-4\">Analyzing your bill...</p>\r\n-          </div>\r\n-\r\n-          <!-- Insights Side -->\r\n-          <div class=\"w-1/2 h-full\" id=\"insights-container\">\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    `;\r\n-\r\n-    this.attachBaseStyles();\r\n-    this.renderBillPreview();\r\n-    this.renderInsights();\r\n-    this.startAnimation();\r\n-  }\r\n-\r\n-  async startAnimation() {\r\n-    if (this.error) {\r\n-      this.showError();\r\n-      return;\r\n-    }\r\n-\r\n-    const billPreviewContainer = document.getElementById(\r\n-      \"bill-preview-container\"\r\n-    );\r\n-    const insightsContainer = document.getElementById(\"insights-container\");\r\n-    const loadingIndicator = document.getElementById(\"loading-indicator\");\r\n-    const billReviewPage = document.getElementById(\"bill-review-page\");\r\n-\r\n-    // Hide insights container initially\r\n-    insightsContainer.style.visibility = \"hidden\";\r\n-\r\n-    // Initial states\r\n-    gsap.set([billPreviewContainer, loadingIndicator], {\r\n-      opacity: 0,\r\n-    });\r\n-    gsap.set(billPreviewContainer, {\r\n-      scale: 0.9,\r\n-      position: \"absolute\",\r\n-      left: \"50%\",\r\n-      top: \"50%\",\r\n-      xPercent: -50,\r\n-      yPercent: -50,\r\n-      width: \"47.5%\",\r\n-    });\r\n-    gsap.set(loadingIndicator, {\r\n-      scale: 0.5,\r\n-    });\r\n-\r\n-    const tl = gsap.timeline({\r\n-      defaults: { duration: 0.8, ease: \"power2.out\" },\r\n-    });\r\n-\r\n-    // Animation sequence\r\n-    await tl\r\n-      .to(billPreviewContainer, {\r\n-        opacity: 1,\r\n-        scale: 1,\r\n-        duration: 1,\r\n-      })\r\n-      .to(loadingIndicator, {\r\n-        opacity: 1,\r\n-        scale: 1,\r\n-        duration: 0.5,\r\n-      })\r\n-      .to(loadingIndicator, {\r\n-        opacity: 0,\r\n-        scale: 0.5,\r\n-        delay: 1,\r\n-      })\r\n-      .to(\r\n-        billPreviewContainer,\r\n-        {\r\n-          left: \"0%\",\r\n-          top: \"0%\",\r\n-          xPercent: 0,\r\n-          yPercent: 0,\r\n-          width: \"50%\",\r\n-          position: \"relative\",\r\n-        },\r\n-        \"-=0.3\"\r\n-      )\r\n-      .call(() => {\r\n-        // Show insights container before its animation\r\n-        insightsContainer.style.visibility = \"visible\";\r\n-      })\r\n-      .to(insightsContainer, {\r\n-        opacity: 1,\r\n-        duration: 0.5,\r\n-      })\r\n-      .to(\r\n-        billReviewPage,\r\n-        {\r\n-          backgroundColor: \"var(--color-bg-secondary)\",\r\n-          duration: 1,\r\n-        },\r\n-        \"-=0.5\"\r\n-      );\r\n-\r\n-    // Render insights after animations\r\n-    this.renderInsights();\r\n-  }\r\n-\r\n-  attachBaseStyles() {\r\n-    const style = document.createElement(\"style\");\r\n-    style.textContent = this.getBaseStyles();\r\n-    document.head.appendChild(style);\r\n-  }\r\n-\r\n-  getBaseStyles() {\r\n-    return `\r\n-      /* Base Theme Colors */\r\n-      :root {\r\n-        --color-primary: #3b82f6;\r\n-        --color-primary-dark: #2563eb;\r\n-        --color-primary-light: #93c5fd;\r\n-        --color-success: #10b981;\r\n-        --color-warning: #f59e0b;\r\n-        --color-error: #ef4444;\r\n-        --color-gray-50: #f8fafc;\r\n-        --color-gray-100: #f1f5f9;\r\n-        --color-gray-200: #e2e8f0;\r\n-        --color-gray-300: #cbd5e1;\r\n-        --color-gray-400: #94a3b8;\r\n-        --color-gray-500: #64748b;\r\n-        --color-gray-600: #475569;\r\n-        --color-gray-700: #334155;\r\n-        --color-gray-800: #1e293b;\r\n-        --color-gray-900: #0f172a;\r\n-      }\r\n-\r\n-      /* Loading Spinner */\r\n-      .loading-spinner {\r\n-        width: 40px;\r\n-        height: 40px;\r\n-        border: 4px solid var(--color-gray-200);\r\n-        border-left-color: var(--color-primary);\r\n-        border-radius: 50%;\r\n-        animation: spin 1s linear infinite;\r\n-      }\r\n-\r\n-      @keyframes spin {\r\n-        to { transform: rotate(360deg); }\r\n-      }\r\n-\r\n-      /* Card Styles */\r\n-      .insight-card {\r\n-        background: white;\r\n-        border-radius: 1rem;\r\n-        box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n-        transition: all 0.3s ease;\r\n-        border: 1px solid var(--color-gray-100);\r\n-      }\r\n-\r\n-      .insight-card:hover {\r\n-        transform: translateY(-2px);\r\n-        box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);\r\n-      }\r\n-\r\n-      /* Glass Effect */\r\n-      .glass-effect {\r\n-        background: rgba(255, 255, 255, 0.7);\r\n-        backdrop-filter: blur(10px);\r\n-        border: 1px solid rgba(255, 255, 255, 0.3);\r\n-      }\r\n-\r\n-      /* Custom Scrollbar */\r\n-      .custom-scrollbar {\r\n-        scrollbar-width: thin;\r\n-        scrollbar-color: var(--color-gray-300) transparent;\r\n-      }\r\n-\r\n-      .custom-scrollbar::-webkit-scrollbar {\r\n-        width: 6px;\r\n-      }\r\n-\r\n-      .custom-scrollbar::-webkit-scrollbar-track {\r\n-        background: transparent;\r\n-      }\r\n-\r\n-      .custom-scrollbar::-webkit-scrollbar-thumb {\r\n-        background-color: var(--color-gray-300);\r\n-        border-radius: 3px;\r\n-      }\r\n-\r\n-      /* Progress Bar */\r\n-      .progress-step {\r\n-        position: relative;\r\n-        z-index: 1;\r\n-      }\r\n-\r\n-      .progress-step::after {\r\n-        content: '';\r\n-        position: absolute;\r\n-        top: 50%;\r\n-        left: 100%;\r\n-        width: 100%;\r\n-        height: 2px;\r\n-        background: var(--color-gray-200);\r\n-        transform: translateY(-50%);\r\n-      }\r\n-\r\n-      .progress-step.active::after {\r\n-        background: var(--color-primary);\r\n-      }\r\n-\r\n-      /* Animated Gradients */\r\n-      .animated-gradient {\r\n-        background: linear-gradient(\r\n-          45deg,\r\n-          var(--color-primary),\r\n-          var(--color-primary-dark),\r\n-          var(--color-primary)\r\n-        );\r\n-        background-size: 200% 200%;\r\n-        animation: gradient 15s ease infinite;\r\n-      }\r\n-\r\n-      @keyframes gradient {\r\n-        0% { background-position: 0% 50%; }\r\n-        50% { background-position: 100% 50%; }\r\n-        100% { background-position: 0% 50%; }\r\n-      }\r\n-\r\n-      /* Responsive Design */\r\n-      @media (max-width: 1024px) {\r\n-        .insight-card {\r\n-          padding: 1rem;\r\n-        }\r\n-      }\r\n-\r\n-      @media (max-width: 768px) {\r\n-        #main-content {\r\n-          flex-direction: column;\r\n-        }\r\n-\r\n-        #bill-preview-container,\r\n-        #insights-container {\r\n-          width: 100%;\r\n-          height: 50%;\r\n-        }\r\n-      }\r\n-\r\n-      /* Chart Tooltips */\r\n-      .chart-tooltip {\r\n-        background: rgba(255, 255, 255, 0.95) !important;\r\n-        backdrop-filter: blur(4px);\r\n-        border: 1px solid var(--color-gray-200) !important;\r\n-        border-radius: 0.5rem !important;\r\n-        padding: 0.75rem !important;\r\n-        box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1) !important;\r\n-      }\r\n-    `;\r\n-  }\r\n-\r\n-  renderBillPreview() {\r\n-    if (!this.billData) {\r\n-      console.error(\"Bill data is not available\");\r\n-      this.renderError(document.getElementById(\"app\"));\r\n-      return;\r\n-    }\r\n-\r\n-    const billPreviewContainer = document.querySelector(\"#bill-preview\");\r\n-    if (!billPreviewContainer) {\r\n-      console.error(\"Bill preview container not found\");\r\n-      return;\r\n-    }\r\n-\r\n-    const billPreview = new BillPreview(this.billData);\r\n-    billPreview.render(billPreviewContainer);\r\n-  }\r\n-\r\n-  renderError(container) {\r\n-    container.innerHTML = `\r\n-        <div class=\"flex items-center justify-center h-screen\">\r\n-            <div class=\"text-center\">\r\n-                <h2 class=\"text-xl font-semibold text-gray-800 mb-2\">Error</h2>\r\n-                <p class=\"text-gray-600\">Bill data is not available. Please try again.</p>\r\n-                <button onclick=\"window.router.push('/')\" \r\n-                        class=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\">\r\n-                    Go Back\r\n-                </button>\r\n-            </div>\r\n-        </div>\r\n-    `;\r\n-  }\r\n-\r\n-  renderInsights() {\r\n-    const insightsContainer = document.querySelector(\"#insights-container\");\r\n-    if (!insightsContainer) return;\r\n-\r\n-    // Generate trend data for the last 6 months\r\n-    const trendData = this.generateTrendData();\r\n-\r\n-    insightsContainer.innerHTML = `\r\n-      <div class=\"h-full flex flex-col p-8 custom-scrollbar\">\r\n-        <!-- Header Section -->\r\n-        <div class=\"flex items-center space-x-4 mb-8 opacity-0\" id=\"insights-header\">\r\n-          <div class=\"flex-shrink-0\">\r\n-            <div class=\"w-12 h-12 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center\">\r\n-              <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n-                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n-              </svg>\r\n-            </div>\r\n-          </div>\r\n-          <div>\r\n-            <h2 class=\"text-2xl font-bold text-gray-900\">Bill Analysis</h2>\r\n-            <p class=\"text-gray-500\">Understanding your energy consumption</p>\r\n-          </div>\r\n-        </div>\r\n-  \r\n-        <!-- Progress Tracker -->\r\n-        <div class=\"glass-effect rounded-xl p-6 mb-8 opacity-0\" id=\"progress-tracker\">\r\n-          <div class=\"flex justify-between\">\r\n-            <div class=\"flex items-center\">\r\n-              <div class=\"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold\">1</div>\r\n-              <div class=\"ml-4\">\r\n-                <p class=\"font-semibold text-gray-900\">Bill Review</p>\r\n-                <p class=\"text-sm text-gray-500\">Analyzing consumption patterns</p>\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"w-32 h-0.5 self-center bg-gray-200\"></div>\r\n-            <div class=\"flex items-center\">\r\n-              <div class=\"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-400 font-semibold\">2</div>\r\n-              <div class=\"ml-4\">\r\n-                <p class=\"font-semibold text-gray-400\">Solar Quote</p>\r\n-                <p class=\"text-sm text-gray-400\">Up next</p>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-  \r\n-        <!-- Consumption Analysis Card -->\r\n-        <div class=\"insight-card p-6 mb-6 opacity-0\" id=\"consumption-card\">\r\n-          <div class=\"flex justify-between items-center mb-6\">\r\n-            <div>\r\n-              <h3 class=\"text-lg font-semibold text-gray-900\">Consumption Analysis</h3>\r\n-              <p class=\"text-sm text-gray-500\">Last 6 months trend</p>\r\n-            </div>\r\n-            <div class=\"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-sm font-medium\">\r\n-              ${this.formatChange(trendData)}% vs last month\r\n-            </div>\r\n-          </div>\r\n-          <div class=\"h-64\">\r\n-            <canvas id=\"consumption-trend-chart\"></canvas>\r\n-          </div>\r\n-        </div>\r\n-  \r\n-        <!-- Key Metrics Grid -->\r\n-        <div class=\"grid grid-cols-2 gap-6 mb-8\">\r\n-          <!-- Current Bill Card -->\r\n-          <div class=\"insight-card p-6 opacity-0 consumption-metric\">\r\n-            <div class=\"flex items-center justify-between mb-4\">\r\n-              <div class=\"w-12 h-12 rounded-lg bg-green-50 flex items-center justify-center\">\r\n-                <svg class=\"w-6 h-6 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n-                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n-                </svg>\r\n-              </div>\r\n-              <span class=\"px-2 py-1 bg-green-50 text-green-600 text-sm rounded-full\">Due in ${this.calculateDueDays()} days</span>\r\n-            </div>\r\n-            <p class=\"text-sm text-gray-500 mb-1\">Current Bill</p>\r\n-            <p class=\"text-2xl font-bold text-gray-900\">${this.formatCurrency(\r\n-              this.billData.totalAmount\r\n-            )}</p>\r\n-            <div class=\"mt-4 h-1 bg-gray-100 rounded\">\r\n-              <div class=\"h-full bg-green-500 rounded\" style=\"width: ${this.calculateBillProgress()}%\"></div>\r\n-            </div>\r\n-          </div>\r\n-  \r\n-          <!-- Units Consumed Card -->\r\n-          <div class=\"insight-card p-6 opacity-0 consumption-metric\">\r\n-            <div class=\"flex items-center justify-between mb-4\">\r\n-              <div class=\"w-12 h-12 rounded-lg bg-blue-50 flex items-center justify-center\">\r\n-                <svg class=\"w-6 h-6 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n-                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n-                </svg>\r\n-              </div>\r\n-              <span class=\"px-2 py-1 bg-blue-50 text-blue-600 text-sm rounded-full\">\r\n-                ${this.calculateEfficiency()} efficiency\r\n-              </span>\r\n-            </div>\r\n-            <p class=\"text-sm text-gray-500 mb-1\">Units Consumed</p>\r\n-            <p class=\"text-2xl font-bold text-gray-900\">${\r\n-              this.billData.unitsConsumed\r\n-            } kWh</p>\r\n-            <p class=\"text-sm text-gray-500 mt-2\">\r\n-              Rate: ${this.formatCurrency(this.billData.ratePerUnit)}/kWh\r\n-            </p>\r\n-          </div>\r\n-        </div>\r\n-  \r\n-        <!-- Next Steps Card -->\r\n-        <div class=\"mt-auto\">\r\n-          <div class=\"insight-card p-6 opacity-0\" id=\"next-steps-card\">\r\n-            <div class=\"absolute -top-3 -right-3\">\r\n-              <div class=\"w-16 h-16 animated-gradient rounded-full flex items-center justify-center\">\r\n-                <svg class=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n-                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n-                </svg>\r\n-              </div>\r\n-            </div>\r\n-            <div class=\"max-w-lg\">\r\n-              <h3 class=\"text-xl font-semibold text-gray-900 mb-2\">Ready For Your Solar Quote?</h3>\r\n-              <p class=\"text-gray-600 mb-6\">\r\n-                We've analyzed your consumption patterns. Let's see how much you could save with solar energy!\r\n-              </p>\r\n-              <button \r\n-                id=\"proceed-to-quote\" \r\n-                class=\"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 rounded-xl font-medium\r\n-                       hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-sm hover:shadow-lg\r\n-                       flex items-center justify-center gap-2 group\"\r\n-              >\r\n-                Generate My Solar Quote\r\n-                <svg class=\"w-5 h-5 transform group-hover:translate-x-1 transition-transform\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n-                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\r\n-                </svg>\r\n-              </button>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    `;\r\n-\r\n-    this.initializeCharts(trendData);\r\n-    this.startInsightAnimations();\r\n-    this.attachEventListeners();\r\n-  }\r\n-\r\n-  generateTrendData() {\r\n-    const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"];\r\n-    return months.map((month) => ({\r\n-      month,\r\n-      consumption: Math.floor(\r\n-        this.billData.unitsConsumed * (0.8 + Math.random() * 0.4)\r\n-      ),\r\n-    }));\r\n-  }\r\n-\r\n-  initializeCharts(trendData) {\r\n-    const ctx = document.getElementById(\"consumption-trend-chart\");\r\n-    if (!ctx) return;\r\n-\r\n-    this.charts.consumption = new Chart(ctx, {\r\n-      type: \"line\",\r\n-      data: {\r\n-        labels: trendData.map((d) => d.month),\r\n-        datasets: [\r\n-          {\r\n-            label: \"Consumption (kWh)\",\r\n-            data: trendData.map((d) => d.consumption),\r\n-            borderColor: \"#3b82f6\",\r\n-            backgroundColor: \"rgba(59, 130, 246, 0.1)\",\r\n-            tension: 0.4,\r\n-            fill: true,\r\n-            pointRadius: 6,\r\n-            pointHoverRadius: 8,\r\n-            pointBackgroundColor: \"#ffffff\",\r\n-            pointBorderColor: \"#3b82f6\",\r\n-            pointBorderWidth: 2,\r\n-          },\r\n-        ],\r\n-      },\r\n-      options: {\r\n-        responsive: true,\r\n-        maintainAspectRatio: false,\r\n-        plugins: {\r\n-          legend: {\r\n-            display: false,\r\n-          },\r\n-          tooltip: {\r\n-            backgroundColor: \"white\",\r\n-            titleColor: \"#1f2937\",\r\n-            bodyColor: \"#4b5563\",\r\n-            borderColor: \"#e5e7eb\",\r\n-            borderWidth: 1,\r\n-            padding: 12,\r\n-            titleFont: {\r\n-              size: 14,\r\n-              weight: \"bold\",\r\n-            },\r\n-            bodyFont: {\r\n-              size: 13,\r\n-            },\r\n-            displayColors: false,\r\n-            callbacks: {\r\n-              label: (context) => `${context.parsed.y.toLocaleString()} kWh`,\r\n-            },\r\n-          },\r\n-        },\r\n-        scales: {\r\n-          x: {\r\n-            grid: {\r\n-              display: false,\r\n-            },\r\n-            ticks: {\r\n-              font: {\r\n-                size: 12,\r\n-              },\r\n-            },\r\n-          },\r\n-          y: {\r\n-            beginAtZero: true,\r\n-            grid: {\r\n-              color: \"rgba(0, 0, 0, 0.05)\",\r\n-            },\r\n-            ticks: {\r\n-              font: {\r\n-                size: 12,\r\n-              },\r\n-              callback: (value) => `${value} kWh`,\r\n-            },\r\n-          },\r\n-        },\r\n-      },\r\n-    });\r\n-  }\r\n-\r\n-  startInsightAnimations() {\r\n-    gsap.to(\"#insights-header\", {\r\n-      opacity: 1,\r\n-      y: 0,\r\n-      duration: 0.6,\r\n-      ease: \"power2.out\",\r\n-    });\r\n-\r\n-    gsap.to(\"#progress-tracker\", {\r\n-      opacity: 1,\r\n-      y: 0,\r\n-      duration: 0.6,\r\n-      delay: 0.2,\r\n-      ease: \"power2.out\",\r\n-    });\r\n-\r\n-    gsap.to(\"#consumption-card\", {\r\n-      opacity: 1,\r\n-      y: 0,\r\n-      duration: 0.6,\r\n-      delay: 0.4,\r\n-      ease: \"power2.out\",\r\n-    });\r\n-\r\n-    gsap.to(\".consumption-metric\", {\r\n-      opacity: 1,\r\n-      y: 0,\r\n-      duration: 0.6,\r\n-      stagger: 0.2,\r\n-      delay: 0.6,\r\n-      ease: \"power2.out\",\r\n-    });\r\n-\r\n-    gsap.to(\"#next-steps-card\", {\r\n-      opacity: 1,\r\n-      y: 0,\r\n-      duration: 0.6,\r\n-      delay: 1,\r\n-      ease: \"power2.out\",\r\n-    });\r\n-  }\r\n-\r\n-  // Utility methods\r\n-  formatCurrency(value) {\r\n-    return new Intl.NumberFormat(\"en-PK\", {\r\n-      style: \"currency\",\r\n-      currency: \"PKR\",\r\n-      minimumFractionDigits: 0,\r\n-      maximumFractionDigits: 0,\r\n-    }).format(value);\r\n-  }\r\n-\r\n-  calculateDueDays() {\r\n-    const dueDate = new Date(this.billData.dueDate);\r\n-    const today = new Date();\r\n-    const diffTime = Math.abs(dueDate - today);\r\n-    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n-  }\r\n-\r\n-  calculateBillProgress() {\r\n-    const daysInMonth = 30;\r\n-    const today = new Date();\r\n-    const billDate = new Date(this.billData.issueDate);\r\n-    const daysPassed = Math.ceil((today - billDate) / (1000 * 60 * 60 * 24));\r\n-    return Math.min((daysPassed / daysInMonth) * 100, 100);\r\n-  }\r\n-\r\n-  calculateEfficiency() {\r\n-    const avgConsumption = 500; // Example average consumption\r\n-    const efficiency = (this.billData.unitsConsumed / avgConsumption) * 100;\r\n-    return efficiency <= 100 ? \"High\" : \"Low\";\r\n-  }\r\n-\r\n-  formatChange(data) {\r\n-    const lastTwo = data.slice(-2);\r\n-    const change =\r\n-      ((lastTwo[1].consumption - lastTwo[0].consumption) /\r\n-        lastTwo[0].consumption) *\r\n-      100;\r\n-    return change.toFixed(1);\r\n-  }\r\n-\r\n-  attachEventListeners() {\r\n-    const quoteButton = document.getElementById(\"proceed-to-quote\");\r\n-    if (quoteButton) {\r\n-      quoteButton.addEventListener(\"click\", () => {\r\n-        window.router.push(\"/quote\");\r\n-      });\r\n-    }\r\n-  }\r\n-}\r\n"
                },
                {
                    "date": 1731665632251,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,13 +73,10 @@\n       \"bill-preview-container\"\r\n     );\r\n     const insightsContainer = document.getElementById(\"insights-container\");\r\n     const loadingIndicator = document.getElementById(\"loading-indicator\");\r\n-    const billReviewPage = document.getElementById(\"bill-review-page\");\r\n+    const quoteResultPage = document.getElementById(\"quote-result-page\");\r\n \r\n-    // Hide insights container initially\r\n-    insightsContainer.style.visibility = \"hidden\";\r\n-\r\n     // Initial states\r\n     gsap.set([billPreviewContainer, loadingIndicator], {\r\n       opacity: 0,\r\n     });\r\n@@ -129,17 +126,16 @@\n         },\r\n         \"-=0.3\"\r\n       )\r\n       .call(() => {\r\n-        // Show insights container before its animation\r\n         insightsContainer.style.visibility = \"visible\";\r\n       })\r\n       .to(insightsContainer, {\r\n         opacity: 1,\r\n         duration: 0.5,\r\n       })\r\n       .to(\r\n-        billReviewPage,\r\n+        quoteResultPage,\r\n         {\r\n           backgroundColor: \"var(--color-bg-secondary)\",\r\n           duration: 1,\r\n         },\r\n"
                },
                {
                    "date": 1731665852374,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,39 +9,61 @@\n     this.billData = getBillData();\r\n     this.charts = {};\r\n   }\r\n \r\n+  addScrollStyles() {\r\n+    const style = document.createElement(\"style\");\r\n+    style.textContent = `\r\n+        .custom-scrollbar {\r\n+            scrollbar-width: thin;\r\n+            scrollbar-color: rgba(0, 0, 0, 0.2) transparent;\r\n+        }\r\n+\r\n+        .custom-scrollbar::-webkit-scrollbar {\r\n+            width: 6px;\r\n+        }\r\n+\r\n+        .custom-scrollbar::-webkit-scrollbar-track {\r\n+            background: transparent;\r\n+        }\r\n+\r\n+        .custom-scrollbar::-webkit-scrollbar-thumb {\r\n+            background-color: rgba(0, 0, 0, 0.2);\r\n+            border-radius: 3px;\r\n+        }\r\n+\r\n+        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\r\n+            background-color: rgba(0, 0, 0, 0.3);\r\n+        }\r\n+    `;\r\n+    document.head.appendChild(style);\r\n+  }\r\n+\r\n+  // Update the main container structure in render method\r\n   render() {\r\n     const app = document.getElementById(\"app\");\r\n \r\n-    if (!this.billData) {\r\n-      this.renderError(app);\r\n-      return;\r\n-    }\r\n-\r\n-    // First set invisible container\r\n     app.innerHTML = `\r\n-      <div class=\"h-screen w-screen bg-white transition-colors duration-1000 overflow-hidden opacity-0\" id=\"quote-result-page\">\r\n-          <!-- Main Content -->\r\n-          <div class=\"h-full w-full flex relative\" id=\"main-content\">\r\n-              <!-- Bill Preview Side -->\r\n-              <div class=\"w-1/2 h-full\" id=\"bill-preview-container\">\r\n-                  <div id=\"bill-preview\" class=\"h-full\"></div>\r\n-              </div>\r\n+        <div class=\"h-screen w-screen bg-white transition-colors duration-1000 overflow-hidden opacity-0\" id=\"quote-result-page\">\r\n+            <div class=\"h-full w-full flex relative\" id=\"main-content\">\r\n+                <!-- Bill Preview Side -->\r\n+                <div class=\"w-1/2 h-full overflow-hidden\" id=\"bill-preview-container\">  <!-- Added overflow-hidden -->\r\n+                    <div id=\"bill-preview\" class=\"h-full\"></div>\r\n+                </div>\r\n \r\n-              <!-- Loading Indicator -->\r\n-              <div class=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center z-10\" \r\n-                   id=\"loading-indicator\">\r\n-                  <div class=\"loading-spinner\"></div>\r\n-                  <p class=\"text-primary font-medium\">Analyzing your bill...</p>\r\n-              </div>\r\n+                <!-- Loading Indicator -->\r\n+                <div class=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center z-10\" \r\n+                     id=\"loading-indicator\">\r\n+                    <div class=\"loading-spinner\"></div>\r\n+                    <p class=\"text-primary font-medium\">Analyzing your bill...</p>\r\n+                </div>\r\n \r\n-              <!-- Insights Side -->\r\n-              <div class=\"w-1/2 h-full invisible\" id=\"insights-container\">\r\n-              </div>\r\n-          </div>\r\n-      </div>\r\n-  `;\r\n+                <!-- Insights Side -->\r\n+                <div class=\"w-1/2 h-full invisible overflow-hidden\" id=\"insights-container\">  <!-- Added overflow-hidden -->\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+    `;\r\n \r\n     this.attachBaseStyles();\r\n \r\n     // Use requestAnimationFrame to ensure styles are applied before starting\r\n"
                },
                {
                    "date": 1731665963185,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -359,9 +359,9 @@\n     // Generate trend data for the last 6 months\r\n     const trendData = this.generateTrendData();\r\n \r\n     insightsContainer.innerHTML = `\r\n-      <div class=\"h-full flex flex-col p-8 custom-scrollbar\">\r\n+      <div class=\"h-full flex flex-col p-8 overflow-y-auto custom-scrollbar\">\r\n         <!-- Header Section -->\r\n         <div class=\"flex items-center space-x-4 mb-8 opacity-0\" id=\"insights-header\">\r\n           <div class=\"flex-shrink-0\">\r\n             <div class=\"w-12 h-12 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center\">\r\n"
                },
                {
                    "date": 1731665997299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -457,9 +457,9 @@\n         </div>\r\n   \r\n         <!-- Next Steps Card -->\r\n         <div class=\"mt-auto\">\r\n-          <div class=\"insight-card p-6 opacity-0\" id=\"next-steps-card\">\r\n+          <div class=\"insight-card p-6 opacity-0 relative\" id=\"next-steps-card\">\r\n             <div class=\"absolute -top-3 -right-3\">\r\n               <div class=\"w-16 h-16 animated-gradient rounded-full flex items-center justify-center\">\r\n                 <svg class=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                   <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n"
                },
                {
                    "date": 1731666034285,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -490,8 +490,9 @@\n \r\n     this.initializeCharts(trendData);\r\n     this.startInsightAnimations();\r\n     this.attachEventListeners();\r\n+    this.addScrollStyles();\r\n   }\r\n \r\n   generateTrendData() {\r\n     const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"];\r\n"
                },
                {
                    "date": 1731666166165,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -466,20 +466,20 @@\n                 </svg>\r\n               </div>\r\n             </div>\r\n             <div class=\"max-w-lg\">\r\n-              <h3 class=\"text-xl font-semibold text-gray-900 mb-2\">Ready For Your Solar Quote?</h3>\r\n-              <p class=\"text-gray-600 mb-6\">\r\n+              <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">Ready For Your Solar Quote?</h3> <!-- Reduced from text-xl -->\r\n+              <p class=\"text-sm text-gray-600 mb-4\">\r\n                 We've analyzed your consumption patterns. Let's see how much you could save with solar energy!\r\n               </p>\r\n               <button \r\n                 id=\"proceed-to-quote\" \r\n-                class=\"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 rounded-xl font-medium\r\n+                class=\"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 py-3 rounded-xl font-medium\r\n                        hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-sm hover:shadow-lg\r\n                        flex items-center justify-center gap-2 group\"\r\n               >\r\n                 Generate My Solar Quote\r\n-                <svg class=\"w-5 h-5 transform group-hover:translate-x-1 transition-transform\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+                <svg class=\"w-4 h-4 transform group-hover:translate-x-1 transition-transform\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                   <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\r\n                 </svg>\r\n               </button>\r\n             </div>\r\n@@ -490,9 +490,8 @@\n \r\n     this.initializeCharts(trendData);\r\n     this.startInsightAnimations();\r\n     this.attachEventListeners();\r\n-    this.addScrollStyles();\r\n   }\r\n \r\n   generateTrendData() {\r\n     const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"];\r\n"
                },
                {
                    "date": 1731666206032,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -457,12 +457,12 @@\n         </div>\r\n   \r\n         <!-- Next Steps Card -->\r\n         <div class=\"mt-auto\">\r\n-          <div class=\"insight-card p-6 opacity-0 relative\" id=\"next-steps-card\">\r\n-            <div class=\"absolute -top-3 -right-3\">\r\n-              <div class=\"w-16 h-16 animated-gradient rounded-full flex items-center justify-center\">\r\n-                <svg class=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+          <div class=\"insight-card p-4 opacity-0 relative\" id=\"next-steps-card\"> <!-- Reduced padding -->\r\n+            <div class=\"absolute -top-2 -right-2\"> <!-- Adjusted position -->\r\n+              <div class=\"w-12 h-12 animated-gradient rounded-full flex items-center justify-center\"> <!-- Reduced from w-16 h-16 -->\r\n+                <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                   <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n                 </svg>\r\n               </div>\r\n             </div>\r\n"
                },
                {
                    "date": 1731666292272,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -413,14 +413,14 @@\n           </div>\r\n         </div>\r\n   \r\n         <!-- Key Metrics Grid -->\r\n-        <div class=\"grid grid-cols-2 gap-6 mb-8\">\r\n+        <div class=\"grid grid-cols-2 gap-4 mb-4\"> <!-- Reduced gap and margin -->\r\n           <!-- Current Bill Card -->\r\n-          <div class=\"insight-card p-6 opacity-0 consumption-metric\">\r\n-            <div class=\"flex items-center justify-between mb-4\">\r\n-              <div class=\"w-12 h-12 rounded-lg bg-green-50 flex items-center justify-center\">\r\n-                <svg class=\"w-6 h-6 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+          <div class=\"insight-card p-4 opacity-0 consumption-metric\"> <!-- Reduced padding -->\r\n+            <div class=\"flex items-center justify-between mb-2\"> <!-- Reduced margin -->\r\n+              <div class=\"w-8 h-8 rounded-lg bg-green-50 flex items-center justify-center\"> <!-- Reduced size -->\r\n+                <svg class=\"w-4 h-4 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                   <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                 </svg>\r\n               </div>\r\n               <span class=\"px-2 py-1 bg-green-50 text-green-600 text-sm rounded-full\">Due in ${this.calculateDueDays()} days</span>\r\n"
                },
                {
                    "date": 1731666343535,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -359,57 +359,57 @@\n     // Generate trend data for the last 6 months\r\n     const trendData = this.generateTrendData();\r\n \r\n     insightsContainer.innerHTML = `\r\n-      <div class=\"h-full flex flex-col p-8 overflow-y-auto custom-scrollbar\">\r\n-        <!-- Header Section -->\r\n-        <div class=\"flex items-center space-x-4 mb-8 opacity-0\" id=\"insights-header\">\r\n+      <div class=\"h-full flex flex-col p-6\">  <!-- Reduced padding from p-8 to p-6 -->\r\n+        <!-- Header Section - reduced margin -->\r\n+        <div class=\"flex items-center space-x-4 mb-4 opacity-0\" id=\"insights-header\">\r\n           <div class=\"flex-shrink-0\">\r\n-            <div class=\"w-12 h-12 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center\">\r\n-              <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n+            <div class=\"w-10 h-10 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center\"> <!-- Reduced from w-12 h-12 -->\r\n+              <svg class=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                 <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n               </svg>\r\n             </div>\r\n           </div>\r\n           <div>\r\n-            <h2 class=\"text-2xl font-bold text-gray-900\">Bill Analysis</h2>\r\n-            <p class=\"text-gray-500\">Understanding your energy consumption</p>\r\n+            <h2 class=\"text-xl font-bold text-gray-900\">Bill Analysis</h2> <!-- Reduced from text-2xl -->\r\n+            <p class=\"text-sm text-gray-500\">Understanding your energy consumption</p>\r\n           </div>\r\n         </div>\r\n   \r\n-        <!-- Progress Tracker -->\r\n-        <div class=\"glass-effect rounded-xl p-6 mb-8 opacity-0\" id=\"progress-tracker\">\r\n+        <!-- Progress Tracker - reduced padding and margin -->\r\n+        <div class=\"glass-effect rounded-xl p-4 mb-4 opacity-0\" id=\"progress-tracker\"> <!-- Reduced padding and margin -->\r\n           <div class=\"flex justify-between\">\r\n             <div class=\"flex items-center\">\r\n-              <div class=\"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold\">1</div>\r\n-              <div class=\"ml-4\">\r\n+              <div class=\"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold\">1</div> <!-- Reduced from w-10 h-10 -->\r\n+              <div class=\"ml-3\"> <!-- Reduced margin -->\r\n                 <p class=\"font-semibold text-gray-900\">Bill Review</p>\r\n-                <p class=\"text-sm text-gray-500\">Analyzing consumption patterns</p>\r\n+                <p class=\"text-xs text-gray-500\">Analyzing consumption patterns</p> <!-- Reduced from text-sm -->\r\n               </div>\r\n             </div>\r\n             <div class=\"w-32 h-0.5 self-center bg-gray-200\"></div>\r\n             <div class=\"flex items-center\">\r\n-              <div class=\"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-400 font-semibold\">2</div>\r\n-              <div class=\"ml-4\">\r\n+              <div class=\"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-400 font-semibold\">2</div>\r\n+              <div class=\"ml-3\">\r\n                 <p class=\"font-semibold text-gray-400\">Solar Quote</p>\r\n-                <p class=\"text-sm text-gray-400\">Up next</p>\r\n+                <p class=\"text-xs text-gray-400\">Up next</p>\r\n               </div>\r\n             </div>\r\n           </div>\r\n         </div>\r\n   \r\n-        <!-- Consumption Analysis Card -->\r\n-        <div class=\"insight-card p-6 mb-6 opacity-0\" id=\"consumption-card\">\r\n-          <div class=\"flex justify-between items-center mb-6\">\r\n+        <!-- Consumption Analysis Card - reduced height -->\r\n+        <div class=\"insight-card p-4 mb-4 opacity-0\" id=\"consumption-card\"> <!-- Reduced padding and margin -->\r\n+          <div class=\"flex justify-between items-center mb-3\"> <!-- Reduced margin -->\r\n             <div>\r\n-              <h3 class=\"text-lg font-semibold text-gray-900\">Consumption Analysis</h3>\r\n-              <p class=\"text-sm text-gray-500\">Last 6 months trend</p>\r\n+              <h3 class=\"text-base font-semibold text-gray-900\">Consumption Analysis</h3> <!-- Reduced from text-lg -->\r\n+              <p class=\"text-xs text-gray-500\">Last 6 months trend</p>\r\n             </div>\r\n-            <div class=\"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-sm font-medium\">\r\n+            <div class=\"px-2 py-1 bg-blue-50 text-blue-600 rounded-full text-xs font-medium\">\r\n               ${this.formatChange(trendData)}% vs last month\r\n             </div>\r\n           </div>\r\n-          <div class=\"h-64\">\r\n+          <div class=\"h-48\"> <!-- Reduced from h-64 -->\r\n             <canvas id=\"consumption-trend-chart\"></canvas>\r\n           </div>\r\n         </div>\r\n   \r\n"
                }
            ],
            "date": 1731478811255,
            "name": "Commit-0",
            "content": "import { gsap } from \"gsap\";\r\nimport { getBillData }  from \"../store/solarSizingState\";"
        }
    ]
}